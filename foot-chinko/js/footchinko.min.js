var SoundTrack,FootChinko,__extends=this&&this.__extends||function(){var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(e,t){function a(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}}();!function(s){var e=function(t){function a(){var e=t.call(this,s.GameConstants.GAME_WIDTH,s.GameConstants.GAME_HEIGHT,Phaser.AUTO,"content",null,!1,!0)||this;return(a.currentInstance=e).state.add("PreLoader",s.PreLoader,!1),e.state.add("SplashState",s.SplashState,!1),e.state.add("FootballFieldState",s.FootballFieldState,!1),e.state.add("PenaltyFootballFieldState",s.PenaltyFootballFieldState,!1),e.state.add("MatchResultState",s.MatchResultState,!1),e.state.add("TrophyState",s.TrophyState,!1),e.state.add("TeamSelectionState",s.TeamSelectionState,!1),e.state.add("StatsState",s.StatsState,!1),e.state.add("DailyRewardState",s.DailyRewardState,!1),e.state.add("CreditsState",s.CreditsState,!1),e.state.add("Boot",s.Boot,!0),e}return __extends(a,t),a}(Phaser.Game);s.Game=e}(FootChinko||(FootChinko={})),window.onload=function(){new FootChinko.Game},function(e){e[e.GAME_SOUNDTRACK=0]="GAME_SOUNDTRACK",e[e.MENUS=1]="MENUS",e[e.PENALTY=2]="PENALTY",e[e.EXTRA_TIME=3]="EXTRA_TIME"}(SoundTrack||(SoundTrack={})),function(t){var e=function(){function e(){if(e._instance)throw new Error("Error: Instantiation failed: Use AudioManager.getInstance() instead of new.");this.musicPlayingIndex=null,this.musicOnButton=null,this.musicOffButton=null,this.fxOnButton=null,this.fxOffButton=null,this.volume=1,this.musicsArray=new Array,e._instance=this}return e.getInstance=function(){return null===e._instance&&(e._instance=new e),e._instance},e.prototype.init=function(e){this.game=e,t.GameConstants.DEVELOPMENT?(this._isMusicMuted=!0,this._areEffectsMuted=!0):(this._isMusicMuted=t.GameVars.gameData.audioState[0],this._areEffectsMuted=t.GameVars.gameData.audioState[1]),this.musicsArray[SoundTrack.GAME_SOUNDTRACK]=this.game.add.audio("soundtrack",1,!0),this.musicsArray[SoundTrack.MENUS]=this.game.add.audio("musica_menus",1,!0),this.musicsArray[SoundTrack.PENALTY]=this.game.add.audio("musica_penalty",1,!0),this.musicsArray[SoundTrack.EXTRA_TIME]=this.game.add.audio("musica_prorroga",1,!0),this.audioSprite=this.game.add.audioSprite("audio_effects")},e.prototype.playMusic=function(e){if(null!==e&&(this.musicPlayingIndex=e,!this._isMusicMuted)){var t=this.musicsArray[this.musicPlayingIndex];null==t||t.isPlaying||t.play("",0,this.volume,!0,!0)}},e.prototype.stopMusic=function(e){if(null!==e){var t=this.musicsArray[e];null!=t&&t.isPlaying&&t.stop()}},e.prototype.setVolumePlayingMusic=function(e){this.volume=e;var t=this.musicsArray[this.musicPlayingIndex];t&&(t.volume=this.volume)},e.prototype.playEffect=function(e){null===e||this._areEffectsMuted||(this.effectPlayingKey=e,this.audioSprite.play(e,this.volume))},e.prototype.setAudioState=function(e){e?(this.stopMusic(this.musicPlayingIndex),this.stopEffect(this.effectPlayingKey),this.isMusicMuted=!0,this.areEffectsMuted=!0,this.musicOnButton&&(this.musicOnButton.visible=!1),this.musicOffButton&&(this.musicOffButton.visible=!0),this.fxOnButton&&(this.fxOnButton.visible=!1),this.fxOffButton&&(this.fxOffButton.visible=!0)):(this.isMusicMuted=!1,this.areEffectsMuted=!1,this.playMusic(this.musicPlayingIndex),this.musicOnButton&&(this.musicOnButton.visible=!0),this.musicOffButton&&(this.musicOffButton.visible=!1),this.fxOnButton&&(this.fxOnButton.visible=!0),this.fxOffButton&&(this.fxOffButton.visible=!1)),t.GameVars.gameData.audioState=[this._isMusicMuted,this._areEffectsMuted]},e.prototype.stopEffect=function(e){null!==e&&this.audioSprite.stop(e)},e.prototype.muteAudio=function(){this.setAudioState(!0)},e.prototype.unmuteAudio=function(){this.setAudioState(!1)},Object.defineProperty(e.prototype,"isMusicMuted",{get:function(){return this._isMusicMuted},set:function(e){this._isMusicMuted=e,this._isMusicMuted?this.pauseMusic():this.resumeMusic(),t.GameVars.gameData.audioState=[this._isMusicMuted,this._areEffectsMuted],t.GameManager.writeGameStorage()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"areEffectsMuted",{get:function(){return this._areEffectsMuted},set:function(e){this._areEffectsMuted=e,this._areEffectsMuted?(this._areEffectsMuted=!0,this.stopEffect(this.effectPlayingKey)):this._areEffectsMuted=!1,t.GameVars.gameData.audioState=[this._isMusicMuted,this._areEffectsMuted],t.GameManager.writeGameStorage()},enumerable:!0,configurable:!0}),e.prototype.pauseMusic=function(){var e=this.musicsArray[this.musicPlayingIndex];e&&e.pause()},e.prototype.resumeMusic=function(){var e=this.musicsArray[this.musicPlayingIndex];null!=e&&(e.paused?e.resume():e.play("",0,this.volume,!0,!0))},e}();e._instance=null,t.AudioManager=e}(FootChinko||(FootChinko={})),function(i){var e=function(s){function n(e,t){var a=s.call(this,e,null,"background-manager",!1)||this;return a.goalGlow=new Phaser.Image(a.game,i.GameConstants.GAME_WIDTH/2,(1-i.GameVars.scaleY*i.GameVars.fieldCorrectionScaleY)*i.GameConstants.GAME_HEIGHT/2+i.GameConstants.GAME_HEIGHT*i.GameVars.scaleY*i.GameVars.fieldCorrectionScaleY,"texture_atlas_1","rays_goal"),a.goalGlow.scale.set(2.25,3.5),a.goalGlow.anchor.set(.5,1.1),a.goalGlow.visible=!1,a.backgroundImage=new Phaser.Image(a.game,i.GameConstants.GAME_WIDTH/2,i.GameConstants.GAME_HEIGHT/2,"lawn-background"),a.backgroundImage.anchor.set(.5),a.backgroundImage.scale.y=i.GameVars.scaleY*i.GameVars.fieldCorrectionScaleY,t===n.PENALTY&&(a.backgroundImage.scale.setTo(n.PENALTY_BACKGROUND_SCALE,n.PENALTY_BACKGROUND_SCALE),a.backgroundImage.anchor.setTo(.5,.865),a.backgroundImage.y=830,a.goalGlow.y=830),a.add(a.backgroundImage),a.add(a.goalGlow),a}return __extends(n,s),n.prototype.pulseBackgroundAlpha=function(){1===this.backgroundImage.alpha?this.backgroundImage.alpha=.8:this.backgroundImage.alpha=1},n.prototype.onGoal=function(){this.goalGlow.visible=!0,this.game.add.tween(this.goalGlow).to({alpha:0},600,Phaser.Easing.Cubic.Out,!0).onComplete.add(this.removeGoalGlow,this)},n.prototype.onVoodoo=function(){this.game.time.events.add(400,this.illuminate,this)},n.prototype.removeGoalGlow=function(){this.goalGlow.visible=!1,this.goalGlow.alpha=1},n.prototype.illuminate=function(){this.backgroundImage.blendMode=2,this.game.time.events.add(150,this.resetBackground,this)},n.prototype.resetBackground=function(){this.backgroundImage.blendMode=0},n}(Phaser.Group);e.PENALTY="penalty",e.PENALTY_BACKGROUND_SCALE=1.65,i.BackgroundManager=e}(FootChinko||(FootChinko={})),function(d){var e=function(h){function c(e){var t=h.call(this,e,null,"balls-manager",!1)||this,a=5*(d.GameVars.playerID-1)+1,s="delantero_"+d.GameVars.formatNumberForTextureAtlas(a);t.shooterImageAiming=new Phaser.Image(t.game,c.KICKOFF_PX,c.KICKOFF_PY-150,""+d.GameVars.playerID,s),t.shooterImageAiming.anchor.setTo(.5),t.shooterImageAiming.visible=!1,t.add(t.shooterImageAiming);var n=5*(d.GameVars.playerID-1)+5,i="delantero_"+d.GameVars.formatNumberForTextureAtlas(n);t.shooterShootingImage=new Phaser.Image(t.game,c.KICKOFF_PX,c.KICKOFF_PY,""+d.GameVars.playerID,i),t.shooterShootingImage.anchor.setTo(.5),t.shooterShootingImage.visible=!1,t.add(t.shooterShootingImage);var o=5*(d.GameVars.playerID-1)+2,r="delantero_"+d.GameVars.formatNumberForTextureAtlas(o);t.shooterIdleImage=new Phaser.Image(t.game,c.KICKOFF_PX,c.KICKOFF_PY,""+d.GameVars.playerID,r),t.shooterIdleImage.anchor.set(.5),t.shooterIdleImage.visible=!1,t.add(t.shooterIdleImage),t.ballAttachedToForward=new Phaser.Sprite(t.game,0,60,"texture_atlas_2");var l=d.GameVars.tournamentData;return l.name===d.GameConstants.OCEANIA_CUP?t.ballAttachedToForwardFrameName="balon_oceania_cup":l.name===d.GameConstants.AFRICA_CUP?t.ballAttachedToForwardFrameName="balon_africa_cup":l.name===d.GameConstants.ASIAN_CUP?t.ballAttachedToForwardFrameName="balon_asia_cup":l.name===d.GameConstants.GOLD_CUP?t.ballAttachedToForwardFrameName="balon_gold_cup":l.name===d.GameConstants.AMERICA_CUP?t.ballAttachedToForwardFrameName="balon_america_cup":l.name===d.GameConstants.OLYMPIC_GAMES?t.ballAttachedToForwardFrameName="balon_olympics":l.name===d.GameConstants.EUROCUP?t.ballAttachedToForwardFrameName="balon_eurocup":l.name===d.GameConstants.CONFEDERATIONS_CUP?t.ballAttachedToForwardFrameName="balon_confederations":l.name===d.GameConstants.WORLD_CUP&&(t.ballAttachedToForwardFrameName="balon_world_cup"),t.ballAttachedToForward.frameName=t.ballAttachedToForwardFrameName,t.ballAttachedToForward.anchor.set(.5),t.shooterImageAiming.addChild(t.ballAttachedToForward),t.shooterImageAiming.angle=-80,t.shooterTween=t.game.add.tween(t.shooterImageAiming),t.shooterTween.to({angle:80},1e3,Phaser.Easing.Quadratic.InOut,!0,0,-1,!0),t.shooterTween.pause(),t.shooterMoving=!1,d.GameVars.isShooterReady=!1,t.game.onPause.add(t.onGamePaused,t),t.game.onResume.add(t.onGameResumed,t),t}return __extends(c,h),c.prototype.destroy=function(e,t){this.game.onPause.remove(this.onGamePaused,this),this.game.onResume.remove(this.onGameResumed,this),h.prototype.destroy.call(this,e,t)},c.prototype.update=function(){h.prototype.update.call(this),this.shooterMoving&&(this.shooterIdleImage.y+=this.shooterDeltaY,this.shooterImageAiming.y+=this.shooterDeltaY,this.shooterDeltaY<0?this.shooterIdleImage.y<this.shooterlimitY&&(this.shooterIdleImage.visible=!1,this.shooterMoving=!1):this.shooterImageAiming.y>this.shooterlimitY&&(d.GameVars.isShooterReady=!0,this.shooterTween.resume(),this.shooterMoving=!1))},c.prototype.start=function(){this.shooterMoving||(this.shooterMoving=!0,this.shooterDeltaY=8,this.shooterlimitY=c.KICKOFF_PY,this.shooterImageAiming.y=-150,this.shooterIdleImage.y=-150,this.shooterImageAiming.visible=!0,this.ballAttachedToForward.visible=!0,this.shooterIdleImage.visible=!1,"balon_fuego"===this.ballAttachedToForward.frameName&&(this.ballAttachedToForward.frameName=this.ballAttachedToForwardFrameName),this.ball=new d.Ball(this.game,c.KICKOFF_PX,c.KICKOFF_PY),this.ball.visible=!1,this.addAt(this.ball,0))},c.prototype.kickOff=function(){d.GameVars.isShooterReady=!1,this.shooterImageAiming.visible=!1,this.ballAttachedToForward.visible=!1,this.shooterShootingImage.angle=this.shooterImageAiming.angle,this.shooterShootingImage.visible=!0,this.ball.visible=!0,this.ball.initPhysics();var e=Math.PI/180*(this.shooterImageAiming.angle+90);this.ball.body.velocity.x=900*Math.cos(e),this.ball.body.velocity.y=900*Math.sin(e),this.ball.body.angularVelocity=.5<Math.random()?-10:10,this.game.time.events.add(200,this.hideShooter,this),d.AudioManager.getInstance().playEffect("chuta_chutador")},c.prototype.onExtraBall=function(e,t,a){var s=new d.Ball(this.game,e,t,!0);s.initPhysics(),a&&s.setOnFire(),this.add(s)},c.prototype.onBallOnFireSelected=function(){this.ball.setOnFire(),this.ballAttachedToForward.frameName="balon_fuego"},c.prototype.onGamePaused=function(){this.shooterImageAiming.visible&&this.shooterTween.pause()},c.prototype.onGameResumed=function(){this.shooterImageAiming.visible&&this.shooterTween.resume()},c.prototype.shootBall=function(e,t,a,s,n,i){this.ball=new d.Ball(this.game,e,t,i),this.ball.initPhysics(),n&&this.ball.setOnFire(),this.add(this.ball);var o=Math.PI/180*a,r=s?1600:700;this.ball.body.velocity.x=r*Math.cos(o),this.ball.body.velocity.y=r*Math.sin(o)},c.prototype.hideShooter=function(){this.shooterTween.pause(),this.shooterShootingImage.visible=!1,this.shooterImageAiming.visible=!1,this.shooterIdleImage.visible=!0,this.shooterIdleImage.y=c.KICKOFF_PY,this.shooterDeltaY=-7,this.shooterlimitY=-150,this.shooterMoving=!0},c}(Phaser.Group);e.KICKOFF_PX=384,e.KICKOFF_PY=55,e.RETURN_TO_KICKOFF_PY=-50,d.BallsManager=e}(FootChinko||(FootChinko={})),function(a){var e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(){t.currentInstance=this},t.prototype.create=function(){this.input.maxPointers=1,this.game.stage.disableVisibilityChange=!1,this.game.stage.backgroundColor="#000000",this.game.device.desktop?(a.GameVars.scaleY=1,a.GameVars.fieldCorrectionScaleY=1,this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.pageAlignHorizontally=!0):(this.game.scale.scaleMode=Phaser.ScaleManager.EXACT_FIT,a.GameVars.aspectRatio=window.innerHeight/window.innerWidth,a.GameVars.scaleY=4/3/a.GameVars.aspectRatio,a.GameVars.aspectRatio<1.45?a.GameVars.fieldCorrectionScaleY=1:a.GameVars.aspectRatio<1.55?a.GameVars.fieldCorrectionScaleY=1.075:a.GameVars.fieldCorrectionScaleY=1.1,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,this.game.scale.forceOrientation(!1,!0),this.game.scale.enterIncorrectOrientation.add(this.enterIncorrectOrientation,this),this.game.scale.leaveIncorrectOrientation.add(this.leaveIncorrectOrientation,this)),this.game.renderer.clearBeforeRender=!1,a.GameConstants.DEVELOPMENT&&(this.game.time.advancedTiming=!0),this.game.physics.startSystem(Phaser.Physics.P2JS),this.game.physics.p2.gravity.y=1300,this.game.physics.p2.setBoundsToWorld(!1,!1,!1,!1),this.game.device.safari&&!this.isLocalStorageNameSupported()&&alert("This game uses local storage. It doesn't support private browsing"),a.GameVars.getInstance().init(this.game),a.GameManager.init(this.game)},t.prototype.isLocalStorageNameSupported=function(){var e=window.sessionStorage;try{return e.setItem("test","1"),e.removeItem("test"),!0}catch(e){return!1}},t.prototype.enterIncorrectOrientation=function(){document.getElementById("orientation").style.display="block"},t.prototype.leaveIncorrectOrientation=function(){document.getElementById("orientation").style.display="none"},t}(Phaser.State);a.Boot=e}(FootChinko||(FootChinko={})),function(e){var t=function(){};t.VERSION="1.0",t.ASSETS_DIRECTORY="assets",t.DEVELOPMENT=!1,t.SHOW_PHYSICS_BODIES=!1,t.ALPHA_PHYSICS_BODIES=1,t.VERBOSE=!1,t.GAME_WIDTH=768,t.GAME_HEIGHT=1024,t.MINIJUEGOS="minijuegos.com",t.SPIL="spilgames",t.GAMEPIX="GamePix",t.KEYGAMES="keygames",t.FAMOBI="famobi",t.CLICKJOGOS="clickjogos",t.IDAY="iDay",t.BOOSTERMEDIA="boostermedia",t.BUONGIORNO="buongiorno",t.MYREALGAMES="My Real GAMES",t.WUKI="WuKi",t.ADMEEN="Admeen",t.MYFOOTBALLGAMES="MyFootballGames",t.YOOB="yoob",t.HOLAVERSE="holaverse",t.MARVEL_MEDIA="Marvel Media",t.GAMEZOP="gamezop",t.GAME_DISTRIBUTION="game distribution",t.LAGGED="lagged",t.FUNO="funo",t.POKI="poki",t.KAPOW="kapow",t.LOGICIEL_EDUCATIF="logiciel educatif",t.NONE="none",t.SPONSOR=t.POKI,t.CREDITS_ACHIEVED_TROPHY=1e3,t.CREDITS_GOALS=25,t.CREDITS_EXTRA_GOALS=75,t.FREEZE_GOALKEEPER_PRICE=1500,t.EXTRA_BALLS_PRICE=2500,t.BALL_OF_FIRE_PRICE=5750,t.VOODOO_PRICE=7500,t.HIGH_DAILY_REWARD_CREDITS=3e3,t.MEDIUM_DAILY_REWARD_CREDITS=1500,t.LOW_DAILY_REWARD_CREDITS=500,t.HIGH_CREDITS_REWARD="high_credits_reward",t.MEDIUM_CREDITS_REWARD="medium_credits_reward",t.LOW_CREDITS_REWARD="low_credits_reward",t.FREEZE_GOALKEEPER_REWARD="freeze_goalkeeper_reward",t.THREE_EXTRA_BALLS_REWARD="3_extra_balls_reward",t.BALL_OF_FIRE_REWARD="ball_of_fire",t.VOODOO_REWARD="voodoo_reward",t.NOTHING_REWARD="nothing_reward",t.ENGLISH="en",t.LANGUAGE=t.ENGLISH,t.DEFAULT_PLAYER_TEAM_ID=54,t.DEFAULT_ADVERSARY_TEAM_ID=7,t.VICTORY="1",t.DRAW="X",t.DEFEAT="2",t.OCEANIA_CUP="OCEANIA CUP",t.AFRICA_CUP="AFRICA CUP",t.ASIAN_CUP="ASIAN CUP",t.GOLD_CUP="GOLD CUP",t.AMERICA_CUP="AMERICA CUP",t.OLYMPIC_GAMES="OLYMPIC GAMES",t.EUROCUP="EURO CUP",t.CONFEDERATIONS_CUP="CONFEDERATIONS CUP",t.WORLD_CUP="WORLD CUP",t.FINAL_MATCH="FINAL",t.SEMIFINAL_MATCH="SEMIFINAL",t.QUARTERFINAL_MATCH="QUARTERFINAL",t.ROUND_OF_16_MATCH="ROUND OF 16",t.GROUP_STAGE_MATCH="GROUP STAGE",t.QUALIFICATION="QUALIFICATION",t.FREEZE_GOALKEEPER="freeze goalkeeper",t.EXTRA_BALLS="extra balls",t.BALL_OF_FIRE="ball of fire",t.VOODOO="voodoo",t.GOALKEEPER="goalkeeper",t.ELECTRIC_GOALKEEPER="e_goalkeeper",t.FROZEN_GOALKEEPER="f_goalkeeper",t.DUCK="duck",t.UPPER_SHOCK_ABSORBER="upper_shock_absorber",t.POSTS="post",t.BALL="ball",t.PEG="peg",t.PEG_1="p_1",t.PEG_2="p_2",t.PEG_3="p_3",t.PEG_4="p_4",t.SOLID_PEG="s_p",t.ELASTIC_PEG="ep",t.ELASTIC_PEG_RIGHT="e_p_r",t.ELASTIC_PEG_LEFT="e_p_l",t.MIDFIELDER_PEG="mid_peg",t.MIDFIELDER_PEG_RIGHT="m_p_r",t.MIDFIELDER_PEG_LEFT="m_p_l",t.MIDFIELDER_PEG_RIGHT_MOVING_VERTICALLY_1="m_p_r_v_1",t.MIDFIELDER_PEG_RIGHT_MOVING_VERTICALLY_2="m_p_r_v_2",t.MIDFIELDER_PEG_RIGHT_MOVING_HORIZONTALLY_1="m_p_r_h_1",t.MIDFIELDER_PEG_RIGHT_MOVING_HORIZONTALLY_2="m_p_r_h_2",t.FORWARD_PEG="f_peg",t.FORWARD_PEG_PENALTY="f_peg_P",t.FORWARD_PEG_RIGHT="f_p_r",t.FORWARD_PEG_LEFT="f_p_l",t.FORWARD_PEG_RIGHT_MOVING_VERTICALLY_1="f_p_r_v_1",t.FORWARD_PEG_RIGHT_MOVING_VERTICALLY_2="f_p_r_v_2",t.FORWARD_PEG_RIGHT_MOVING_HORIZONTALLY_1="f_p_r_h_1",t.FORWARD_PEG_RIGHT_MOVING_HORIZONTALLY_2="f_p_r_h_2",t.CACTUS_PEG="c_p",t.STREAKER="striker",t.PLANK="plank",t.CACTUS_PLANK="c_pl",t.SOLID_PLANK="s_pl",t.BREAKABLE_PLANK_1="b_p_1",t.BREAKABLE_PLANK_2="b_p_2",t.BREAKABLE_PLANK_3="b_p_3",t.BREAKABLE_PLANK_4="b_p_4",t.BLADE="blade",t.BLADE_CW="b_cw",t.BLADE_CCW="b_ccw",t.MOVING_PLATFORM_RIGHT="m_pl_r",t.MOVING_PLATFORM_LEFT="m_pl_l",t.EXTRA_BALL="e_b",t.MAGIC_POTION="m_p",t.DAILY_REWARD_ITEM="d_r_i",t.GAME_STORAGE_DATA_KEY="footchinko_data",e.GameConstants=t}(FootChinko||(FootChinko={})),function(r){var e=function(){function o(){}return o.init=function(e){o.game=e,o.lastPlayerTeamID=null,o.lastAdversaryTeamID=null,r.GameVars.tournamentJustUnlocked=!1,r.GameVars.matchJustUnlocked=!1,r.GameVars.playerID=r.GameConstants.DEFAULT_PLAYER_TEAM_ID,r.GameVars.adversaryID=r.GameConstants.DEFAULT_ADVERSARY_TEAM_ID,r.GameVars.playerGoals=3,r.GameVars.adversaryGoals=3,r.GameVars.enteringLevelDirectly=!1,r.GameConstants.SPONSOR===r.GameConstants.LOGICIEL_EDUCATIF?(-1<top.location.href.indexOf("logicieleducatif")||-1<top.location.href.indexOf("localhost")||-1<top.location.href.indexOf("footchinko"))&&o.readGameData():(r.GameConstants.SPONSOR===r.GameConstants.POKI&&(PokiSDK.init().then(function(){console.log("PokiSDK initialized")}).catch(function(){console.log("Adblock enabled")}),PokiSDK.setDebug(!1)),o.readGameData())},o.startGame=function(){r.GameConstants.SPONSOR===r.GameConstants.POKI&&PokiSDK.gameLoadingStart(),o.game.state.start("PreLoader",!0,!1)},o.onGameAssetsLoaded=function(){r.GameConstants.SPONSOR===r.GameConstants.POKI&&PokiSDK.gameLoadingFinished(),r.AudioManager.getInstance().init(o.game),r.AdvicesManager.getInstance().init(this.game),r.GameVars.teamsData=o.game.cache.getJSON("teams"),r.GameVars.gameText=this.game.cache.getJSON("game_text")[r.GameConstants.LANGUAGE],0===r.GameVars.gameData.tournamentData.length&&(o.setAdversaryGoalsToTournamentData(),o.writeGameStorage()),r.GameVars.currentTournamentName=r.GameVars.getCurrentTournamentName(),r.GameVars.showDailyRewardScene?o.game.state.start("DailyRewardState",!0,!1):r.GameVars.gameData.introSeen?o.game.state.start("TrophyState",!0,!1):o.game.state.start("SplashState",!0,!1)},o.onIntroSeen=function(){r.GameVars.gameData.introSeen=!0,o.setGameStorageData(r.GameConstants.GAME_STORAGE_DATA_KEY,r.GameVars.gameData,function(){o.log("Game data stored successfuly")},function(e){o.log("Error setting game data in game storage:",e)})},o.newGame=function(){if(r.GameConstants.SPONSOR===r.GameConstants.POKI)return o.game.paused=!0,void PokiSDK.commercialBreak().then(function(){console.log("End of commercial break"),o.game.paused=!1,r.GameVars.showDailyRewardScene?r.SplashState.currentInstance.goToScene("DailyRewardState"):r.SplashState.currentInstance.goToScene("TrophyState")});r.GameVars.showDailyRewardScene?r.SplashState.currentInstance.goToScene("DailyRewardState"):r.SplashState.currentInstance.goToScene("TrophyState")},o.readGameData=function(){o.getGameStorageData(r.GameConstants.GAME_STORAGE_DATA_KEY,function(e){r.GameVars.gameData=e?JSON.parse(e):{audioState:[!1,!1],credits:0,introSeen:!1,showDailyRewardScene:!1,dayLastTimePlayed:0,powerUpState:{freezeGoalkeeperPurchased:!1,extraBallsPurchased:!1,ballOfFirePurchased:!1,voodooPurchased:!1},statsData:{scoredGoals:0,scoredPenalties:0,matchesPlayed:0,matchesWon:0},tournamentData:[]},r.GameConstants.DEVELOPMENT&&(r.GameVars.gameData.credits=5e4);var t=new Date;t.getDate()!==r.GameVars.gameData.dayLastTimePlayed&&0!==r.GameVars.gameData.dayLastTimePlayed?r.GameVars.showDailyRewardScene=!0:r.GameVars.showDailyRewardScene=!1,r.GameVars.gameData.dayLastTimePlayed=t.getDate(),o.writeGameStorage(),o.startGame()},function(e){o.log("failed to retrieve stats data",e)})},o.changeAudioPreferences=function(e){switch(e){case r.AudioButtonsContainer.MUSIC_ON:r.AudioManager.getInstance().isMusicMuted=!0;break;case r.AudioButtonsContainer.MUSIC_OFF:r.AudioManager.getInstance().isMusicMuted=!1;break;case r.AudioButtonsContainer.EFFECTS_ON:r.AudioManager.getInstance().areEffectsMuted=!0;break;case r.AudioButtonsContainer.EFFECTS_OFF:r.AudioManager.getInstance().areEffectsMuted=!1}o.writeGameStorage()},o.getGameStorageData=function(e,t,a){t(localStorage.getItem(e))},o.setGameStorageData=function(e,t,a,s){localStorage.setItem(e,JSON.stringify(t)),a()},o.log=function(e,t){r.GameConstants.VERBOSE&&(t?console.error(e+":",t):console.log(e))},o.onClickPlayDailyRewardState=function(){o.game.state.start("TrophyState",!0,!1)},o.updateAchievedTrophy=function(){var e=r.GameVars.currentTournamentName,t=r.GameVars.getTournamentIndexFromTournamentName(e);r.GameVars.tournamentDataArray[t].won=!0},o.onNewMatchSelected=function(e,t){r.GameVars.showPreMatchLayer=!0;var a=r.GameVars.getTeamIDFromTeamName(e.selectedTeamName),s=r.GameVars.getTeamIDFromTeamName(t.adversaryName);r.GameVars.tournamentData=e,r.GameVars.matchID=t.id,r.GameVars.matchType=t.matchType,r.GameVars.playerID=a,r.GameVars.adversaryID=s,r.GameVars.currentTournamentName=e.name,r.GameVars.matchJustUnlocked=!1,r.GameVars.tournamentJustUnlocked=!1,r.GameVars.justUnlockedTournamentName="",r.GameVars.matchEnded=!1,o.game.state.start("FootballFieldState",!0,!1)},o.onMatchEnded=function(){if(!r.GameVars.levelEdition){r.GameConstants.SPONSOR===r.GameConstants.POKI&&(PokiSDK.gameplayStop(),r.GameVars.matchResult===r.GameConstants.VICTORY&&PokiSDK.happyTime(1)),r.GameVars.matchEnded=!0;var e=r.GameVars.getMatchDataFromMatchID(r.GameVars.matchID);if(r.GameVars.playerGoals>e.goalsPlayer&&(e.goalsPlayer=r.GameVars.playerGoals),r.GameVars.matchResult===r.GameConstants.VICTORY){e.won=!0;var t=r.GameVars.getNextMatchIDFromCurrentMatchID(r.GameVars.matchID),a=r.GameVars.getMatchDataFromMatchID(t);null===a?(r.GameVars.justUnlockedTournamentName=r.GameVars.getCurrentTournamentName(),r.GameVars.tournamentData.won=!0,r.GameVars.tournamentJustUnlocked=!0):a.locked?(e.matchType===r.GameConstants.FINAL_MATCH?(r.GameVars.justUnlockedTournamentName=r.GameVars.getCurrentTournamentName(),r.GameVars.tournamentData.won=!0,r.GameVars.tournamentJustUnlocked=!0):r.GameVars.tournamentJustUnlocked=!1,a.locked=!1,r.GameVars.matchJustUnlocked=!0):r.GameVars.matchJustUnlocked=!1}r.GameVars.gameData.statsData.scoredGoals+=r.GameVars.playerGoals,r.GameVars.gameData.statsData.matchesPlayed++,r.GameVars.matchResult===r.GameConstants.VICTORY&&r.GameVars.gameData.statsData.matchesWon++,o.writeGameStorage(),r.FootballFieldState.currentInstance?r.GameVars.matchResult===r.GameConstants.DRAW?o.game.state.start("PenaltyFootballFieldState",!0,!1):r.FootballFieldState.currentInstance.onMatchEnd():r.PenaltyFootballFieldState.currentInstance.onMatchEnd()}},o.showNextTournament=function(){r.GameVars.matchJustUnlocked=!1,r.GameVars.tournamentJustUnlocked=!1,r.TrophyState.currentInstance.showNextTournament()},o.showMatchResult=function(){o.game.state.start("MatchResultState",!0,!1)},o.onMatchStart=function(){r.GameConstants.SPONSOR===r.GameConstants.POKI&&PokiSDK.gameplayStart()},o.onPowerUpPurchased=function(e){switch(e){case r.GameConstants.FREEZE_GOALKEEPER:r.GameVars.gameData.powerUpState.freezeGoalkeeperPurchased=!0,r.GameVars.gameData.credits-=r.GameConstants.FREEZE_GOALKEEPER_PRICE;break;case r.GameConstants.EXTRA_BALLS:r.GameVars.gameData.powerUpState.extraBallsPurchased=!0,r.GameVars.gameData.credits-=r.GameConstants.EXTRA_BALLS_PRICE;break;case r.GameConstants.BALL_OF_FIRE:r.GameVars.gameData.powerUpState.ballOfFirePurchased=!0,r.GameVars.gameData.credits-=r.GameConstants.BALL_OF_FIRE_PRICE;break;case r.GameConstants.VOODOO:r.GameVars.gameData.powerUpState.voodooPurchased=!0,r.GameVars.gameData.credits-=r.GameConstants.VOODOO_PRICE}o.writeGameStorage()},o.onPowerUpUsed=function(e){switch(e){case r.GameConstants.FREEZE_GOALKEEPER:r.GameVars.gameData.powerUpState.freezeGoalkeeperPurchased=!1;break;case r.GameConstants.EXTRA_BALLS:r.GameVars.gameData.powerUpState.extraBallsPurchased=!1;break;case r.GameConstants.BALL_OF_FIRE:r.GameVars.gameData.powerUpState.ballOfFirePurchased=!1;break;case r.GameConstants.VOODOO:r.GameVars.gameData.powerUpState.voodooPurchased=!1}o.writeGameStorage()},o.updateCreditsAfterAchievedTrophy=function(){r.GameVars.gameData.credits+=r.GameConstants.CREDITS_ACHIEVED_TROPHY,o.writeGameStorage()},o.onClickChangeTeamButton=function(e){r.GameVars.currentTournamentName=e,o.game.state.start("TeamSelectionState",!0,!1)},o.onTeamSelected=function(e){var t=r.GameVars.getTournamentIndexFromTournamentName(r.GameVars.currentTournamentName),a=r.GameVars.gameData.tournamentData[t];a.teamSelected=!0,a.selectedTeamName=e;for(var s=a.matchesData,n=!1,i=0;i<s.length;i++)s[i].adversaryName===e&&(n=!0,s[i].adversaryName=a.jokerTeamName);n&&(a.jokerTeamName=e),o.writeGameStorage(),o.game.state.start("TrophyState",!0,!1)},o.onMatchReplayed=function(){r.GameVars.showPreMatchLayer=!1},o.updateCreditsAfterMatchEnd=function(){r.GameVars.playerGoals>r.GameVars.adversaryGoals?(r.GameVars.gameData.credits+=r.GameVars.adversaryGoals*r.GameConstants.CREDITS_GOALS,r.GameVars.gameData.credits+=(r.GameVars.playerGoals-r.GameVars.adversaryGoals)*r.GameConstants.CREDITS_EXTRA_GOALS):r.GameVars.gameData.credits+=r.GameVars.playerGoals*r.GameConstants.CREDITS_GOALS,o.writeGameStorage()},o.onDailyRewardItemHit=function(e){switch(e){case r.GameConstants.HIGH_CREDITS_REWARD:r.GameVars.gameData.credits+=r.GameConstants.HIGH_DAILY_REWARD_CREDITS,r.DailyRewardState.currentInstance.onCreditsWon(r.GameConstants.HIGH_DAILY_REWARD_CREDITS);break;case r.GameConstants.MEDIUM_CREDITS_REWARD:r.GameVars.gameData.credits+=r.GameConstants.MEDIUM_DAILY_REWARD_CREDITS,r.DailyRewardState.currentInstance.onCreditsWon(r.GameConstants.MEDIUM_DAILY_REWARD_CREDITS);break;case r.GameConstants.LOW_CREDITS_REWARD:r.GameVars.gameData.credits+=r.GameConstants.LOW_DAILY_REWARD_CREDITS,r.DailyRewardState.currentInstance.onCreditsWon(r.GameConstants.LOW_DAILY_REWARD_CREDITS);break;case r.GameConstants.FREEZE_GOALKEEPER_REWARD:r.GameVars.gameData.powerUpState.freezeGoalkeeperPurchased=!0,r.DailyRewardState.currentInstance.onPowerUpWon(r.GameConstants.FREEZE_GOALKEEPER_REWARD);break;case r.GameConstants.THREE_EXTRA_BALLS_REWARD:r.GameVars.gameData.powerUpState.extraBallsPurchased=!0,r.DailyRewardState.currentInstance.onPowerUpWon(r.GameConstants.THREE_EXTRA_BALLS_REWARD);break;case r.GameConstants.BALL_OF_FIRE_REWARD:r.GameVars.gameData.powerUpState.ballOfFirePurchased=!0,r.DailyRewardState.currentInstance.onPowerUpWon(r.GameConstants.BALL_OF_FIRE_REWARD);break;case r.GameConstants.VOODOO_REWARD:r.GameVars.gameData.powerUpState.voodooPurchased=!0,r.DailyRewardState.currentInstance.onPowerUpWon(r.GameConstants.VOODOO_REWARD);break;case r.GameConstants.NOTHING_REWARD:r.DailyRewardState.currentInstance.onNothingWon()}},o.determineDailyRewardsItems=function(){r.GameVars.showDailyRewardScene=!1;var e=[r.GameConstants.HIGH_CREDITS_REWARD,r.GameConstants.MEDIUM_CREDITS_REWARD,r.GameConstants.LOW_CREDITS_REWARD];r.GameVars.gameData.powerUpState.freezeGoalkeeperPurchased||e.push(r.GameConstants.FREEZE_GOALKEEPER_REWARD),r.GameVars.gameData.powerUpState.extraBallsPurchased||e.push(r.GameConstants.THREE_EXTRA_BALLS_REWARD),r.GameVars.gameData.powerUpState.ballOfFirePurchased||e.push(r.GameConstants.BALL_OF_FIRE_REWARD),r.GameVars.gameData.powerUpState.voodooPurchased||e.push(r.GameConstants.VOODOO_REWARD),e=Phaser.ArrayUtils.shuffle(e);var t=[];return t[0]=r.GameConstants.NOTHING_REWARD,t[1]=r.GameConstants.NOTHING_REWARD,t[2]=r.GameConstants.NOTHING_REWARD,t[3]=.5<Math.random()?e[0]:r.GameConstants.NOTHING_REWARD,t[4]=e[1],t[5]=e[2],t=Phaser.ArrayUtils.shuffle(t)},o.initMatch=function(){if(r.GameVars.showPreMatchLayer){r.FootballFieldState.currentInstance.addPreMatchLayer();var e=r.GameVars.playerID,t=r.GameVars.adversaryID,a=null;o.lastPlayerTeamID!==e&&(null!==o.lastPlayerTeamID&&o.game.cache.removeImage(o.lastPlayerTeamID.toString()),o.lastPlayerTeamID=e,(a=o.game.load.atlasXML(""+e,r.GameConstants.ASSETS_DIRECTORY+"/teams/"+e+".png",r.GameConstants.ASSETS_DIRECTORY+"/teams/"+e+".xml")).start()),o.lastAdversaryTeamID!==t&&(null!==o.lastAdversaryTeamID&&o.game.cache.removeImage(o.lastAdversaryTeamID.toString()),o.lastAdversaryTeamID=t,(a=o.game.load.atlasXML(""+t,r.GameConstants.ASSETS_DIRECTORY+"/teams/"+t+".png",r.GameConstants.ASSETS_DIRECTORY+"/teams/"+t+".xml")).start()),null!==a?a.onLoadComplete.addOnce(o.onTeamTexturesLoaded,o):o.onTeamTexturesLoaded()}else r.FootballFieldState.currentInstance.initialize()},o.onTeamTexturesLoaded=function(){r.FootballFieldState.currentInstance.initialize()},o.writeGameStorage=function(){o.setGameStorageData(r.GameConstants.GAME_STORAGE_DATA_KEY,r.GameVars.gameData,function(){o.log("Game data stored successfuly")},function(e){o.log("Error setting game data in game storage:",e)})},o.setAdversaryGoalsToTournamentData=function(){r.GameVars.gameData.tournamentData=o.game.cache.getJSON("tournamentsData");for(var e=0;e<r.GameVars.gameData.tournamentData.length;e++)for(var t=r.GameVars.gameData.tournamentData[e].matchesData,a=0;a<t.length;a++)for(var s=t[a].id,n=r.Game.currentInstance.cache.getJSON("levels"),i=0;i<n.length;i++)if(n[i][0].level===s){t[a].goalsAdversary=n[i][0].goals;break}},o}();r.GameManager=e}(FootChinko||(FootChinko={})),function(a){var e=function(){function o(){if(null!==o._instance)throw new Error("Error: Instantiation failed: Use GameVars.getInstance() instead of new.");o._instance=this}return o.getLevelIndex=function(e){for(var t,a=0,s=o.tournamentDataArray.length-1;0<=s;s--)for(var n=(t=o.tournamentDataArray[s].matchesData).length-1;0<=n;n--){if(t[n].id===e){a=t[n].index;break}if(a)break}return a},o.getTournamentIndexFromTournamentName=function(e){var t=0;switch(e){case a.GameConstants.OCEANIA_CUP:t=8;break;case a.GameConstants.AFRICA_CUP:t=7;break;case a.GameConstants.ASIAN_CUP:t=6;break;case a.GameConstants.GOLD_CUP:t=5;break;case a.GameConstants.AMERICA_CUP:t=4;break;case a.GameConstants.OLYMPIC_GAMES:t=3;break;case a.GameConstants.EUROCUP:t=2;break;case a.GameConstants.CONFEDERATIONS_CUP:t=1;break;case a.GameConstants.WORLD_CUP:t=0}return t},o.getCurrentTournamentName=function(){for(var e="",t=0;t<o.gameData.tournamentData.length;t++){e=o.gameData.tournamentData[t].name;for(var a=o.gameData.tournamentData[t].matchesData,s=!1,n=0;n<a.length;n++)if(!a[t].locked){s=!0;break}if(s)break}return e},o.getAchievedTrophies=function(){for(var e=0,t=0;t<o.gameData.tournamentData.length;t++)o.gameData.tournamentData[t].won&&e++;return e},o.getTeamIDFromTeamName=function(e){for(var t=o.teamsData.length-1;-1<t;){if(o.teamsData[t].name===e)return o.teamsData[t].id;t--}},o.getPlayerData=function(){return o.teamsData[o.playerID-1]},o.getAdversaryData=function(){return o.teamsData[o.adversaryID-1]},o.getLevelData=function(e){return a.Game.currentInstance.cache.getJSON("levels")[e]},o.getTournamentNameFromTournamentIndex=function(e){var t=a.GameConstants.OCEANIA_CUP;switch(e){case 8:t=a.GameConstants.OCEANIA_CUP;break;case 7:t=a.GameConstants.AFRICA_CUP;break;case 6:t=a.GameConstants.ASIAN_CUP;break;case 5:t=a.GameConstants.GOLD_CUP;break;case 4:t=a.GameConstants.AMERICA_CUP;break;case 3:t=a.GameConstants.OLYMPIC_GAMES;break;case 2:t=a.GameConstants.EUROCUP;break;case 1:t=a.GameConstants.CONFEDERATIONS_CUP;break;case 0:t=a.GameConstants.WORLD_CUP}return t},o.getNextMatchIDFromCurrentMatchID=function(e){for(var t,a=o.gameData.tournamentData,s=a.length-1;0<=s;s--)for(var n=(t=a[s].matchesData).length-1;0<=n;n--)if(t[n].id===e){if(0<n)return t[n-1].id;if(0<s){var i=a[s-1].matchesData.length-1;return a[s-1].matchesData[i].id}return-1}},o.getMatchDataFromMatchID=function(e){for(var t=null,a=0;a<o.gameData.tournamentData.length;a++){for(var s=o.gameData.tournamentData[a].matchesData,n=0;n<s.length;n++)if(s[n].id===e){t=s[n];break}if(null!==t)break}return t},o.getMatchName=function(){var e;switch(o.matchType){case a.GameConstants.FINAL_MATCH:e=o.gameText.FINAL;break;case a.GameConstants.SEMIFINAL_MATCH:e=o.gameText.SEMIFINAL;break;case a.GameConstants.QUARTERFINAL_MATCH:e=o.gameText.QUARTER;break;case a.GameConstants.ROUND_OF_16_MATCH:e=o.gameText.ROUND_OF_16;break;case a.GameConstants.GROUP_STAGE_MATCH:e=o.gameText.GROUP_STAGE;break;case a.GameConstants.QUALIFICATION:e=o.gameText.QUALIFICATION}return e},o.getAchievedTrophy=function(){for(var e=0,t=0;t<o.gameData.tournamentData.length&&!o.gameData.tournamentData[t].won;t++)e++;return e},o.formatNumberForTextureAtlas=function(e){return 99<e?"0"+e:9<e?"00"+e:"000"+e},o.formatNumber=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},o.getInstance=function(){return null===o._instance&&(o._instance=new o),o._instance},o.prototype.init=function(e){o.showPreMatchLayer=!0,a.GameConstants.DEVELOPMENT&&this.initVarsWhileDeveloping()},o.prototype.createMaterials=function(){this.materials=new a.Materials(a.Game.currentInstance)},o.prototype.initVarsWhileDeveloping=function(){o.matchType=a.GameConstants.SEMIFINAL_MATCH,o.ballsInField=0,o.playerGoals=8,o.adversaryGoals=5,o.matchResult=a.GameConstants.VICTORY,o.matchID=120,o.playerID=54,o.adversaryID=7,o.showDailyRewardScene=!0},o}();e.levelEdition=!1,e._instance=null,a.GameVars=e}(FootChinko||(FootChinko={})),function(t){var e=function(){function e(e){this.game=e,this.discardClick=!1,this.game.onResume.add(this.onGameResumed,this)}return e.prototype.init=function(e){this.backgroundImage=e,this.backgroundImage.inputEnabled=!0,this.backgroundImage.input.priorityID=0,this.backgroundImage.events.onInputDown.add(this.onClickInGameScene,this)},e.prototype.destroy=function(){this.game.onResume.remove(this.onGameResumed,this),this.backgroundImage.events.onInputDown.remove(this.onClickInGameScene,this)},e.prototype.onClickInGameScene=function(e){t.GameVars.paused||t.GameVars.matchEnded||!t.GameVars.isShooterReady&&!t.GameVars.isBallAttachedToPlayer||this.discardClick?this.discardClick&&(this.discardClick=!1):t.PenaltyFootballFieldState.currentInstance?t.PenaltyManager.onClickInGameScene():t.MatchManager.onClickInGameScene()},e.prototype.onGameResumed=function(){this.discardClick=!0},e}();t.MatchController=e}(FootChinko||(FootChinko={})),function(r){var e=function(){function a(){}return a.init=function(e){a.currentInstance=this,a.game=e,r.GameVars.isBallAttachedToPassingMidfielder=!1,r.GameVars.isBallAttachedToShootingPlayer=!1;var t=r.GameVars.getLevelData(r.GameVars.matchID-1);r.GameVars.adversaryGoals=t[0].goals,r.GameVars.streakerFrequency=t[0].streakerFreq,r.GameVars.goalKeeperType=t[0].goalkeeperType,r.GameVars.playerGoals=0,r.GameVars.ballsInField=0,r.GameVars.voodooUsed=!1,0<t[0].time?(r.GameVars.time=t[0].time,r.GameVars.isTimedLevel=!0,r.GameVars.balls=100):(r.GameVars.isTimedLevel=!1,r.GameVars.balls=t[0].balls),r.GameVars.timeOver=!1,r.GameVars.matchEnded=!1,r.GameVars.isGoalKeeperDuck=!1,r.GameVars.isBallAttachedToPlayer=!1,r.GameVars.penalties=!1,r.GameVars.paused=!0,r.GameVars.penaltyScored=!1},a.onMatchStart=function(){r.GameManager.onMatchStart(),r.FootballFieldState.currentInstance.onMatchStart(),a.game.time.events.add(150,function(){r.GameVars.paused=!1},a)},a.onClickInGameScene=function(){r.GameVars.isShooterReady?a.kickOff():r.GameVars.isBallAttachedToPassingMidfielder?(r.GameVars.isBallAttachedToPassingMidfielder=!1,a.passBall()):r.GameVars.isBallAttachedToShootingPlayer&&(r.GameVars.isBallAttachedToShootingPlayer=!1,a.shootBall())},a.onExtraBallStanding=function(){r.GameVars.ballsInField--,a.checkBalls(!1)},a.onBallReturnedToStartingPoint=function(){r.GameVars.ballsInField=0,r.GameVars.balls++,r.FootballFieldState.currentInstance.onBallReturnedToStartingPoint()},a.onPause=function(){r.GameConstants.SPONSOR===r.GameConstants.POKI&&PokiSDK.gameplayStop(),r.GameVars.paused=!0,r.FootballFieldState.currentInstance.pauseGame()},a.onResume=function(){r.GameConstants.SPONSOR===r.GameConstants.POKI&&PokiSDK.gameplayStart(),r.GameVars.paused=!1,r.FootballFieldState.currentInstance.resumeGame()},a.onTimeUp=function(){r.GameVars.timeOver=!0,(r.GameVars.isBallAttachedToPlayer||r.FootballFieldState.currentInstance.ballsManager.shooterMoving||r.GameVars.isShooterReady)&&a.onMatchEnd()},a.onGoal=function(){r.GameVars.playerGoals++,r.GameVars.ballsInField--,r.FootballFieldState.currentInstance.onGoal(),a.checkBalls(!0)},a.onBallOutsideFootballField=function(){r.GameVars.ballsInField--,a.checkBalls(!1)},a.onStreakerEntry=function(){r.FootballFieldState.currentInstance.onStreakerEntry()},a.onStreakerHit=function(){r.GameVars.balls+=3,r.FootballFieldState.currentInstance.onStreakerHit()},a.onPowerUpFreezeGoalkeeperSelected=function(){r.GameManager.onPowerUpUsed(r.GameConstants.FREEZE_GOALKEEPER),r.FootballFieldState.currentInstance.onPowerUpFreezeGoalkeeperSelected()},a.onPowerUpExtraBallsSelected=function(){r.GameManager.onPowerUpUsed(r.GameConstants.EXTRA_BALLS),r.GameVars.balls+=3,a.game.time.events.add(300,function(){r.FootballFieldState.currentInstance.onPowerUpExtraBallsSelected()},this)},a.onPowerUpBallOfFireSelected=function(){r.GameManager.onPowerUpUsed(r.GameConstants.BALL_OF_FIRE),r.FootballFieldState.currentInstance.onPowerUpBallOfFireSelected()},a.onPowerUpVoodooSelected=function(){r.GameManager.onPowerUpUsed(r.GameConstants.VOODOO),r.GameVars.voodooUsed=!0,a.game.time.events.add(300,function(){r.FootballFieldState.currentInstance.onPowerUpVoodooSelected()},this)},a.onBallAttachedToPlayer=function(e,t){r.GameVars.isBallAttachedToPlayer=!0,e.name===r.GameConstants.MIDFIELDER_PEG?(r.GameVars.isBallAttachedToPassingMidfielder=!0,r.PlayersManager.currentInstance.onBallAttachedToMidfielder(e,t)):(r.GameVars.isBallAttachedToShootingPlayer=!0,r.PlayersManager.currentInstance.onBallAttachedToForward(e,t))},a.onPlayerReadyToShoot=function(){r.GameVars.isBallAttachedToShootingPlayer=!0},a.onExtraBall=function(e,t,a){r.GameVars.ballsInField++,r.FootballFieldState.currentInstance.onExtraBall(e,t,a)},a.onMagicPotion=function(){r.GameVars.isGoalKeeperDuck=!0,r.FootballFieldState.currentInstance.onMagicPotion()},a.kickOff=function(){r.GameVars.ballsInField=1,r.GameVars.balls=0<r.GameVars.balls?r.GameVars.balls-1:0,r.FootballFieldState.currentInstance.kickOff()},a.checkBalls=function(e){0===r.GameVars.ballsInField&&(0===r.GameVars.balls||r.GameVars.timeOver?a.onMatchEnd():r.FootballFieldState.currentInstance.onNoBallsInTheField(e))},a.passBall=function(){r.PlayersManager.currentInstance.passBall()},a.shootBall=function(){r.GameVars.isBallAttachedToPlayer=!1;var e=r.PlayersManager.currentInstance.receivingPlayer,t=e.getShootAngle(),a=e.x+75*Math.cos(t*Math.PI/180),s=e.y+75*Math.sin(t*Math.PI/180),n=e.name===r.GameConstants.FORWARD_PEG,i=e.ball.ballOnFire,o=e.ball.isExtraBall;r.FootballFieldState.currentInstance.shootBall(a,s,t,n,i,o),r.PlayersManager.currentInstance.shootBall()},a.onMatchEnd=function(){r.GameVars.matchEnded||(r.GameVars.matchEnded=!0,r.GameVars.playerGoals>r.GameVars.adversaryGoals?r.GameVars.matchResult=r.GameConstants.VICTORY:r.GameVars.playerGoals<r.GameVars.adversaryGoals?r.GameVars.matchResult=r.GameConstants.DEFEAT:r.GameVars.matchResult=r.GameConstants.DRAW,r.GameManager.onMatchEnded())},a}();r.MatchManager=e}(FootChinko||(FootChinko={})),function(c){var e=function(e){this.game=e,this.shockAbsorberMaterial=this.game.physics.p2.createMaterial(c.GameConstants.UPPER_SHOCK_ABSORBER),this.postMaterial=this.game.physics.p2.createMaterial(c.GameConstants.POSTS),this.goalkeeperMaterial=this.game.physics.p2.createMaterial(c.GameConstants.GOALKEEPER),this.frozenGoalkeeperMaterial=this.game.physics.p2.createMaterial(c.GameConstants.FROZEN_GOALKEEPER),this.pegMaterial=this.game.physics.p2.createMaterial(c.GameConstants.PEG),this.elasticPegMaterial=this.game.physics.p2.createMaterial(c.GameConstants.ELASTIC_PEG),this.ballMaterial=this.game.physics.p2.createMaterial(c.GameConstants.BALL),this.plankMaterial=this.game.physics.p2.createMaterial(c.GameConstants.PLANK),this.duckMaterial=this.game.physics.p2.createMaterial(c.GameConstants.DUCK);var t=this.game.physics.p2.createContactMaterial(this.pegMaterial,this.ballMaterial);t.friction=.15,t.restitution=.58;var a=this.game.physics.p2.createContactMaterial(this.elasticPegMaterial,this.ballMaterial);a.friction=.05,a.restitution=2.3;var s=this.game.physics.p2.createContactMaterial(this.goalkeeperMaterial,this.ballMaterial);s.friction=.05,s.restitution=1.75;var n=this.game.physics.p2.createContactMaterial(this.frozenGoalkeeperMaterial,this.ballMaterial);n.friction=.05,n.restitution=0;var i=this.game.physics.p2.createContactMaterial(this.shockAbsorberMaterial,this.ballMaterial);i.friction=.2,i.restitution=.1;var o=this.game.physics.p2.createContactMaterial(this.sideWallsMaterial,this.ballMaterial);o.friction=.2,o.restitution=.35;var r=this.game.physics.p2.createContactMaterial(this.postMaterial,this.ballMaterial);r.friction=.2,r.restitution=1;var l=this.game.physics.p2.createContactMaterial(this.plankMaterial,this.ballMaterial);l.friction=.55,l.restitution=.52;var h=this.game.physics.p2.createContactMaterial(this.duckMaterial,this.ballMaterial);h.friction=.55,h.restitution=1.75};c.Materials=e}(FootChinko||(FootChinko={})),function(o){var e=function(){function i(){}return i.init=function(e,t){i.currentInstance=this,i.game=e,o.GameVars.matchEnded=!1,o.GameVars.goalKeeperType="normal",o.GameVars.penaltyScored=!1,o.GameVars.isTimedLevel=!1,o.GameVars.isGoalKeeperDuck=!1,o.GameVars.isBallAttachedToPlayer=!0,o.GameVars.paused=!0,o.GameVars.penalties=!0,i.forward=t,i.isBallAttachedToShootingPlayer=!0;var a=new o.Ball(i.game,0,0);(i.forward.ball=a).x=t.shootBall_px,a.y=t.shootBall_py,t.addChild(a),t.prepareToShoot()},i.onClickInGameScene=function(){this.isBallAttachedToShootingPlayer&&(o.GameVars.isBallAttachedToPlayer=!1,this.isBallAttachedToShootingPlayer=!1,i.shootPenalty())},i.onGoal=function(){o.GameVars.gameData.statsData.scoredPenalties++,o.GameVars.penaltyScored=!0,o.GameVars.matchResult=o.GameConstants.VICTORY,o.GameManager.onMatchEnded()},i.onMatchStart=function(){o.PenaltyFootballFieldState.currentInstance.onMatchStart(),i.game.time.events.add(150,function(){o.GameVars.paused=!1},this)},i.onBallOutsideFootballField=function(){o.GameVars.penaltyScored=!1,o.GameVars.matchResult=o.GameConstants.DRAW,o.GameManager.onMatchEnded()},i.shootPenalty=function(){i.forward.hasReceived=!1,i.forward.shootBall(),i.forward.name=o.GameConstants.FORWARD_PEG_PENALTY,i.forward.ball.destroy();var e=this.forward.x,t=this.forward.y,a=this.forward.getShootAngle(),s=e+75*Math.cos(a*Math.PI/180),n=t+75*Math.sin(a*Math.PI/180);o.PenaltyFootballFieldState.currentInstance.shootPenalty(s,n,a)},i}();o.PenaltyManager=e}(FootChinko||(FootChinko={})),function(o){var e=function(i){function e(e){var t=i.call(this,e,null,"cheat-menu",!1)||this;t.scale.y=o.GameVars.scaleY;var a=new Phaser.Button(t.game,50,5,"texture_atlas_4",t.onClickVictory,t);a.setFrames("tmp_win_button_on","tmp_win_button_off","tmp_win_button_on"),t.add(a);var s=new Phaser.Button(t.game,150,5,"texture_atlas_4",t.onClickDraw,t);s.setFrames("tmp_draw_button_on","tmp_draw_button_off","tmp_draw_button_on"),t.add(s);var n=new Phaser.Button(t.game,250,5,"texture_atlas_4",t.onClickDefeat,t);return n.setFrames("tmp_lose_button_on","tmp_lose_button_off","tmp_lose_button_on"),t.add(n),t}return __extends(e,i),e.prototype.onClickVictory=function(){o.GameVars.isTimedLevel&&this.game.time.events.resume();var e=o.GameVars.adversaryGoals+Math.floor(8*Math.random())+1;o.GameVars.playerGoals=e,o.GameVars.matchResult=o.GameConstants.VICTORY,o.GameManager.onMatchEnded()},e.prototype.onClickDraw=function(){o.GameVars.isTimedLevel&&this.game.time.events.resume(),o.GameVars.playerGoals=o.GameVars.adversaryGoals,o.GameVars.matchResult=o.GameConstants.DRAW,o.GameManager.onMatchEnded()},e.prototype.onClickDefeat=function(){o.GameVars.isTimedLevel&&this.game.time.events.resume(),o.GameVars.playerGoals=Math.floor(Math.random()*(o.GameVars.adversaryGoals-1)),o.GameVars.matchResult=o.GameConstants.DEFEAT,o.GameManager.onMatchEnded()},e}(Phaser.Group);o.CheatMenu=e}(FootChinko||(FootChinko={})),function(s){var e=function(a){function e(e){var t=a.call(this,e,null,"gui",!1)||this;return t.optionsMenuButton=new Phaser.Button(t.game,636,4,"texture_atlas_5",t.onClickOptionsMenu,t,1,0,1),t.optionsMenuButton.setFrames("options_button_on","options_button_off","options_button_on"),t.optionsMenuButton.forceOut=!0,t.optionsMenuButton.scale.y=s.GameVars.scaleY,t.optionsMenuButton.visible=!1,t.add(t.optionsMenuButton),t.powerUpButtonsContainer=new s.PowerUpButtonsContainer(t.game),t.add(t.powerUpButtonsContainer),t.pauseMenu=new s.PauseMenu(t.game,t),t.pauseMenu.visible=!1,t.add(t.pauseMenu),t}return __extends(e,a),e.prototype.start=function(){this.optionsMenuButton.visible=!0,this.powerUpButtonsContainer.onBallsManagerReadyToKickOff()},e.prototype.onKickOff=function(){this.powerUpButtonsContainer.onKickOff()},e.prototype.hideMenuContainer=function(){this.pauseMenu.hide(),this.optionsMenuButton.visible=!0,this.powerUpButtonsContainer.updatePowerUpButtons(),s.MatchManager.onResume()},e.prototype.onClickOptionsMenu=function(){s.GameVars.isTimedLevel&&this.game.time.events.pause(),s.MatchManager.onPause(),this.optionsMenuButton.visible=!1,this.pauseMenu.show(),s.AudioManager.getInstance().playEffect("play"),s.AudioManager.getInstance().setVolumePlayingMusic(.4)},e}(Phaser.Group);s.GUI=e}(FootChinko||(FootChinko={})),function(o){var e=function(n){function i(e,t){var a=n.call(this,e,null,"pause-menu",!1)||this;(i.currentInstance=a).gui=t;var s=new Phaser.Sprite(a.game,0,0,a.game.cache.getBitmapData("green_square"));return s.scale.setTo(48,64),s.alpha=.85,a.add(s),a.scaledItemsContainer=new Phaser.Group(a.game),a.scaledItemsContainer.scale.y=o.GameVars.scaleY,a.scaledItemsContainer.y=(1-o.GameVars.scaleY)*o.GameConstants.GAME_HEIGHT*.5,a.add(a.scaledItemsContainer),a.reusableMenuBackground=new o.ReusableMenuBackground(a.game,o.ReusableMenuBackground.PAUSE_LAYER),a.scaledItemsContainer.add(a.reusableMenuBackground),a.powerUpsContainer=new o.PowerUpsContainer(a.game,!1),a.powerUpsContainer.y=490,a.scaledItemsContainer.add(a.powerUpsContainer),a.addButtons(),a}return __extends(i,n),i.prototype.destroy=function(e,t){i.currentInstance=null,n.prototype.destroy.call(this,e,t)},i.prototype.show=function(){this.reusableMenuBackground.updateScoreLabelOnPauseMenu(),this.visible=!0},i.prototype.hide=function(){this.visible=!1},i.prototype.onClickResume=function(){o.GameVars.isTimedLevel&&this.game.time.events.resume(),this.gui.hideMenuContainer(),o.AudioManager.getInstance().playEffect("play"),o.AudioManager.getInstance().setVolumePlayingMusic(1)},i.prototype.addButtons=function(){this.levelSelectionButton=new Phaser.Button(this.game,15,865,"texture_atlas_5",this.onClickLevelSelection,this),this.levelSelectionButton.setFrames("exit_button_on","exit_button_off","exit_button_on"),this.levelSelectionButton.forceOut=!0,this.levelSelectionButton.scale.y=o.GameVars.scaleY,this.add(this.levelSelectionButton);var e=new Phaser.Button(this.game,364,930,"texture_atlas_5",this.onClickReset,this);e.setFrames("reset_button_on","reset_button_off","reset_button_on"),e.anchor.setTo(.5),e.scale.y=o.GameVars.scaleY,this.add(e),this.resumeButton=new Phaser.Button(this.game,675,920,"texture_atlas_5",this.onClickResume,this),this.resumeButton.setFrames("resume_button_on","resume_button_off","resume_button_on"),this.resumeButton.anchor.set(.5),this.resumeButton.forceOut=!0,this.resumeButton.scale.y=o.GameVars.scaleY,this.add(this.resumeButton);var t=this.game.add.tween(this.resumeButton.scale);t.to({x:1.05,y:.95*o.GameVars.scaleY},300,Phaser.Easing.Linear.None,!1),t.delay(50),t.to({x:.95,y:1.05*o.GameVars.scaleY},700,Phaser.Easing.Elastic.Out),t.loop(),t.start();var a=new o.AudioButtonsContainer(this.game,new Phaser.Point(615,10),new Phaser.Point(675,10));if(this.scaledItemsContainer.add(a),o.GameConstants.DEVELOPMENT&&!o.GameVars.penalties){var s=new o.CheatMenu(this.game);this.add(s)}},i.prototype.onClickLevelSelection=function(){o.GameVars.isTimedLevel&&this.game.time.events.resume(),o.GameVars.levelEdition?this.game.state.start("DevelopmentLevelSelection",!0,!1):this.game.state.start("TrophyState",!0,!1),o.AudioManager.getInstance().playEffect("play"),o.AudioManager.getInstance().setVolumePlayingMusic(1),o.GameVars.isTimedLevel?o.AudioManager.getInstance().stopMusic(SoundTrack.EXTRA_TIME):o.AudioManager.getInstance().stopMusic(SoundTrack.GAME_SOUNDTRACK)},i.prototype.onClickReset=function(){o.GameManager.onMatchReplayed(),o.GameVars.isTimedLevel&&this.game.time.events.resume(),o.AudioManager.getInstance().playEffect("play"),o.AudioManager.getInstance().setVolumePlayingMusic(1),o.GameVars.isTimedLevel?o.AudioManager.getInstance().stopMusic(SoundTrack.EXTRA_TIME):o.AudioManager.getInstance().stopMusic(SoundTrack.GAME_SOUNDTRACK),this.game.state.start("FootballFieldState",!0,!1)},i}(Phaser.Group);o.PauseMenu=e}(FootChinko||(FootChinko={})),function(n){var e=function(a){function s(e){var t=a.call(this,e,null,"powerup-buttons-container",!1)||this;return t.scale.y=n.GameVars.scaleY,t.pulseTweens=[],t.freezeGoalKeeperButton=new Phaser.Button(t.game,0,s.BUTTONS_PY,"texture_atlas_5",t.onClickFreezeGoalkeeper,t),t.freezeGoalKeeperButton.setFrames("use_powerup_freeze_goalkeeper_on","use_powerup_freeze_goalkeeper_off","use_powerup_freeze_goalkeeper_on"),t.freezeGoalKeeperButton.anchor.setTo(.5),t.freezeGoalKeeperButton.visible=!1,t.freezeGoalKeeperButton.forceOut=!0,t.add(t.freezeGoalKeeperButton),t.extraBallsButton=new Phaser.Button(t.game,0,s.BUTTONS_PY,"texture_atlas_5",t.onClickExtraBalls,t),t.extraBallsButton.setFrames("use_powerup_3_balls_on","use_powerup_3_balls_off","use_powerup_3_balls_on"),t.extraBallsButton.anchor.setTo(.5),t.extraBallsButton.visible=!1,t.extraBallsButton.forceOut=!0,t.add(t.extraBallsButton),t.ballOfFireButton=new Phaser.Button(t.game,0,s.BUTTONS_PY,"texture_atlas_5",t.onClickBallOfFire,t),t.ballOfFireButton.setFrames("use_powerup_ball_of_fire_on","use_powerup_ball_of_fire_off","use_powerup_ball_of_fire_on"),t.ballOfFireButton.anchor.setTo(.5),t.ballOfFireButton.visible=!1,t.ballOfFireButton.forceOut=!0,t.add(t.ballOfFireButton),t.voodooButton=new Phaser.Button(t.game,0,s.BUTTONS_PY,"texture_atlas_5",t.onClickVoodoo,t,1,0,1),t.voodooButton.setFrames("use_powerup_voodoo_on","use_powerup_voodoo_off","use_powerup_voodoo_on"),t.voodooButton.anchor.setTo(.5),t.voodooButton.visible=!1,t.voodooButton.forceOut=!0,t.add(t.voodooButton),t}return __extends(s,a),s.prototype.onBallsManagerReadyToKickOff=function(){this.updatePowerUpButtons(),this.visible=!0},s.prototype.onKickOff=function(){this.visible=!1;for(var e=this.pulseTweens.length;e--;)this.pulseTweens[e].pendingDelete=!0;this.pulseTweens.length=0},s.prototype.updatePowerUpButtons=function(){var e=3,t=0;n.GameVars.gameData.powerUpState.voodooPurchased&&!n.GameVars.voodooUsed?(this.voodooButton.x=s.BUTTONS_PX[e],this.voodooButton.visible=!0,this.addPulseTween(this.voodooButton,t),t+=100,e--):this.voodooButton.visible=!1,n.GameVars.gameData.powerUpState.ballOfFirePurchased?(this.ballOfFireButton.x=s.BUTTONS_PX[e],this.ballOfFireButton.visible=!0,this.addPulseTween(this.ballOfFireButton,t),t+=100,e--):this.ballOfFireButton.visible=!1,n.GameVars.gameData.powerUpState.extraBallsPurchased?(this.extraBallsButton.x=s.BUTTONS_PX[e],this.extraBallsButton.visible=!0,this.addPulseTween(this.extraBallsButton,t),t+=100,e--):this.extraBallsButton.visible=!1,n.GameVars.gameData.powerUpState.freezeGoalkeeperPurchased&&!n.GameVars.voodooUsed?(this.freezeGoalKeeperButton.x=s.BUTTONS_PX[e],this.freezeGoalKeeperButton.visible=!0,this.addPulseTween(this.freezeGoalKeeperButton,t)):this.freezeGoalKeeperButton.visible=!1,n.PauseMenu.currentInstance.powerUpsContainer.updateContainer()},s.prototype.onClickFreezeGoalkeeper=function(){this.visible=!1,this.updatePowerUpButtons(),n.MatchManager.onPowerUpFreezeGoalkeeperSelected()},s.prototype.onClickExtraBalls=function(){this.visible=!1,this.updatePowerUpButtons(),n.MatchManager.onPowerUpExtraBallsSelected()},s.prototype.onClickBallOfFire=function(){this.visible=!1,this.updatePowerUpButtons(),n.MatchManager.onPowerUpBallOfFireSelected()},s.prototype.onClickVoodoo=function(){this.visible=!1,this.updatePowerUpButtons(),n.MatchManager.onPowerUpVoodooSelected()},s.prototype.addPulseTween=function(e,t){var a=this.game.add.tween(e.scale);a.to({x:1.05,y:.95},300,Phaser.Easing.Linear.None,!1),a.delay(50+t),a.to({x:.95,y:1.05},700,Phaser.Easing.Elastic.Out),a.loop(),a.start(),this.pulseTweens.push(a)},s}(Phaser.Group);e.BUTTONS_PX=[730,667,604,541],e.BUTTONS_PY=108,n.PowerUpButtonsContainer=e}(FootChinko||(FootChinko={})),function(n){var e=function(s){function e(e){var t=s.call(this,e,null,"celebration-container",!1)||this;t.confetti=null;var a=n.GameVars.getPlayerData();return t.race=a.race,t.shirtColor=parseInt(a.shirt_color.slice(1),16),t.composeCelebration(),t.composeScoreLabel(),t.y=200,t.game.add.tween(t).to({y:0},750,Phaser.Easing.Cubic.Out,!0,500).onComplete.add(function(){n.GameVars.matchType===n.GameConstants.FINAL_MATCH&&this.showConfetti(),this.showReporter(),this.activateScoreLabel()},t),t}return __extends(e,s),e.prototype.update=function(){this.confetti&&this.confetti.update()},e.prototype.showConfetti=function(){this.confetti=new n.Confetti(this.game),this.add(this.confetti.backgroundConfettiContainer),this.add(this.confetti.foregroundConfettiContainer),this.confetti.activate()},e.prototype.composeCelebration=function(){var e;e=n.GameVars.aspectRatio<1.45?-20:0;var t=new n.Hooligan(this.game,75,970+e,n.Hooligan.MALE_BOLD,this.shirtColor,this.race,!0);this.add(t),t=new n.Hooligan(this.game,320,970+e,n.Hooligan.MALE_WITH_HAIR,this.shirtColor,this.race,!0,!0),this.add(t),t=new n.Hooligan(this.game,390,970+e,n.Hooligan.FEMALE,this.shirtColor,this.race,!0,!0),this.add(t),t=new n.Hooligan(this.game,410,970+e,n.Hooligan.MALE_WITH_HAIR,this.shirtColor,this.race,!0),this.add(t),t=new n.Hooligan(this.game,590,970+e,n.Hooligan.MALE_WITH_HAIR,this.shirtColor,this.race,!0),this.add(t),t=new n.Hooligan(this.game,700,970+e,n.Hooligan.MALE_BOLD,this.shirtColor,this.race,!0),this.add(t);var a=new Phaser.Sprite(this.game,0,-200,this.game.cache.getBitmapData("black_square"));a.alpha=.25,a.scale.setTo(12,20),this.add(a),t=new n.Hooligan(this.game,90,945+e,n.Hooligan.MALE_BOLD,this.shirtColor,this.race,!1,!0),this.add(t),t=new n.Hooligan(this.game,100,945+e,n.Hooligan.MALE_WITH_HAIR,this.shirtColor,this.race),this.add(t),t=new n.Hooligan(this.game,300,945+e,n.Hooligan.MALE_WITH_HAIR,this.shirtColor,this.race),this.add(t),t=new n.Hooligan(this.game,480,945+e,n.Hooligan.FEMALE,this.shirtColor,this.race),this.add(t),t=new n.Hooligan(this.game,640,945+e,n.Hooligan.MALE_BOLD,this.shirtColor,this.race),this.add(t)},e.prototype.composeScoreLabel=function(){this.scoreLabelGroup=new Phaser.Group(this.game),this.scoreLabelGroup.visible=!1,this.add(this.scoreLabelGroup);var e=new Phaser.Group(this.game);e.x=n.GameConstants.GAME_WIDTH/2,e.y=400,e.scale.y=n.GameVars.scaleY,this.scoreLabelGroup.add(e),this.rays=new Phaser.Image(this.game,0,0,"texture_atlas_1","rays"),this.rays.anchor.setTo(.5),this.rays.scale.setTo(2.5),this.rays.alpha=.8,e.add(this.rays);var t=new Phaser.Text(this.game,384,340,n.GameVars.playerGoals+"-"+n.GameVars.adversaryGoals,{font:"125px futura-bold",fill:"#2BB740"});t.anchor.x=.5,t.setShadow(4,4,"rgba(0,0,0,1)",0),t.scale.y=n.GameVars.scaleY,this.scoreLabelGroup.add(t),this.victoryImage=new Phaser.Image(this.game,n.GameConstants.GAME_WIDTH/2,515,"texture_atlas_5","victory-celebration"),this.victoryImage.anchor.setTo(.5),this.scoreLabelGroup.add(this.victoryImage)},e.prototype.activateScoreLabel=function(){this.game.add.tween(this.rays).to({angle:360},6e3,Phaser.Easing.Linear.None,!0).loop(),this.scoreLabelGroup.visible=!0},e.prototype.showReporter=function(){var t=new Phaser.Image(this.game,n.GameConstants.GAME_WIDTH/2,1200,"texture_atlas_5","speaker_celebration");t.anchor.setTo(.5,1),t.scale.set(1,n.GameVars.scaleY),this.add(t),this.game.add.tween(t).to({y:n.GameConstants.GAME_HEIGHT},500,Phaser.Easing.Elastic.Out,!0).onComplete.add(function(){var e=this.game.add.tween(t.scale);e.to({x:1.025,y:.975*n.GameVars.scaleY},250,Phaser.Easing.Linear.None,!1),e.delay(50),e.to({x:.975,y:1.025*n.GameVars.scaleY},500,Phaser.Easing.Elastic.Out),e.loop(),e.start()},this);var e=this.game.add.tween(this.victoryImage.scale);e.to({x:1.05,y:.8*n.GameVars.scaleY},300,Phaser.Easing.Linear.None,!1),e.delay(50),e.to({x:.95,y:1.05*n.GameVars.scaleY},700,Phaser.Easing.Elastic.Out),e.loop(),e.start()},e}(Phaser.Group);n.CelebrationContainer=e}(FootChinko||(FootChinko={})),function(b){var e=function(f){function G(e,t,a,s,n,i,o,r){var l,h,c,d,m=f.call(this,e,null,"hooligan",!1)||this;switch(m.scale.y=b.GameVars.scaleY,m.x=t,m.y=a,m.initial_py=a,s){case G.MALE_WITH_HAIR:l="hooligan_1_skin",h="hooligan_1_team_colours",c="hooligan_1_solid";break;case G.FEMALE:l="hooligan_2_skin",h="hooligan_2_team_colours",c="hooligan_2_solid";break;case G.MALE_BOLD:l="hooligan_3_skin",h="hooligan_3_team_colours",c="hooligan_3_solid"}switch(i){case 1:d=16754784;break;case 2:d=7028518;break;case 3:d=14390364;break;case 4:d=11961937;break;case 5:d=15514482}var u=m.create(0,0,"texture_atlas_5",l);u.tint=d;var p=m.create(0,0,"texture_atlas_5",h);p.tint=n;var g=m.create(0,0,"texture_atlas_5",c),y=o?.7:1,_=r?-1:1;return u.scale.setTo(y*_,y),p.scale.setTo(y*_,y),g.scale.setTo(y*_,y),m.game.time.events.add(1500*Math.random(),function(){var e=this.game.add.tween(this);e.to({y:this.initial_py-12},150,Phaser.Easing.Cubic.Out,!1),e.to({y:this.initial_py},150,Phaser.Easing.Bounce.Out),e.delay(150),e.loop(),e.start()},m),m}return __extends(G,f),G}(Phaser.Group);e.MALE_WITH_HAIR=0,e.FEMALE=1,e.MALE_BOLD=2,b.Hooligan=e}(FootChinko||(FootChinko={})),function(l){var e=function(a){function s(e){var t=a.call(this,e,null,"hud",!1)||this;return(s.currentInstance=t).countDownLabel=null,t.visible=!1,l.GameVars.isTimedLevel?t.addCountdownLabel():l.GameVars.penalties||t.addBallsCounter(),t.addScoreBoard(),t.celebrationGroup=new Phaser.Group(t.game),t.add(t.celebrationGroup),t.messageManager=new l.MessageManager(t.game),t.reporter=new l.Reporter(t.game),t.add(t.reporter),l.GameConstants.DEVELOPMENT&&(t.levelLabel=new Phaser.Text(t.game,705,935,""+l.GameVars.matchID,{font:"35px whoopass",fill:"#DAE9E9"}),t.levelLabel.setShadow(2,2,"rgba(0,0,0,1)",0),t.add(t.levelLabel),t.fpsLabel=new Phaser.Text(t.game,705,965,"60",{font:"40px Arial",fill:"#ffff00",align:"center"}),t.add(t.fpsLabel),t.update=function(){a.prototype.update.call(t),t.fpsLabel.text=""+t.game.time.fps}),t}return __extends(s,a),s.prototype.destroy=function(e,t){this.countdownTimerEvent&&(this.countdownTimerEvent.pendingDelete=!0),a.prototype.destroy.call(this,e,t)},s.prototype.start=function(){if(this.visible=!0,l.GameVars.getInstance().firstTimePlayed){l.GameVars.getInstance().firstTimePlayed=!1;var e=new l.HandIcon(this.game,l.GameConstants.GAME_WIDTH/2,350,"texture_atlas_1");this.add(e),e.click()}l.GameVars.isTimedLevel&&(this.messageManager.showMessage(l.Message.TIMED_LEVEL),this.game.time.events.add(2500,function(){this.countdownTimerEvent=this.game.time.events.loop(500,this.updateCountdown,this)},this))},s.prototype.onMatchEnd=function(){this.countDownLabel&&(this.countDownLabel.visible=!1)},s.prototype.updateBallsCounter=function(e){l.GameVars.isTimedLevel||(this.ballsLabel.text=" "+l.GameVars.balls.toString()+" ",e&&this.game.add.tween(this.ballsLabel.scale).to({x:1.15,y:1.15},300,Phaser.Easing.Cubic.Out,!0,0,0,!0))},s.prototype.onBallsManagerReadyToKickOff=function(){3!==l.GameVars.balls||3===this.initialBalls||l.GameVars.isTimedLevel||this.game.time.events.add(250,function(){this.messageManager.showMessage(l.Message.THREE_BALLS_LEFT)},this)},s.prototype.onPenaltyScored=function(){this.messageManager.showMessage(l.Message.PENALTY_SCORED),l.GameVars.matchJustUnlocked?this.celebrateMatchEnd():this.reporter.onGoal()},s.prototype.onGoal=function(){if((9<l.GameVars.playerGoals||9<l.GameVars.adversaryGoals)&&(this.scoreLabel.fontSize=30,this.scoreLabel.y=14),l.GameVars.playerGoals>l.GameVars.adversaryGoals||l.GameVars.playerGoals===l.GameVars.adversaryGoals){var e=this.scoreLabel.fontSize,t=l.GameVars.playerGoals>l.GameVars.adversaryGoals?"#2BB740":"#FF7505";this.scoreLabel.destroy(),this.scoreLabel=new Phaser.Text(this.game,0,0,l.GameVars.playerGoals.toString()+"-"+l.GameVars.adversaryGoals,{font:e+"px futura-bold",fill:t}),this.scoreLabel.anchor.set(.5),this.scoreLabel.setShadow(2,2,"rgba(0,0,0,1)",0),this.scoreBoardContainer.add(this.scoreLabel)}this.scoreLabel.text=l.GameVars.playerGoals+"-"+l.GameVars.adversaryGoals,3<this.scoreLabel.text.length&&(this.scoreLabel.fontSize=25),0!==l.GameVars.balls&&(l.GameVars.playerGoals>l.GameVars.adversaryGoals?this.messageManager.showMessage(l.Message.EXTRA_GOAL):this.messageManager.showMessage(l.Message.GOAL),this.reporter.onGoal())},s.prototype.onStreakerEntry=function(){this.messageManager.showMessage(l.Message.STREAKER)},s.prototype.onStrikerHit=function(){this.messageManager.showMessage(l.Message.EXTRA_BALLS),this.updateBallsCounter(!0)},s.prototype.onPowerUpSelected=function(e){if(e===l.GameConstants.EXTRA_BALLS)this.messageManager.showMessage(l.Message.EXTRA_BALLS),this.updateBallsCounter(!0);else if(e===l.GameConstants.BALL_OF_FIRE)this.messageManager.showMessage(l.Message.BALL_OF_FIRE);else if(e===l.GameConstants.VOODOO){this.messageManager.showMessage(l.Message.VOODOO);var t=new l.VoodooAnimation(this.game);this.add(t)}else e===l.GameConstants.FREEZE_GOALKEEPER&&this.messageManager.showMessage(l.Message.FREEZE_GOALKEEPER)},s.prototype.celebrateMatchEnd=function(){var e=new l.CelebrationContainer(this.game);this.celebrationGroup.add(e)},s.prototype.addCountdownLabel=function(){this.halfSecond=!1,this.time=l.GameVars.time,this.countDownLabel=new Phaser.Text(this.game,s.COUNTDOWN_LABEL_PX,s.COUNTDOWN_LABEL_PY," "+l.GameVars.time+" ",{font:"450px whoopass",fill:"#DAE9E9"}),this.countDownLabel.setShadow(8,8,"rgba(0,0,0,1)",0),this.countDownLabel.anchor.x=.5,this.countDownLabel.alpha=.25,this.countDownLabel.scale.y=l.GameVars.scaleY,l.FootballFieldState.currentInstance.backgroundManager.add(this.countDownLabel)},s.prototype.updateCountdown=function(){if(this.halfSecond)return this.halfSecond=!1,void(this.time<=10&&l.FootballFieldState.currentInstance.backgroundManager.pulseBackgroundAlpha());this.halfSecond=!0,this.time--,this.countDownLabel.text=" "+this.time.toString()+" ",l.FootballFieldState.currentInstance.backgroundManager.pulseBackgroundAlpha(),this.time%2?this.countDownLabel.alpha=.35:this.countDownLabel.alpha=.25,0===this.time&&(this.countdownTimerEvent.pendingDelete=!0,this.messageManager.showMessage(l.Message.TIME_UP),l.MatchManager.onTimeUp())},s.prototype.addBallsCounter=function(){this.initialBalls=l.GameVars.balls;var e=new Phaser.Group(this.game);e.x=s.BALLS_LABEL_PY,e.y=28*l.GameVars.scaleY,e.scale.y=l.GameVars.scaleY,this.add(e);var t=new Phaser.Image(this.game,0,0,"texture_atlas_5","marcador_bolas_restantes");t.anchor.set(.5),e.add(t),this.ballsLabel=new Phaser.Text(this.game,-15,0," "+this.initialBalls.toString()+" ",{font:"32px whoopass",fill:"#DAE9E9"}),this.ballsLabel.setShadow(2,2,"rgba(0,0,0,1)",0),this.ballsLabel.anchor.set(.5),e.add(this.ballsLabel)},s.prototype.addScoreBoard=function(){this.scoreBoardContainer=new Phaser.Group(this.game),this.scoreBoardContainer.x=120,this.scoreBoardContainer.y=40*l.GameVars.scaleY,this.scoreBoardContainer.scale.y=l.GameVars.scaleY,this.add(this.scoreBoardContainer);var e=new Phaser.Image(this.game,0,0,"texture_atlas_5","marcador");e.anchor.set(.5),this.scoreBoardContainer.add(e);var t=l.GameVars.playerID,a="bandera_"+l.GameVars.formatNumberForTextureAtlas(t),s=new Phaser.Image(this.game,-74,-3,"texture_atlas_5",a);s.scale.set(.65),s.anchor.set(.5),this.scoreBoardContainer.add(s);var n=l.GameVars.adversaryID,i="bandera_"+l.GameVars.formatNumberForTextureAtlas(n),o=new Phaser.Image(this.game,74,-3,"texture_atlas_5",i);o.scale.setTo(.65),o.anchor.set(.5),this.scoreBoardContainer.add(o);var r=9<l.GameVars.adversaryGoals?30:35;this.scoreLabel=new Phaser.Text(this.game,0,0,l.GameVars.playerGoals.toString()+"-"+l.GameVars.adversaryGoals,{font:r+"px futura-bold",fill:"#D8102D"}),this.scoreLabel.anchor.set(.5),this.scoreLabel.setShadow(2,2,"rgba(0,0,0,1)",0),this.scoreBoardContainer.add(this.scoreLabel),3<this.scoreLabel.text.length&&(this.scoreLabel.fontSize=25)},s}(Phaser.Group);e.SCORE_LABEL_PX=112,e.COUNTDOWN_LABEL_PY=295,e.COUNTDOWN_LABEL_PX=415,e.BALLS_LABEL_PY=550,l.HUD=e}(FootChinko||(FootChinko={})),function(h){var e=function(s){function l(e){var t=s.call(this,e,null,"message",!1)||this;t.scale.y=h.GameVars.scaleY,t.confettiAnimation=null,t.timeLabel=null,t.messageContainer=new Phaser.Group(t.game),t.messageContainer.x=h.GameConstants.GAME_WIDTH/2,t.messageContainer.y=500,t.messageContainer.scale.y=h.GameVars.scaleY,t.add(t.messageContainer),t.scoreLabelGroup=new Phaser.Group(t.game),t.messageContainer.add(t.scoreLabelGroup),t.messageSprite=new Phaser.Sprite(e,0,0,"texture_atlas_1"),t.messageSprite.anchor.set(.5),t.messageContainer.add(t.messageSprite);var a=new Phaser.Image(t.game,0,-60,"texture_atlas_1","rays");return a.anchor.setTo(.5),a.scale.setTo(1.75,1.75),a.alpha=.8,t.scoreLabelGroup.add(a),t.scoreLabel=new Phaser.Text(t.game,0,0,"",{font:l.SCORE_LABEL_FONT_SIZE+"px futura-bold",fill:"#D8102D"}),t.scoreLabel.setShadow(2,2,"rgba(0,0,0,1)",0),t.scoreLabel.anchor.x=.5,t.scoreLabelGroup.add(t.scoreLabel),t.scoreLabelGroup.visible=!1,t.visible=!1,t}return __extends(l,s),l.prototype.show=function(e){var t,a,s,n;this.msgType=e;var i,o=null;if(this.msgType===l.GOAL||this.msgType===l.EXTRA_GOAL){if(t=0,a=2,s=Phaser.Easing.Bounce.Out,i=400,n=3e3,this.scoreLabelGroup.visible=!0,this.scoreLabel.text=h.GameVars.playerGoals-1+"-"+h.GameVars.adversaryGoals,this.msgType===l.GOAL?(this.messageSprite.frameName="msg-goal",this.scoreLabel.y=l.SCORE_LABEL_GOAL_PY):(this.messageSprite.frameName="msg-extra-goal",this.scoreLabel.y=l.SCORE_LABEL_EXTRA_GOAL_PY),h.GameVars.playerGoals===h.GameVars.adversaryGoals+1)o="super_goal",this.confettiAnimation=new Phaser.Sprite(this.game,0,-12,"texture_atlas_2"),this.confettiAnimation.animations.add("animation",Phaser.Animation.generateFrameNames("gol_victoria_",1,11,"",4)),this.confettiAnimation.animations.play("animation",10,!1,!0),this.confettiAnimation.anchor.set(.5),this.confettiAnimation.scale.set(1.45),this.scoreLabelGroup.addChildAt(this.confettiAnimation,0);else{var r=Math.random();o=.75<r?"goal_1":.5<r?"goal_2":.25<r?"goal_3":"goal_4"}h.GameVars.playerGoals>h.GameVars.adversaryGoals&&0===h.GameVars.balls&&h.GameVars.isGoalKeeperDuck&&(o=null),this.game.time.events.add(800,this.updateScoreLabel,this)}else this.msgType===l.PENALTY_SCORED?(t=0,a=2,s=Phaser.Easing.Bounce.Out,i=400,n=2e3,this.messageSprite.frameName="msg-goal",this.scoreLabelGroup.visible=!0,this.scoreLabel.visible=!1,this.confettiAnimation=new Phaser.Sprite(this.game,0,-12,"texture_atlas_2"),this.confettiAnimation.animations.add("animation",Phaser.Animation.generateFrameNames("gol_victoria_",1,11,"",4)),this.confettiAnimation.animations.play("animation",10,!1,!0),this.confettiAnimation.anchor.set(.5),this.confettiAnimation.scale.setTo(1.45),this.scoreLabelGroup.addChildAt(this.confettiAnimation,0),o="super_goal"):this.msgType===l.STREAKER?(t=0,a=2,s=Phaser.Easing.Bounce.Out,i=400,n=1500,this.messageSprite.frameName="msg-streaker"):this.msgType===l.THREE_BALLS_LEFT?(t=5,a=2,s=Phaser.Easing.Cubic.Out,i=400,n=1750,this.messageSprite.frameName="msg-3-balls-left"):this.msgType===l.EXTRA_BALLS?(t=0,a=2,s=Phaser.Easing.Bounce.Out,n=1500,this.messageSprite.frameName="msg-extra-balls"):this.msgType===l.TIMED_LEVEL?(t=5,a=1.5,s=Phaser.Easing.Cubic.Out,i=600,n=5e3,this.messageSprite.frameName="msg-extra-time",this.timeLabel=new Phaser.Text(this.game,0,75," "+h.GameVars.time+"S ",{font:"65px whoopass",fill:"#DAE9E9"}),this.timeLabel.anchor.x=.5,this.timeLabel.setShadow(2,2,"rgba(0,0,0,1)",0),this.messageContainer.addChild(this.timeLabel)):this.msgType===l.TIME_UP?(t=5,a=2.5,s=Phaser.Easing.Cubic.Out,i=400,n=6e3,this.messageSprite.frameName="msg-time-up",o="3_silvatos"):this.msgType===l.VOODOO?(t=5,a=2.5,s=Phaser.Easing.Quadratic.Out,i=400,n=2500,this.messageSprite.frameName="msg-voodoo"):this.msgType===l.FREEZE_GOALKEEPER?(t=5,a=2.5,s=Phaser.Easing.Quadratic.Out,i=400,n=1750,this.messageSprite.frameName="msg-freeze-goalkeeper"):this.msgType===l.BALL_OF_FIRE&&(t=0,a=2.5,s=Phaser.Easing.Quadratic.Out,i=400,n=1500,this.messageSprite.frameName="msg-ball-of-fire");h.GameVars.isTimedLevel&&(n*=.45),this.visible=!0,this.messageContainer.alpha=1,this.messageContainer.scale.setTo(t),this.game.add.tween(this.messageContainer.scale).to({x:a,y:a},i,s,!0),this.game.add.tween(this.messageContainer).to({alpha:0},i,Phaser.Easing.Quadratic.Out,!0,n).onComplete.add(this.removeMessage,this),null!==o&&h.AudioManager.getInstance().playEffect(o)},l.prototype.removeMessage=function(){this.visible=!1,this.msgType!==l.GOAL&&this.msgType!==l.EXTRA_GOAL||(this.scoreLabelGroup.visible=!1),this.msgType===l.TIMED_LEVEL&&this.timeLabel&&this.timeLabel.destroy(),h.MessageManager.currentInstance.onMessageRemoved()},l.prototype.updateScoreLabel=function(){var e,t;(h.GameVars.playerGoals>h.GameVars.adversaryGoals||h.GameVars.playerGoals===h.GameVars.adversaryGoals)&&(this.scoreLabel.destroy(),h.GameVars.playerGoals>h.GameVars.adversaryGoals?(e="#2BB740",t=l.SCORE_LABEL_EXTRA_GOAL_PY):(e="#FF7505",t=l.SCORE_LABEL_GOAL_PY),this.scoreLabel=new Phaser.Text(this.game,0,t,h.GameVars.playerGoals.toString()+"-"+h.GameVars.adversaryGoals,{font:l.SCORE_LABEL_FONT_SIZE+"px futura-bold",fill:e}),this.scoreLabel.anchor.x=.5,this.scoreLabel.setShadow(2,2,"rgba(0,0,0,1)",0),this.scoreLabelGroup.add(this.scoreLabel));this.scoreLabel.text=h.GameVars.playerGoals.toString()+"-"+h.GameVars.adversaryGoals,this.scoreLabel.anchor.x=.5},l}(Phaser.Group);e.GOAL="goal",e.EXTRA_GOAL="extra goal",e.STREAKER="streaker",e.THREE_BALLS_LEFT="three balls left",e.EXTRA_BALLS="extra balls",e.TIMED_LEVEL="timed level",e.TIME_UP="time up",e.VOODOO="voodoo",e.BALL_OF_FIRE="ball of fire",e.FREEZE_GOALKEEPER="freeze goalkeeper",e.PENALTY_SCORED="penalty goal",e.SCORE_LABEL_FONT_SIZE=60,e.SCORE_LABEL_GOAL_PY=-110,e.SCORE_LABEL_EXTRA_GOAL_PY=-125,h.Message=e}(FootChinko||(FootChinko={})),function(a){var e=function(){function t(e){this.game=e,(t.currentInstance=this).messageBeingDisplayed=!1,this.lastMessageType=null,this.message=new a.Message(this.game),a.HUD.currentInstance.add(this.message)}return t.prototype.showMessage=function(e){this.messageBeingDisplayed?this.lastMessageType!==e&&(this.nextMessageType=e):(this.messageBeingDisplayed=!0,this.lastMessageType=e,this.message.show(e))},t.prototype.onMessageRemoved=function(){null!=this.nextMessageType?(this.message.show(this.nextMessageType),this.nextMessageType=null):this.messageBeingDisplayed=!1},t}();a.MessageManager=e}(FootChinko||(FootChinko={})),function(s){var e=function(a){function e(e){var t=a.call(this,e,null,"reporter",!1)||this;return t.isRight=.5<Math.random(),t.reporterSprite=new Phaser.Sprite(t.game,0,s.GameConstants.GAME_HEIGHT,"texture_atlas_1"),t.reporterSprite.visible=!1,t.reporterSprite.anchor.setTo(0,1),t.add(t.reporterSprite),t.updateHidingReporterFunction=function(){t.reporterSprite.y+=15,t.reporterSprite.y>t.reporterHiddenLimit&&(t.reporterSprite.visible=!1,t.update=function(){})},t}return __extends(e,a),e.prototype.onGoal=function(){if(!this.reporterSprite.visible){null!==this.hideTimeEvent&&this.game.time.events.remove(this.hideTimeEvent);var e=Math.random();this.reporterSprite.frameName=e<.3?"speaker0001":e<.6?"speaker0002":"speaker0003",this.isRight?(this.reporterSprite.x=0,this.reporterSprite.y=s.GameConstants.GAME_HEIGHT,this.reporterSprite.scale.setTo(1,s.GameVars.scaleY)):(this.reporterSprite.x=768,this.reporterSprite.y=s.GameConstants.GAME_HEIGHT,this.reporterSprite.scale.setTo(-1,s.GameVars.scaleY)),this.isRight=!this.isRight,this.reporterHiddenLimit=this.reporterSprite.height+s.GameConstants.GAME_HEIGHT,this.reporterSprite.visible=!0,this.hideTimeEvent=this.game.time.events.add(1500,function(){this.update=this.updateHidingReporterFunction,this.hideTimeEvent=null},this)}},e}(Phaser.Group);s.Reporter=e}(FootChinko||(FootChinko={})),function(n){var e=function(s){function e(e){var t=s.call(this,e,null,"voodoo animation",!1)||this,a=new Phaser.Image(t.game,25,n.GameConstants.GAME_HEIGHT,"texture_atlas_5","vudu_muneco");return a.anchor.set(0,1),a.scale.y=n.GameVars.scaleY,t.add(a),t.handImage=new Phaser.Image(t.game,-25,600,"texture_atlas_5","vudu_mano"),t.handImage.scale.y=n.GameVars.scaleY,t.add(t.handImage),t.dollHits=0,t.game.add.tween(t.handImage).to({y:675},500,Phaser.Easing.Elastic.In,!0).onComplete.add(t.handTweenOut,t),t}return __extends(e,s),e.prototype.handTweenOut=function(){this.dollHits++,this.game.add.tween(this.handImage).to({y:600},1e3,Phaser.Easing.Quadratic.Out,!0).onComplete.add(this.handTweenIn,this)},e.prototype.handTweenIn=function(){this.dollHits===e.NUMBER_OF_HITS?this.game.add.tween(this).to({alpha:0},500,Phaser.Easing.Quadratic.Out,!0).onComplete.add(this.destroy,this):this.game.add.tween(this.handImage).to({y:675},500,Phaser.Easing.Elastic.In,!0).onComplete.add(this.handTweenOut,this)},e}(Phaser.Group);e.NUMBER_OF_HITS=2,n.VoodooAnimation=e}(FootChinko||(FootChinko={})),function(l){var e=function(o){function r(e,t,a,s){var n=o.call(this,e,t,a,"texture_atlas_2")||this;n.canBeHit=!1,n.isExtraBall=null!=s&&s,n.extraBallStanding=!1,n.disappearing=!1;var i=l.GameVars.tournamentData;return l.DailyRewardState.currentInstance||n.isExtraBall?n.frameName="balon_extra":i.name===l.GameConstants.OCEANIA_CUP?n.frameName="balon_oceania_cup":i.name===l.GameConstants.AFRICA_CUP?n.frameName="balon_africa_cup":i.name===l.GameConstants.ASIAN_CUP?n.frameName="balon_asia_cup":i.name===l.GameConstants.GOLD_CUP?n.frameName="balon_gold_cup":i.name===l.GameConstants.AMERICA_CUP?n.frameName="balon_america_cup":i.name===l.GameConstants.OLYMPIC_GAMES?n.frameName="balon_olympics":i.name===l.GameConstants.EUROCUP?n.frameName="balon_eurocup":i.name===l.GameConstants.CONFEDERATIONS_CUP?n.frameName="balon_confederations":i.name===l.GameConstants.WORLD_CUP&&(n.frameName="balon_world_cup"),n.anchor.set(.5),n.id=r.BALL_ID++,n.name=l.GameConstants.BALL,n.ballOnFire=!1,n.timesExplosionAnimationPlayed=0,n.contactWithElasticElement=!1,n}return __extends(r,o),r.prototype.update=function(){!this.allowUpdate||l.GameVars.paused||l.DailyRewardState.currentInstance||(this.contactWithElasticElement&&(this.contactWithElasticElement=!1,this.capBallSpeed()),this.f++,this.y>l.GameConstants.GAME_HEIGHT-20&&!this.disappearing&&(this.x>l.FieldBoundaries.LEFT_POST_PX&&this.x<l.FieldBoundaries.LEFT_POST_PX+l.FieldBoundaries.DELTA_X_POST?l.PenaltyFootballFieldState.currentInstance?l.PenaltyManager.onGoal():l.FootballFieldState.currentInstance&&l.MatchManager.onGoal():l.PenaltyFootballFieldState.currentInstance?l.PenaltyManager.onBallOutsideFootballField():l.FootballFieldState.currentInstance&&l.MatchManager.onBallOutsideFootballField(),this.disappearing=!0,this.destroy()),40===this.f&&(this.f=0,this.indexSampleArray=this.indexSampleArray<12?this.indexSampleArray+1:0,r.samplePX[this.indexSampleArray]=this.x,r.samplePY[this.indexSampleArray]=this.y,Phaser.Math.distance(r.samplePX[0],r.samplePY[0],r.samplePX[12],r.samplePY[12])<1.5&&(this.isExtraBall?this.deductStandingExtraBall():this.returnBallToStartingPoint())))},r.prototype.initPhysics=function(){this.allowUpdate=!0,l.GameVars.penalties?this.matchModel=l.PenaltyManager.currentInstance:this.matchModel=l.MatchManager.currentInstance,this.f=0,this.indexSampleArray=0,r.samplePX=[-20,-50,-80,-100,-10,-120,-5,-75,-150,-300,-90,-10,-30],r.samplePY=[-20,-50,-80,-100,-10,-120,-5,-75,-150,-300,-90,-10,-30],this.game.physics.p2.enable(this,l.GameConstants.SHOW_PHYSICS_BODIES),this.body.data.type=Phaser.Physics.P2.Body.DYNAMIC,this.body.setCircle(28),this.body.setMaterial(l.GameVars.getInstance().materials.ballMaterial),this.body.mass=.025,this.body.onBeginContact.add(this.onBeginContact,this)},r.prototype.spin=function(){this.game.add.tween(this).to({angle:360},750,Phaser.Easing.Linear.None,!0).loop()},r.prototype.setOnFire=function(){this.ballOnFire=!0,this.frameName="balon_fuego"},r.prototype.attachToPlayer=function(e){this.body.destroy(),this.body=null,l.MatchManager.onBallAttachedToPlayer(e,this)},r.prototype.onMagicPotion=function(){l.MatchManager.onMagicPotion()},r.prototype.onBeginContact=function(e,t,a,s){null!==e&&(this.ballOnFire?this.onBeginContactBallOnFire(e):this.onBeginContactNormalBall(e))},r.prototype.onBeginContactNormalBall=function(e){e.sprite.name===l.GameConstants.MIDFIELDER_PEG||e.sprite.name===l.GameConstants.FORWARD_PEG?l.GameVars.isBallAttachedToPlayer||l.GameVars.timeOver||this.attachToPlayer(e.sprite):e.sprite.name===l.GameConstants.CACTUS_PEG||e.sprite.name===l.GameConstants.CACTUS_PLANK||e.sprite.name===l.GameConstants.ELECTRIC_GOALKEEPER&&!e.sprite.cursed?this.explode():e.sprite.name===l.GameConstants.EXTRA_BALL?l.MatchManager.onExtraBall(e.x,e.y,!1):e.sprite.name===l.GameConstants.MAGIC_POTION?this.onMagicPotion():e.sprite.name!==l.GameConstants.ELASTIC_PEG&&e.sprite.name!==l.GameConstants.GOALKEEPER||(this.contactWithElasticElement=!0),e.sprite.canBeHit&&e.sprite.hit()},r.prototype.onBeginContactBallOnFire=function(e){if(e.sprite.name===l.GameConstants.MIDFIELDER_PEG||e.sprite.name===l.GameConstants.FORWARD_PEG)l.GameVars.isBallAttachedToPlayer||l.GameVars.timeOver||this.attachToPlayer(e.sprite);else{if(e.sprite.name===l.GameConstants.EXTRA_BALL)return l.MatchManager.onExtraBall(e.x,e.y,!0),void e.sprite.hit();if(e.sprite.name===l.GameConstants.MAGIC_POTION)return this.onMagicPotion(),void e.sprite.hit();e.sprite.name!==l.GameConstants.ELASTIC_PEG&&e.sprite.name!==l.GameConstants.GOALKEEPER||(this.contactWithElasticElement=!0)}e.sprite.canBeBurnt&&e.sprite.burn()},r.prototype.returnBallToStartingPoint=function(){this.matchModel.onStillBallDetected(this.x,this.y),this.allowUpdate=!1,this.body.destroy(),this.body=null;this.game.add.tween(this).to({x:l.BallsManager.KICKOFF_PX,y:l.BallsManager.RETURN_TO_KICKOFF_PY},1200,Phaser.Easing.Quintic.InOut,!0).onComplete.add(this.onBallReturnedToStartingPoint,this),this.game.add.tween(this.scale).to({x:1.75,y:1.75},600,Phaser.Easing.Quintic.In,!0).to({x:1,y:1},600,Phaser.Easing.Quintic.Out,!0),this.blendMode=3,this.angle=0,this.game.time.events.add(300,function(){this.blendMode=0},this)},r.prototype.deductStandingExtraBall=function(){this.extraBallStanding||(l.MatchManager.onExtraBallStanding(),this.extraBallStanding=!0)},r.prototype.onBallReturnedToStartingPoint=function(){l.MatchManager.onBallReturnedToStartingPoint(),this.destroy()},r.prototype.explode=function(){this.allowUpdate=!1,this.body.destroy(),this.body=null,this.angle=0,this.animations.add("explode",Phaser.Animation.generateFrameNames("balon_electrocutado",1,4,"",4),16,!1),this.animations.play("explode").onComplete.add(this.disappear,this),this.timesExplosionAnimationPlayed=1,l.AudioManager.getInstance().playEffect("electrocucion")},r.prototype.disappear=function(){(this.timesExplosionAnimationPlayed++,3===this.timesExplosionAnimationPlayed)?this.implode():this.animations.play("explode").onComplete.add(this.disappear,this)},r.prototype.implode=function(){this.game.add.tween(this.scale).to({x:0,y:0},200,Phaser.Easing.Quadratic.Out,!0).onComplete.add(this.onBallOutsideTheField,this)},r.prototype.onBallOutsideTheField=function(){this.matchModel.onBallOutsideFootballField(),this.destroy()},r.prototype.capBallSpeed=function(){if(null!==this.body){var e=this.body.velocity.x,t=this.body.velocity.y;if(5e5<e*e+t*t){var a=Math.atan2(t,e);e=1800*Math.cos(a),t=1800*-Math.sin(a),this.body.velocity.x=e,0<this.body.velocity.y?this.body.velocity.y=Math.abs(t):this.body.velocity.y=-Math.abs(t)}}},r}(Phaser.Sprite);e.BALL_ID=0,l.Ball=e}(FootChinko||(FootChinko={})),function(n){var e=function(s){function e(e){var t=s.call(this,e,null,"daily-reward-field-boundaries",!1)||this,a=new Phaser.Sprite(t.game,n.GameConstants.GAME_WIDTH/2,-495);return t.add(a),t.game.physics.p2.enable(a,n.GameConstants.SHOW_PHYSICS_BODIES),a.body.setRectangle(n.GameConstants.GAME_WIDTH,1e3),a.body.addRectangle(305,1200,-520,1e3),a.body.addRectangle(305,1200,520,1e3),a.body.mass=50,a.body.setMaterial(n.GameVars.getInstance().materials.shockAbsorberMaterial),a.body.static=!0,t}return __extends(e,s),e}(Phaser.Group);n.DailyRewardFieldBoundaries=e}(FootChinko||(FootChinko={})),function(h){var e=function(r){function l(e){var t=r.call(this,e,null,"daily-reward-container",!1)||this;l.trunkHit=!1,t.scale.y=h.GameVars.scaleY;for(var a=h.GameManager.determineDailyRewardsItems(),s=0;s<a.length;s++){var n=l.ITEMS_COORDINATES[s][0],i=l.ITEMS_COORDINATES[s][1],o=new h.RewardItem(t.game,n,i,a[s]);t.add(o)}return t}return __extends(l,r),l.prototype.openTrunks=function(){this.forEach(function(e){e.trunkHit||e.openTrunk()},this)},l}(Phaser.Group);e.ITEMS_COORDINATES=[[85,560],[195,650],[315,710],[455,710],[585,650],[685,560]],h.DailyRewardItemsContainer=e}(FootChinko||(FootChinko={})),function(l){var e=function(o){function r(e){var t,a,s=o.call(this,e,null,"field boundaries",!1)||this;l.GameVars.penalties?(t=-340,925/(l.GameVars.scaleY*l.GameVars.fieldCorrectionScaleY),a=780/(l.GameVars.scaleY*l.GameVars.fieldCorrectionScaleY)):(t=-495,1100,a=980);var n=new Phaser.Sprite(s.game,l.GameConstants.GAME_WIDTH/2,t);s.add(n),s.game.physics.p2.enable(n,l.GameConstants.SHOW_PHYSICS_BODIES),n.body.setRectangle(768,1e3),n.body.addRectangle(305,1200,-534,1e3),n.body.addRectangle(305,1200,534,1e3),n.body.mass=50,n.body.setMaterial(l.GameVars.getInstance().materials.shockAbsorberMaterial),n.body.static=!0;var i=new Phaser.Sprite(s.game,r.LEFT_POST_PX,a);return s.add(i),s.game.physics.p2.enable(i,l.GameConstants.SHOW_PHYSICS_BODIES),i.body.setCircle(18),i.body.addCircle(18,r.DELTA_X_POST,0),i.body.setMaterial(l.GameVars.getInstance().materials.postMaterial),i.body.static=!0,i.body.onBeginContact.add(s.ballHitPosts,s),s}return __extends(r,o),r.prototype.ballHitPosts=function(e,t,a,s){l.AudioManager.getInstance().playEffect("madera_solida_1")},r}(Phaser.Group);e.LEFT_POST_PX=218,e.DELTA_X_POST=332,l.FieldBoundaries=e}(FootChinko||(FootChinko={})),function(c){var e=function(h){function e(e){var t,a,s,n,i,o=h.call(this,e,null,"pegs container",!1)||this,r=c.GameVars.getLevelData(c.GameVars.matchID-1);o.playersManager=null,o.movingPlatformsManager=null,o.streakerManager=null,o.staticItemsArray=[],o.mobileItemsArray=[],o.blinkingItemsArray=[];for(var l=1;l<r.length;l++)a=r[l].t,s=r[l].x,n=r[l].y,i=r[l].r*Math.PI/180,a===c.GameConstants.CACTUS_PEG?t=new c.CactusPeg(o.game,s,n):a===c.GameConstants.PEG_1?t=new c.Mushroom(o.game,s,n,1):a===c.GameConstants.PEG_2?t=new c.Mushroom(o.game,s,n,2):a===c.GameConstants.PEG_3?t=new c.Mushroom(o.game,s,n,3):a===c.GameConstants.PEG_4?t=new c.Mushroom(o.game,s,n,4):a===c.GameConstants.SOLID_PEG?t=new c.SolidPeg(o.game,s,n):a===c.GameConstants.ELASTIC_PEG_RIGHT?(t=new c.ElasticPeg(o.game,s,n,!0),o.blinkingItemsArray.push(t)):a===c.GameConstants.ELASTIC_PEG_LEFT?(t=new c.ElasticPeg(o.game,s,n,!1),o.blinkingItemsArray.push(t)):a===c.GameConstants.SOLID_PEG?t=new c.SolidPeg(o.game,s,n):a===c.GameConstants.MIDFIELDER_PEG_LEFT?(null==o.playersManager&&(o.playersManager=new c.PlayersManager(o.game)),t=new c.MidfielderPlayer(o.game,s,n,!1,o.playersManager,c.Player.STILL),o.playersManager.addPlayer(t),o.blinkingItemsArray.push(t)):a===c.GameConstants.MIDFIELDER_PEG_RIGHT?(null==o.playersManager&&(o.playersManager=new c.PlayersManager(o.game)),t=new c.MidfielderPlayer(o.game,s,n,!0,o.playersManager,c.Player.STILL),o.playersManager.addPlayer(t),o.blinkingItemsArray.push(t)):a===c.GameConstants.MIDFIELDER_PEG_RIGHT_MOVING_VERTICALLY_1?(null==o.playersManager&&(o.playersManager=new c.PlayersManager(o.game)),t=new c.MidfielderPlayer(o.game,s,n,!0,o.playersManager,c.Player.MOVING_VERTICALLY_1),o.playersManager.addPlayer(t),o.blinkingItemsArray.push(t)):a===c.GameConstants.MIDFIELDER_PEG_RIGHT_MOVING_HORIZONTALLY_1?(null==o.playersManager&&(o.playersManager=new c.PlayersManager(o.game)),t=new c.MidfielderPlayer(o.game,s,n,!0,o.playersManager,c.Player.MOVING_HORIZONTALLY_1),o.playersManager.addPlayer(t),o.blinkingItemsArray.push(t)):a===c.GameConstants.MIDFIELDER_PEG_RIGHT_MOVING_VERTICALLY_2?(null==o.playersManager&&(o.playersManager=new c.PlayersManager(o.game)),t=new c.MidfielderPlayer(o.game,s,n,!0,o.playersManager,c.Player.MOVING_VERTICALLY_2),o.playersManager.addPlayer(t),o.blinkingItemsArray.push(t)):a===c.GameConstants.MIDFIELDER_PEG_RIGHT_MOVING_HORIZONTALLY_2?(null==o.playersManager&&(o.playersManager=new c.PlayersManager(o.game)),t=new c.MidfielderPlayer(o.game,s,n,!0,o.playersManager,c.Player.MOVING_HORIZONTALLY_2),o.playersManager.addPlayer(t),o.blinkingItemsArray.push(t)):a===c.GameConstants.FORWARD_PEG_LEFT?(null==o.playersManager&&(o.playersManager=new c.PlayersManager(o.game)),t=new c.ForwardPlayer(o.game,s,n,!1,o.playersManager,c.Player.STILL),o.playersManager.addPlayer(t),o.blinkingItemsArray.push(t)):a===c.GameConstants.FORWARD_PEG_RIGHT?(null==o.playersManager&&(o.playersManager=new c.PlayersManager(o.game)),t=new c.ForwardPlayer(o.game,s,n,!0,o.playersManager,c.Player.STILL),o.playersManager.addPlayer(t),o.blinkingItemsArray.push(t)):a===c.GameConstants.FORWARD_PEG_RIGHT_MOVING_VERTICALLY_1?(null==o.playersManager&&(o.playersManager=new c.PlayersManager(o.game)),t=new c.ForwardPlayer(o.game,s,n,!0,o.playersManager,c.Player.MOVING_VERTICALLY_1),o.playersManager.addPlayer(t),o.blinkingItemsArray.push(t)):a===c.GameConstants.FORWARD_PEG_RIGHT_MOVING_HORIZONTALLY_1?(null==o.playersManager&&(o.playersManager=new c.PlayersManager(o.game)),t=new c.ForwardPlayer(o.game,s,n,!0,o.playersManager,c.Player.MOVING_HORIZONTALLY_1),o.playersManager.addPlayer(t),o.blinkingItemsArray.push(t)):a===c.GameConstants.FORWARD_PEG_RIGHT_MOVING_VERTICALLY_2?(null==o.playersManager&&(o.playersManager=new c.PlayersManager(o.game)),t=new c.ForwardPlayer(o.game,s,n,!0,o.playersManager,c.Player.MOVING_VERTICALLY_2),o.playersManager.addPlayer(t),o.blinkingItemsArray.push(t)):a===c.GameConstants.FORWARD_PEG_RIGHT_MOVING_HORIZONTALLY_2?(null==o.playersManager&&(o.playersManager=new c.PlayersManager(o.game)),t=new c.ForwardPlayer(o.game,s,n,!0,o.playersManager,c.Player.MOVING_HORIZONTALLY_2),o.playersManager.addPlayer(t),o.blinkingItemsArray.push(t)):a===c.GameConstants.SOLID_PLANK?t=new c.SolidPlank(o.game,s,n,i):a===c.GameConstants.BREAKABLE_PLANK_1?t=new c.Plank(o.game,s,n,i,1):a===c.GameConstants.BREAKABLE_PLANK_2?t=new c.Plank(o.game,s,n,i,2):a===c.GameConstants.BREAKABLE_PLANK_3?t=new c.Plank(o.game,s,n,i,3):a===c.GameConstants.BREAKABLE_PLANK_4?t=new c.Plank(o.game,s,n,i,4):a===c.GameConstants.CACTUS_PLANK?t=new c.CactusPlank(o.game,s,n,i):a===c.GameConstants.BLADE_CW?t=new c.Blade(o.game,s,n,i,!0):a===c.GameConstants.BLADE_CCW?t=new c.Blade(o.game,s,n,i,!1):a===c.GameConstants.EXTRA_BALL?t=new c.ExtraBall(o.game,s,n):a===c.GameConstants.MOVING_PLATFORM_RIGHT?(null==o.movingPlatformsManager&&(o.movingPlatformsManager=new c.MovingPlatformsManager(o.game)),t=new c.MovingPlatform(o.game,s,n,!0,i),o.movingPlatformsManager.addPlatform(t)):a===c.GameConstants.MOVING_PLATFORM_LEFT?(null==o.movingPlatformsManager&&(o.movingPlatformsManager=new c.MovingPlatformsManager(o.game)),t=new c.MovingPlatform(o.game,s,n,!1,i),o.movingPlatformsManager.addPlatform(t)):a===c.GameConstants.MAGIC_POTION&&(t=new c.MagicPotion(o.game,s,n)),a===c.GameConstants.MOVING_PLATFORM_LEFT||a===c.GameConstants.MOVING_PLATFORM_RIGHT||a===c.GameConstants.BLADE_CW||a===c.GameConstants.BLADE_CCW?o.mobileItemsArray.push(t):o.staticItemsArray.push(t);o.staticItemsArray.sort(function(e,t){return e.y-t.y});for(l=0;l<o.staticItemsArray.length;l++)o.add(o.staticItemsArray[l]);o.staticItemsArray.length=0,o.mobileItemsArray.sort(function(e,t){return e.y-t.y});for(l=0;l<o.mobileItemsArray.length;l++)o.add(o.mobileItemsArray[l]);return o.mobileItemsArray.length=0,null!==o.playersManager&&o.playersManager.init(),null!==o.movingPlatformsManager&&o.movingPlatformsManager.init(),o.addGoalKeeper(),o.setUpStreakerManager(),o.setUpdateLoop(),o.setUpBlinkingSystem(),o}return __extends(e,h),e.prototype.update=function(){h.prototype.update.call(this),this.updateFunction(),this.b++,this.b>this.blinkingFrameSteps[this.blinkingItemIndex]&&(this.b=0,this.blinkingItemsArray[this.blinkingItemIndex].blink(),this.blinkingItemIndex++,this.blinkingItemIndex>this.blinkingItemsNumber-1&&(this.blinkingItemIndex=0))},e.prototype.onVoodoo=function(){for(var e=this.children.length;e--;){var t=this.getChildAt(e);t.canBeAffectedByVoodoo&&t.makeVoodoo()}},e.prototype.onGamePaused=function(){null!==this.playersManager&&this.playersManager.onGamePaused()},e.prototype.onGameResumed=function(){null!==this.playersManager&&this.playersManager.onGameResumed()},e.prototype.onBallsManagerReadyToKickOff=function(){null!==this.streakerManager&&this.streakerManager.onKickOffManagerReadyToShoot()},e.prototype.addGoalKeeper=function(){this.goalKeeper=new c.GoalKeeper(this.game,200,850),this.add(this.goalKeeper),this.blinkingItemsArray.push(this.goalKeeper)},e.prototype.setUpStreakerManager=function(){0<c.GameVars.streakerFrequency&&(this.streakerManager=new c.StreakerManager(this.game,this))},e.prototype.setUpdateLoop=function(){null!==this.movingPlatformsManager&&(this.updateFunction=function(){this.movingPlatformsManager.update()}),null!==this.playersManager&&(this.updateFunction=function(){this.playersManager.update()}),null!==this.movingPlatformsManager&&null!==this.playersManager&&(this.updateFunction=function(){this.movingPlatformsManager.update(),this.playersManager.update()}),null===this.movingPlatformsManager&&null===this.playersManager&&(this.updateFunction=function(){})},e.prototype.setUpBlinkingSystem=function(){this.blinkingFrameSteps=[],this.b=0,this.blinkingItemIndex=0,this.blinkingItemsArray=this.blinkingItemsArray.concat(this.blinkingItemsArray),this.blinkingItemsArray=this.blinkingItemsArray.concat(this.blinkingItemsArray),Phaser.ArrayUtils.shuffle(this.blinkingItemsArray),this.blinkingItemsNumber=this.blinkingItemsArray.length;var e,t,a=new Phaser.RandomDataGenerator([1,2,3,4,5]);1===this.blinkingItemsNumber?(e=40,t=120):this.blinkingItemsNumber<3?(e=35,t=90):this.blinkingItemsNumber<6?(e=20,t=50):(e=15,t=35);for(var s=0;s<this.blinkingItemsNumber;s++)this.blinkingFrameSteps.push(a.between(e,t))},e}(Phaser.Group);c.PegsContainer=e}(FootChinko||(FootChinko={})),function(d){var e=function(c){function e(e,t,a,s,n,i,o,r,l){var h=c.call(this,e,t,a,s)||this;return h.itemRotation=o,h.canBeBurnt=null!=n&&n,h.canBeAffectedByVoodoo=null!==i&&i,(h.canBeBurnt||h.canBeAffectedByVoodoo)&&(h.smokeSprite=new Phaser.Sprite(h.game,0,0,"texture_atlas_1","humo_0001"),h.smokeSprite.animations.add("burn",Phaser.Animation.generateFrameNames("humo_",1,5,"",4),8,!0),h.smokeSprite.anchor.set(.5)),h.itemRotation=null===o?0:o,h.rightItem=null===r||r,h.hits=null==l?null:l,h.justHit=!1,h.burnt=!1,h.game.physics.p2.enable(h,d.GameConstants.SHOW_PHYSICS_BODIES),h.setBody(),h.setView(),h}return __extends(e,c),e.prototype.setBody=function(){},e.prototype.setView=function(){this.alpha=d.GameConstants.ALPHA_PHYSICS_BODIES},e.prototype.hit=function(){null!==this.hits&&(this.hits=1<this.hits?this.hits-1:0)},e.prototype.burn=function(){if(this.canBeBurnt){this.addChild(this.smokeSprite),this.smokeSprite.animations.play("burn",12,!1,!0),this.burnt=!0,this.body.destroy(),this.body=null,this.frameName=this.burntFrameName;var e=this.parent;e.swap(e.getBottom(),this),d.AudioManager.getInstance().playEffect("quemar_rival")}},e.prototype.makeVoodoo=function(){this.game.time.events.add(1500+1e3*Math.random(),function(){this.body.destroy(),this.body=null,this.addChild(this.smokeSprite),this.smokeSprite.animations.play("burn",8,!1,!0).onComplete.add(this.disappear,this),d.AudioManager.getInstance().playEffect("quemar_rival")},this)},e.prototype.disappear=function(){this.game.add.tween(this).to({alpha:0},750,Phaser.Easing.Quadratic.Out,!0).onComplete.add(function(){this.visible=!1},this)},e}(Phaser.Sprite);d.FootchinkoItem=e}(FootChinko||(FootChinko={})),function(n){var e=function(i){function e(e,t,a,s){var n=i.call(this,e,t,a,"texture_atlas_6",!1,!1)||this;return n.rewardType=s,n.trunkHit=!1,n.addReward(),n}return __extends(e,i),e.prototype.setBody=function(){this.body.setRectangle(96,70,0,22,0),this.body.static=!0,this.body.data.shapes[0].sensor=!0,this.body.onBeginContact.add(this.onRewardHit,this)},e.prototype.setView=function(){i.prototype.setView.call(this),this.name=n.GameConstants.DAILY_REWARD_ITEM,this.frameName="trunk_prize0001",this.animations.add("open-prize",Phaser.Animation.generateFrameNames("trunk_prize",1,15,"",4)),this.animations.add("open-not-chosen",Phaser.Animation.generateFrameNames("trunk_unchosen",1,15,"",4))},e.prototype.openTrunk=function(){this.game.time.events.add(750+500*Math.random(),function(){this.animations.play("open-not-chosen",12),this.rewardType!==n.GameConstants.NOTHING_REWARD&&this.game.time.events.add(300,function(){this.reward.visible=!0},this),n.AudioManager.getInstance().playEffect("moneda")},this)},e.prototype.onRewardHit=function(e,t,a,s){n.DailyRewardItemsContainer.trunkHit||(n.DailyRewardItemsContainer.trunkHit=!0,this.trunkHit=!0,this.animations.play("open-prize",12),this.game.time.events.add(300,function(){this.reward.visible=!0,this.rays.visible=!0,this.game.add.tween(this.rays).to({angle:360},6e3,Phaser.Easing.Linear.None,!0).loop(),n.GameManager.onDailyRewardItemHit(this.rewardType)},this),n.AudioManager.getInstance().playEffect("moneda"))},e.prototype.addReward=function(){var e;switch(this.rays=new Phaser.Image(this.game,0,0,"texture_atlas_1","rays"),this.rays.anchor.setTo(.5,.5),this.rays.scale.setTo(1.5,1.5),this.rays.blendMode=3,this.rays.visible=!1,this.addChild(this.rays),this.rewardType){case n.GameConstants.HIGH_CREDITS_REWARD:e="reward_top_coins";break;case n.GameConstants.MEDIUM_CREDITS_REWARD:e="reward_medium_coins";break;case n.GameConstants.LOW_CREDITS_REWARD:e="reward_low_coins";break;case n.GameConstants.FREEZE_GOALKEEPER_REWARD:e="reward_freeze";break;case n.GameConstants.THREE_EXTRA_BALLS_REWARD:e="reward_3_balls";break;case n.GameConstants.BALL_OF_FIRE_REWARD:e="reward_ball_fire";break;case n.GameConstants.VOODOO_REWARD:e="reward_voodoo";break;case n.GameConstants.NOTHING_REWARD:e=.5<Math.random()?"prize_void_01":"prize_void_02"}this.reward=new Phaser.Image(this.game,0,0,"texture_atlas_6",e),this.reward.anchor.setTo(.5,.5),this.reward.visible=!1,this.addChild(this.reward)},e}(n.FootchinkoItem);n.RewardItem=e}(FootChinko||(FootChinko={})),function(i){var e=function(){function e(e,t){this.game=e,this.pegsContainer=t,this.streakerShown=!1,this.frequency=i.GameVars.streakerFrequency}return e.prototype.onKickOffManagerReadyToShoot=function(){this.streakerShown||0===this.frequency||2===i.GameVars.balls&&0<=i.GameVars.playerGoals&&Math.random()<1/this.frequency&&(i.MatchManager.onStreakerEntry(),this.game.time.events.add(1500,function(){this.addStreaker()},this))},e.prototype.addStreaker=function(){this.streakerShown=!0;var e,t=Math.random(),a=.5<t,s=a?900:-125;e=.7<(t=Math.random())?150:.3<t?350:550;var n=new i.Streaker(this.game,s,e,a);this.pegsContainer.add(n),this.pegsContainer.bringToTop(n)},e}();i.StreakerManager=e}(FootChinko||(FootChinko={})),function(e){var t=function(o){function r(e,t,a,s,n){var i=o.call(this,e,t-r.WIDTH/2*Math.cos(s)+r.HEIGHT/2*Math.sin(s)+r.TEXTURE_PACKER_PADDING/2*Math.abs(Math.sin(s)),a-r.WIDTH/2*Math.sin(s)-r.HEIGHT/2*Math.cos(s)-r.TEXTURE_PACKER_PADDING/2*Math.abs(Math.cos(s)),"texture_atlas_1",!0,!1,s)||this;return i.canBeHit=!0,i.canBeAffectedByVoodoo=!1,i.body.angularVelocity=n?r.ANG_SPEED:-r.ANG_SPEED,i}return __extends(r,o),r.prototype.setBody=function(){this.body.setRectangle(108,35,62,0),this.body.allowGravity=!1,this.body.rotation=this.itemRotation,this.body.mass=1e8,this.body.allowRotation=!0,this.body.setZeroVelocity(),this.body.data.type=Phaser.Physics.P2.Body.KINEMATIC,this.body.fixedRotation=!1,this.body.setZeroDamping(),this.body.setMaterial(e.GameVars.getInstance().materials.plankMaterial)},r.prototype.setView=function(){o.prototype.setView.call(this),this.name=e.GameConstants.BLADE,this.frameName="blade",this.burntFrameName="burnt-blade",this.anchor.setTo(r.AXIS_PX/r.WIDTH,.5)},r.prototype.hit=function(){e.AudioManager.getInstance().playEffect("rebote_pin")},r}(e.FootchinkoItem);t.WIDTH=136,t.HEIGHT=46,t.TEXTURE_PACKER_PADDING=2,t.AXIS_PX=14,t.ANG_SPEED=.85,e.Blade=t}(FootChinko||(FootChinko={})),function(t){var e=function(n){function e(e,t,a){var s=n.call(this,e,t,a,"texture_atlas_1",!0)||this;return s.canBeHit=!1,s}return __extends(e,n),e.prototype.setBody=function(){this.body.setCircle(30),this.body.static=!0},e.prototype.setView=function(){this.name=t.GameConstants.CACTUS_PEG,this.burntFrameName="burnt-peg",this.frameName="pin_elec_0001",this.anchor.setTo(.5),this.animations.add("irradiate",Phaser.Animation.generateFrameNames("pin_elec_",1,3,"",4),12,!0),this.game.time.events.add(500*Math.random(),function(){this.animations.play("irradiate")},this)},e.prototype.burn=function(){this.animations.stop("irradiate"),n.prototype.burn.call(this)},e}(t.FootchinkoItem);t.CactusPeg=e}(FootChinko||(FootChinko={})),function(t){var e=function(i){function e(e,t,a,s){var n=i.call(this,e,t,a,"texture_atlas_1",!0,!1,s)||this;return n.canBeHit=!1,n.canBeAffectedByVoodoo=!1,n}return __extends(e,i),e.prototype.setBody=function(){this.body.setRectangle(190,30,0,0),this.body.rotation=this.itemRotation,this.body.mass=100,this.body.static=!0,this.body.angularVelocity=0,this.body.setMaterial(t.GameVars.getInstance().materials.pegMaterial)},e.prototype.setView=function(){this.name=t.GameConstants.CACTUS_PLANK,this.burntFrameName="burnt-electric-plank",this.frameName="barra_elec_0001",this.animations.add("irradiate",Phaser.Animation.generateFrameNames("barra_elec_",1,3,"",4),8,!0),this.game.time.events.add(500*Math.random(),function(){this.animations.play("irradiate")},this)},e.prototype.burn=function(){this.animations.stop("irradiate"),i.prototype.burn.call(this)},e}(t.FootchinkoItem);t.CactusPlank=e}(FootChinko||(FootChinko={})),function(o){var e=function(i){function e(e,t,a,s){var n=i.call(this,e,t,a,""+o.GameVars.adversaryID,!1,!0,0,s)||this;return n.canBeHit=!0,n}return __extends(e,i),e.prototype.setBody=function(){this.body.setCircle(45),this.body.setMaterial(o.GameVars.getInstance().materials.elasticPegMaterial),this.body.static=!0},e.prototype.setView=function(){i.prototype.setView.call(this),this.scaleXFactor=this.rightItem?-1:1;var e=3*(o.GameVars.adversaryID-1)+1,t=3*(o.GameVars.adversaryID-1)+2,a=3*(o.GameVars.adversaryID-1)+3;this.textureIdle="bumper_"+o.GameVars.formatNumberForTextureAtlas(e),this.textureIdleBlink="bumper_"+o.GameVars.formatNumberForTextureAtlas(t),this.onHitFrame="bumper_"+o.GameVars.formatNumberForTextureAtlas(a),this.frameName=this.textureIdle,this.anchor.setTo(.5),this.name=o.GameConstants.ELASTIC_PEG,this.scale.setTo(this.scaleXFactor,1)},e.prototype.hit=function(){this.justHit=!0,this.frameName=this.onHitFrame,this.angle=.5<Math.random()?10:-10,this.game.time.events.add(200,this.restorePeg,this);var e=.5<Math.random()?1.05:1.15,t=.5<Math.random()?1.05:1.15;this.scale.set(e*this.scaleXFactor,t),o.AudioManager.getInstance().playEffect("rebote_bumper")},e.prototype.blink=function(){this.game&&(this.justHit||(this.frameName=this.textureIdleBlink,this.game.time.events.add(100,this.returnToIdle,this)))},e.prototype.returnToIdle=function(){this.frameName=this.textureIdle},e.prototype.restorePeg=function(){this.justHit=!1,this.frameName=this.textureIdle,this.body.angle=0,this.scale.setTo(this.scaleXFactor,1)},e}(o.FootchinkoItem);o.ElasticPeg=e}(FootChinko||(FootChinko={})),function(t){var e=function(n){function e(e,t,a){var s=n.call(this,e,t,a,"texture_atlas_1")||this;return s.canBeHit=!0,s}return __extends(e,n),e.prototype.setBody=function(){this.body.setCircle(28),this.body.static=!0},e.prototype.setView=function(){n.prototype.setView.call(this),this.name=t.GameConstants.EXTRA_BALL,this.anchor.set(.5),this.animations.add("spin",Phaser.Animation.generateFrameNames("balon_extra",1,7,"",4),16,!0),this.animations.play("spin")},e.prototype.hit=function(){this.canBeHit=!1;var e=t.FootballFieldState.currentInstance.pegsContainer;e.swap(e.getBottom(),this),this.body.destroy(),this.body=null,this.animations.stop("spin"),this.frameName="balon_extra0008",this.game.add.tween(this).to({alpha:0},500,Phaser.Easing.Quadratic.Out,!0,400).onComplete.add(this.kill,this)},e}(t.FootchinkoItem);t.ExtraBall=e}(FootChinko||(FootChinko={})),function(d){var e=function(h){function c(e,t,a){var s=h.call(this,e,t,a,""+d.GameVars.adversaryID)||this;s.canBeHit=!0,s.cursed=!1,s.frozen=!1,s.canBeAffectedByVoodoo=!0,s.isElectric="normal"!==d.GameVars.goalKeeperType,s.updateAllowed=!0,s.iceSprite=null,s.smokeSprite=null;var n=d.GameVars.adversaryID,i=4*(n-1)+1,o=4*(n-1)+2,r=4*(n-1)+3,l=4*(n-1)+4;return s.textureIdle="portero_"+d.GameVars.formatNumberForTextureAtlas(i),s.textureIdleBlink="portero_"+d.GameVars.formatNumberForTextureAtlas(o),s.textureSave="portero_"+d.GameVars.formatNumberForTextureAtlas(r),s.textureGoal="portero_"+d.GameVars.formatNumberForTextureAtlas(l),s.frameName=s.textureIdle,s.game.physics.p2.enable(s,d.GameConstants.SHOW_PHYSICS_BODIES),s.alpha=d.GameConstants.ALPHA_PHYSICS_BODIES,s.anchor.set(.5),s.body.clearShapes(),s.body.addPolygon([!0,!0,!0],[20,35,50,5,93.5,0,137,5,167,35,167,85,20,85]),s.body.allowRotation=!1,s.body.kinematic=!0,s.body.setMaterial(d.GameVars.getInstance().materials.goalkeeperMaterial),s.body.mass=1e9,s.body.velocity.x=c.HORIZONTAL_SPEED,s.isElectric?(s.electricGlovesAnimation=new Phaser.Sprite(s.game,0,0,"texture_atlas_1"),s.electricGlovesAnimation.animations.add(c.IDLE_ANIMATION,Phaser.Animation.generateFrameNames("manos_electricas",1,4,"",4),12,!0),s.electricGlovesAnimation.animations.add(c.SAVE_ANIMATION,Phaser.Animation.generateFrameNames("manos_electricas",5,8,"",4),12,!0),s.electricGlovesAnimation.animations.add(c.GOAL_ANIMATION,Phaser.Animation.generateFrameNames("manos_electricas",9,11,"",4),12,!0),s.electricGlovesAnimation.anchor.set(.5),s.addChild(s.electricGlovesAnimation),s.electricGlovesAnimation.play(c.IDLE_ANIMATION),s.name=d.GameConstants.ELECTRIC_GOALKEEPER):s.name=d.GameConstants.GOALKEEPER,s.currentState=c.MOVING_STATE,s.leftLimitOnPenalty=d.FieldBoundaries.LEFT_POST_PX,s.rightLimitOnPenalty=d.FieldBoundaries.LEFT_POST_PX+d.FieldBoundaries.DELTA_X_POST,s}return __extends(c,h),c.prototype.update=function(){this.updateAllowed&&(this.x>d.FieldBoundaries.LEFT_POST_PX+d.FieldBoundaries.DELTA_X_POST&&(this.body.velocity.x=-c.HORIZONTAL_SPEED,d.GameVars.isGoalKeeperDuck&&this.scale.set(-1,1)),this.x<d.FieldBoundaries.LEFT_POST_PX&&(this.body.velocity.x=c.HORIZONTAL_SPEED,d.GameVars.isGoalKeeperDuck&&this.scale.set(1)))},c.prototype.hit=function(){if(!this.frozen)if(this.currentState===c.MOVING_STATE&&(this.frameName=this.textureSave,this.isElectric&&this.electricGlovesAnimation.play(c.SAVE_ANIMATION),this.game.time.events.add(350,this.restart,this)),this.name===d.GameConstants.DUCK)d.AudioManager.getInstance().playEffect("quack_risa");else{var e=Math.random();.66<e?d.AudioManager.getInstance().playEffect("risa_portero_1"):.33<e?d.AudioManager.getInstance().playEffect("risa_portero_2"):d.AudioManager.getInstance().playEffect("risa_portero_3")}},c.prototype.onFreezeGoalKeeper=function(){if(!this.cursed){this.frozen=!0,this.name=d.GameConstants.FROZEN_GOALKEEPER,this.updateAllowed=!1,this.body.velocity.x=0,this.isElectric&&(this.electricGlovesAnimation.visible=!1),this.body.setMaterial(d.GameVars.getInstance().materials.frozenGoalkeeperMaterial);var e=d.GameVars.isGoalKeeperDuck?"duck-iceblock":"goalkeeper-iceblock";this.iceSprite=new Phaser.Sprite(this.game,0,0,"texture_atlas_1",e),this.iceSprite.anchor.set(.5),this.addChild(this.iceSprite)}},c.prototype.onNoBallsInTheField=function(){this.frozen&&(this.frozen=!1,this.updateAllowed=!0,this.isElectric?(this.name=d.GameConstants.ELECTRIC_GOALKEEPER,this.electricGlovesAnimation.visible=!0):this.name=d.GameConstants.GOALKEEPER,this.game.add.tween(this.iceSprite).to({alpha:0},400,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.iceSprite.destroy()},this),this.body.velocity.x=c.HORIZONTAL_SPEED,this.body.setMaterial(d.GameVars.getInstance().materials.goalkeeperMaterial),this.restart())},c.prototype.makeVoodoo=function(){this.updateAllowed=!1,this.body.velocity.x=0,this.cursed=!0,this.game.time.events.add(1500+1e3*Math.random(),function(){this.smokeSprite=new Phaser.Sprite(this.game,0,0,"texture_atlas_1","humo_0001"),this.smokeSprite.animations.add("burn",Phaser.Animation.generateFrameNames("humo_",1,5,"",4),8,!0),this.smokeSprite.anchor.set(.5),this.addChild(this.smokeSprite),this.smokeSprite.animations.play("burn",16,!1,!0).onComplete.add(function(){this.visible=!1,this.body.data.shapes[0].sensor=!0},this)},this)},c.prototype.onGoal=function(){this.cursed||this.frozen||(this.currentState===c.MOVING_STATE&&(this.body.velocity.x=0,this.frameName=this.textureGoal,this.isElectric&&this.electricGlovesAnimation.play(c.GOAL_ANIMATION),this.currentState=c.STILL_STATE,this.game.time.events.add(1500,this.restart,this)),this.name===d.GameConstants.DUCK&&d.AudioManager.getInstance().playEffect("quack_goal"))},c.prototype.restart=function(){this.cursed||(this.currentState===c.STILL_STATE&&(this.body.velocity.x=.5<Math.random()?c.HORIZONTAL_SPEED:-c.HORIZONTAL_SPEED,this.currentState=c.MOVING_STATE),this.frameName!==this.textureIdle&&(this.frameName=this.textureIdle,this.isElectric&&this.electricGlovesAnimation.play(c.IDLE_ANIMATION)))},c.prototype.blink=function(){this.cursed||this.frozen||this.frameName!==this.textureIdle||(this.frameName=this.textureIdleBlink,d.GameVars.isGoalKeeperDuck&&!d.GameVars.paused&&d.AudioManager.getInstance().playEffect("quack"),this.game.time.events.add(100,this.returnToIdle,this))},c.prototype.shrink=function(){this.name=d.GameConstants.DUCK,this.isElectric&&this.electricGlovesAnimation.destroy(),this.updateAllowed=!1,this.body.velocity.x=0;var e=new Phaser.Sprite(this.game,0,0,"texture_atlas_1");e.animations.add("transformation",Phaser.Animation.generateFrameNames("fx_pato_portero_",1,6,"",4),8,!1),e.animations.play("transformation",8,!1,!0),e.anchor.setTo(.5),this.addChild(e),this.game.add.tween(this.scale).to({x:1.35,y:1},350,Phaser.Easing.Elastic.In,!1,150).to({x:.6,y:1.25},350,Phaser.Easing.Elastic.Out).to({x:.45,y:.45},400,Phaser.Easing.Elastic.InOut).start(),this.game.time.events.add(1500,this.transformInToDuck,this)},c.prototype.returnToIdle=function(){this.frameName=this.textureIdle},c.prototype.transformInToDuck=function(){this.cursed||(this.scale.set(-1,1),this.updateAllowed=!0,this.body.setCircle(32),this.body.setMaterial(d.GameVars.getInstance().materials.duckMaterial),this.frozen?this.iceSprite.frameName="duck-iceblock":(this.updateAllowed=!0,this.body.velocity.x=-c.HORIZONTAL_SPEED),this.textureIdle="duck_idle_0",this.textureIdleBlink="duck_idle_1",this.textureSave="duck_on_save",this.textureGoal="duck_on_goal",this.frameName=this.textureIdle)},c}(Phaser.Sprite);e.MOVING_STATE="moving",e.STILL_STATE="still",e.HORIZONTAL_SPEED=200,e.IDLE_ANIMATION="idle",e.SAVE_ANIMATION="save",e.GOAL_ANIMATION="goal",d.GoalKeeper=e}(FootChinko||(FootChinko={})),function(a){var e=function(n){function e(e,t,a){var s=n.call(this,e,t,a,"texture_atlas_1",!1,!0)||this;return s.canBeHit=!0,s}return __extends(e,n),e.prototype.setBody=function(){this.body.setCircle(28),this.body.static=!0},e.prototype.setView=function(){n.prototype.setView.call(this),this.name=a.GameConstants.MAGIC_POTION,this.anchor.setTo(.5,.5),this.animations.add("spin",Phaser.Animation.generateFrameNames("pocima_pato",1,7,"",4),16,!0),this.animations.play("spin")},e.prototype.hit=function(){n.prototype.hit.call(this),this.visible=!1,this.body.destroy(),this.body=null,this.bringToTop();var e=a.FootballFieldState.currentInstance.goalKeeper,t=Phaser.Math.distance(this.x,this.y,e.x,e.y);this.ray=new Phaser.Sprite(this.game,this.x,this.y,"texture_atlas_5"),this.ray.animations.add("ray_animation",Phaser.Animation.generateFrameNames("magic_potion_ray_",1,6,"",4),16,!1),this.ray.animations.play("ray_animation",16,!1,!0),this.ray.anchor.set(.5,0),this.ray.scale.set(1,t/380),this.ray.angle=180*Math.atan(-(e.x-this.x)/(e.y-this.y))/Math.PI,a.FootballFieldState.currentInstance.add.existing(this.ray),this.game.time.events.add(1100,this.removeMagicPotion,this),a.AudioManager.getInstance().playEffect("quemar_rival")},e.prototype.makeVoodoo=function(){this.animations.stop("spin"),n.prototype.makeVoodoo.call(this)},e.prototype.removeMagicPotion=function(){this.ray.destroy(),this.destroy()},e}(a.FootchinkoItem);a.MagicPotion=e}(FootChinko||(FootChinko={})),function(e){var t=function(o){function r(e,t,a,s,n){var i=o.call(this,e,t-r.EDGE_DX*Math.cos(n)+r.EDGE_DY*Math.sin(n)-r.TEXTURE_PACKER_PADDING/2*Math.abs(Math.sin(n)),a-r.EDGE_DY*Math.cos(n)-r.EDGE_DX*Math.sin(n)-r.TEXTURE_PACKER_PADDING/2*Math.abs(Math.cos(n)),"texture_atlas_1",!0,!1,n,s)||this;return i.canBeHit=!0,i.px=i.x,i.py=i.y,i.wayIn=!0,i}return __extends(r,o),r.prototype.setBody=function(){this.body.setRectangle(68,30,0,0),this.body.allowGravity=!1,this.body.rotation=this.itemRotation,this.body.mass=1e8,this.body.allowRotation=!0,this.body.setZeroVelocity(),this.body.data.type=Phaser.Physics.P2.Body.KINEMATIC,this.body.angularVelocity=0,this.body.fixedRotation=!1,this.body.setZeroDamping(),this.body.setMaterial(e.GameVars.getInstance().materials.plankMaterial),this.velocity_x=Math.cos(this.itemRotation)*r.PLATFORM_SPEED,this.velocity_y=Math.sin(this.itemRotation)*r.PLATFORM_SPEED,this.direction=this.rightItem?1:-1,this.body.velocity.x=this.direction*this.velocity_x,this.body.velocity.y=this.direction*this.velocity_y},r.prototype.setView=function(){o.prototype.setView.call(this),this.name=e.GameConstants.SOLID_PLANK,this.frameName=this.rightItem?"moving-platform-right":"moving-platform-left",this.burntFrameName="burnt-mobile-plank"},r.prototype.burn=function(){o.prototype.burn.call(this),e.MovingPlatformsManager.s_currentMovingPlatformsManager.platformBurnt(this)},r.prototype.hasReachedLimit=function(){var e=(this.x-this.px)*(this.x-this.px)+(this.y-this.py)*(this.y-this.py);return this.wayIn?r.SQUARE_DELTA_DISTANCE<e&&!(this.wayIn=!1):e<5&&(this.wayIn=!0)},r.prototype.stop=function(){this.burnt||(this.body.velocity.x=0,this.body.velocity.y=0)},r.prototype.reverse=function(){this.burnt||(this.direction=-this.direction,this.body.velocity.x=this.direction*this.velocity_x,this.body.velocity.y=this.direction*this.velocity_y)},r.prototype.hit=function(){e.AudioManager.getInstance().playEffect("rebote_pin")},r}(e.FootchinkoItem);t.WIDTH=85,t.HEIGHT=46,t.TEXTURE_PACKER_PADDING=2,t.EDGE_DX=6,t.EDGE_DY=6,t.SQUARE_DELTA_DISTANCE=4225,t.PLATFORM_SPEED=55,e.MovingPlatform=t}(FootChinko||(FootChinko={})),function(e){var t=function(){function t(e){this.game=e,this.platforms=[],this.updateAllowed=!0,t.s_currentMovingPlatformsManager=this}return t.prototype.addPlatform=function(e){this.platforms.push(e)},t.prototype.init=function(){this.refPlatform=this.platforms[0],this.numPlatforms=this.platforms.length},t.prototype.update=function(){if(this.updateAllowed&&this.refPlatform.hasReachedLimit()){for(var e=this.numPlatforms;e--;)this.platforms[e].stop();this.game.time.events.add(t.REVERSE_TIME,this.reverseDirection,this)}},t.prototype.platformBurnt=function(e){var t=this.platforms.indexOf(e);this.platforms.splice(t,1),this.numPlatforms=this.platforms.length,0!==this.platforms.length?this.refPlatform===e&&(this.refPlatform=this.platforms[0]):this.updateAllowed=!1},t.prototype.reverseDirection=function(){for(var e=this.numPlatforms;e--;)this.platforms[e].reverse()},t}();t.REVERSE_TIME=1150,e.MovingPlatformsManager=t}(FootChinko||(FootChinko={})),function(a){var e=function(i){function e(e,t,a,s){var n=i.call(this,e,t,a,"texture_atlas_1",!0,!1,0,null,s)||this;return n.canBeHit=!0,n}return __extends(e,i),e.prototype.setBody=function(){this.body.setZeroVelocity(),this.body.static=!0,this.body.setCircle(15),this.body.setMaterial(a.GameVars.getInstance().materials.pegMaterial)},e.prototype.setView=function(){switch(i.prototype.setView.call(this),this.burntFrameName="burnt-peg",this.hits){case 4:this.name=a.GameConstants.PEG_4,this.frameName="peg-4";break;case 3:this.name=a.GameConstants.PEG_3,this.frameName="peg-3";break;case 2:this.name=a.GameConstants.PEG_2,this.frameName="peg-2";break;case 1:this.name=a.GameConstants.PEG_1,this.frameName="peg-1"}this.animations.add("disappear",Phaser.Animation.generateFrameNames("peg_disappear_",1,4,"",4))},e.prototype.hit=function(){if(i.prototype.hit.call(this),0===this.hits)this.animations.play("disappear",30).onComplete.add(this.kill,this);else{switch(this.hits){case 3:this.name=a.GameConstants.PEG_3,this.frameName="peg-3";break;case 2:this.name=a.GameConstants.PEG_2,this.frameName="peg-2";break;case 1:this.name=a.GameConstants.PEG_1,this.frameName="peg-1"}var e=.5<Math.random()?1.1:1.35,t=.5<Math.random()?1.1:1.35;this.scale.setTo(e,t),this.game.time.events.add(100,function(){this.scale.set(1)},this)}a.AudioManager.getInstance().playEffect("rebote_seta_1")},e}(a.FootchinkoItem);a.Mushroom=e}(FootChinko||(FootChinko={})),function(d){var e=function(h){function c(e,t,a){var s=h.call(this,e,t,a,""+d.GameVars.adversaryID)||this;s.canBeHit=!0,s.updateAllowed=!0;var n=d.GameVars.adversaryID,i=4*(n-1)+1,o=4*(n-1)+2,r=4*(n-1)+3,l=4*(n-1)+4;return s.textureIdle="portero_"+d.GameVars.formatNumberForTextureAtlas(i),s.textureIdleBlink="portero_"+d.GameVars.formatNumberForTextureAtlas(o),s.textureSave="portero_"+d.GameVars.formatNumberForTextureAtlas(r),s.textureGoal="portero_"+d.GameVars.formatNumberForTextureAtlas(l),s.frameName=s.textureIdle,s.game.physics.p2.enable(s,d.GameConstants.SHOW_PHYSICS_BODIES),s.alpha=d.GameConstants.ALPHA_PHYSICS_BODIES,s.anchor.set(.5),s.body.clearShapes(),s.body.addPolygon([!0,!0,!0],[20,35,50,5,93.5,0,137,5,167,35,167,85,20,85]),s.body.allowGravity=!1,s.body.allowRotation=!1,s.body.setZeroVelocity(),s.body.data.type=Phaser.Physics.P2.Body.KINEMATIC,s.body.angularVelocity=0,s.body.fixedRotation=!0,s.body.setZeroDamping(),s.body.setMaterial(d.GameVars.getInstance().materials.goalkeeperMaterial),s.body.mass=1e9,s.body.velocity.x=c.HORIZONTAL_SPEED,s.name=d.GameConstants.GOALKEEPER,s.leftLimitOnPenalty=d.FieldBoundaries.LEFT_POST_PX,s.rightLimitOnPenalty=d.FieldBoundaries.LEFT_POST_PX+d.FieldBoundaries.DELTA_X_POST,s.game.time.events.add(1e3,s.blink,s),s}return __extends(c,h),c.prototype.update=function(){var e;this.x>this.rightLimitOnPenalty&&(e=Math.random()+1,this.body.velocity.x=-c.HORIZONTAL_SPEED*e,.75<Math.random()?this.leftLimitOnPenalty=d.FieldBoundaries.LEFT_POST_PX:this.leftLimitOnPenalty=d.FieldBoundaries.LEFT_POST_PX+.4*Math.random()*d.FieldBoundaries.DELTA_X_POST),this.x<this.leftLimitOnPenalty&&(e=Math.random()+1,this.body.velocity.x=c.HORIZONTAL_SPEED*e,.75<Math.random()?this.rightLimitOnPenalty=d.FieldBoundaries.LEFT_POST_PX+d.FieldBoundaries.DELTA_X_POST:this.rightLimitOnPenalty=d.FieldBoundaries.LEFT_POST_PX+d.FieldBoundaries.DELTA_X_POST*(.6+.4*Math.random()))},c.prototype.hit=function(){this.frameName=this.textureSave,this.game.time.events.add(350,this.restart,this)},c.prototype.onGoal=function(){this.body.velocity.x=0,this.frameName=this.textureGoal},c.prototype.blink=function(){this.frameName===this.textureIdle&&(this.frameName=this.textureIdleBlink,this.game.time.events.add(100,this.returnToIdle,this))},c.prototype.restart=function(){this.frameName!==this.textureIdle&&(this.frameName=this.textureIdle)},c.prototype.returnToIdle=function(){this.frameName=this.textureIdle,this.game.time.events.add(Math.floor(2500*Math.random())+1e3,this.blink,this)},c}(Phaser.Sprite);e.HORIZONTAL_SPEED=200,d.PenaltyGoalKeeper=e}(FootChinko||(FootChinko={})),function(t){var e=function(o){function e(e,t,a,s,n){var i=o.call(this,e,t,a,"texture_atlas_1",!0,!1,s,null,n)||this;return i.canBeHit=!0,i}return __extends(e,o),e.prototype.setBody=function(){this.body.setRectangle(68,28,0,2),this.body.rotation=this.itemRotation,this.body.mass=1e9,this.body.static=!0,this.body.setMaterial(t.GameVars.getInstance().materials.plankMaterial)},e.prototype.setView=function(){switch(o.prototype.setView.call(this),this.burntFrameName="burnt-plank",this.hits){case 4:this.name=t.GameConstants.BREAKABLE_PLANK_4,this.frameName="breakable-plank-4";break;case 3:this.name=t.GameConstants.BREAKABLE_PLANK_3,this.frameName="breakable-plank-3";break;case 2:this.name=t.GameConstants.BREAKABLE_PLANK_2,this.frameName="breakable-plank-2";break;case 1:this.name=t.GameConstants.BREAKABLE_PLANK_1,this.frameName="breakable-plank-1"}this.animations.add("disappear",Phaser.Animation.generateFrameNames("peg_disappear_",1,4,"",4))},e.prototype.hit=function(){if(o.prototype.hit.call(this),0===this.hits)this.animations.play("disappear",30).onComplete.add(this.kill,this);else{switch(this.hits){case 3:this.frameName="breakable-plank-3";break;case 2:this.frameName="breakable-plank-2";break;case 1:this.frameName="breakable-plank-1"}this.scale.setTo(1,.75),this.game.time.events.add(100,function(){this.scale.set(1)},this)}t.AudioManager.getInstance().playEffect("madera_rajada")},e}(t.FootchinkoItem);t.Plank=e}(FootChinko||(FootChinko={})),function(a){var e=function(n){function e(e,t,a){var s=n.call(this,e,t,a,"texture_atlas_1",!0)||this;return s.canBeHit=!0,s}return __extends(e,n),e.prototype.setBody=function(){this.body.setCircle(15),this.body.static=!0,this.body.setMaterial(a.GameVars.getInstance().materials.pegMaterial)},e.prototype.setView=function(){n.prototype.setView.call(this),this.name=a.GameConstants.SOLID_PEG,this.anchor.set(.5),this.frameName="solid-peg",this.burntFrameName="burnt-peg"},e.prototype.hit=function(){var e=.5<Math.random()?1.1:1.35,t=.5<Math.random()?1.1:1.35;this.scale.set(e,t),this.game.time.events.add(100,function(){this.scale.set(1)},this),a.AudioManager.getInstance().playEffect("rebote_pin")},e}(a.FootchinkoItem);a.SolidPeg=e}(FootChinko||(FootChinko={})),function(t){var e=function(i){function e(e,t,a,s){var n=i.call(this,e,t,a,"texture_atlas_1",!0,!1,s)||this;return n.canBeHit=!0,n}return __extends(e,i),e.prototype.setBody=function(){this.body.setRectangle(68,28,0,2),this.body.rotation=this.itemRotation,this.body.mass=1e9,this.body.static=!0,this.body.setMaterial(t.GameVars.getInstance().materials.plankMaterial)},e.prototype.setView=function(){i.prototype.setView.call(this),this.name=t.GameConstants.SOLID_PLANK,this.burntFrameName="burnt-plank",this.frameName="solid-plank"},e.prototype.hit=function(){t.AudioManager.getInstance().playEffect("madera_solida_1")},e}(t.FootchinkoItem);t.SolidPlank=e}(FootChinko||(FootChinko={})),function(o){var e=function(i){function e(e,t,a,s){var n=i.call(this,e,t,a,"texture_atlas_1",!1,!1,0,s)||this;return n.canBeHit=!1,n.body.velocity.y=75,n.rightItem?(n.body.velocity.x=-175,n.end_px=-200,n.insideField_px=775):(n.x=-125,n.body.velocity.x=175,n.end_px=900,n.insideField_px=-20),n.pegsContainer=o.FootballFieldState.currentInstance.pegsContainer,n}return __extends(e,i),e.prototype.setBody=function(){this.body.allowGravity=!1,this.body.allowRotation=!1,this.body.setZeroVelocity(),this.body.data.type=Phaser.Physics.P2.Body.KINEMATIC,this.rightItem?this.body.setCircle(50,-30,-15):this.body.setCircle(50,30,-15),this.body.angularVelocity=0,this.body.fixedRotation=!1,this.body.setZeroDamping(),this.body.setMaterial(o.GameVars.getInstance().materials.pegMaterial)},e.prototype.setView=function(){i.prototype.setView.call(this),this.name=o.GameConstants.STREAKER,this.animations.add("run",Phaser.Animation.generateFrameNames("male_streaker",1,14,"",4)),this.animations.add("hit",Phaser.Animation.generateFrameNames("male_streaker",15,26,"",4),16,!1).onComplete.add(this.removeStreaker,this),this.animations.play("run",20,!0);var e=this.rightItem?1:-1;this.scale.set(e,1)},e.prototype.update=function(){this.rightItem?(!this.canBeHit&&this.x<this.insideField_px&&(this.canBeHit=!0),this.x<this.end_px&&this.destroy(!0)):(!this.canBeHit&&this.x>this.insideField_px&&(this.canBeHit=!0),this.x>this.end_px&&this.destroy(!0))},e.prototype.hit=function(){i.prototype.hit.call(this),this.body.destroy(),this.body=null,this.animations.play("hit"),o.MatchManager.onStreakerHit(),o.AudioManager.getInstance().playEffect("power_up")},e.prototype.removeStreaker=function(){this.game.add.tween(this).to({alpha:0},500,Phaser.Easing.Quadratic.Out,!0,800).onComplete.add(this.kill,this)},e}(o.FootchinkoItem);o.Streaker=e}(FootChinko||(FootChinko={})),function(c){var e=function(l){function h(e,t,a,s,n,i){var o=l.call(this,e,t,a,s)||this;o.canBeHit=!1,o.ball=null,o.isOff=!0,o.hasReceived=!1,o.rightPlayer=n,o.returnToIdleTimeEvent=null,o.movementType=i,o.f=0,o.blinking=!1,o.game.physics.p2.enable(o,c.GameConstants.SHOW_PHYSICS_BODIES),o.anchor.setTo(.5),o.body.allowGravity=!1,o.body.allowRotation=!0,o.body.setZeroVelocity(),o.body.data.type=Phaser.Physics.P2.Body.KINEMATIC,o.body.setCircle(40),o.body.angularVelocity=0,o.body.fixedRotation=!1,o.body.setZeroDamping();var r=o.rightPlayer?1:-1;return o.scale.setTo(r,1),o.movementType!==h.STILL&&o.setUpMovementVariables(),o.alpha=c.GameConstants.ALPHA_PHYSICS_BODIES,o}return __extends(h,l),h.prototype.update=function(){l.prototype.update.call(this),this.blinking&&(this.f++,6===this.f&&this.returnToIdle())},h.prototype.reverse=function(){this.direction=-this.direction,this.movingVertically?this.body.velocity.y=this.direction*h.SPEED:this.body.velocity.x=this.direction*h.SPEED},h.prototype.turnOn=function(){this.frameName=this.textureSelected,this.isOff=!1},h.prototype.turnOff=function(){this.frameName=this.textureIdle,this.isOff=!0},h.prototype.blink=function(){null!==this.ball||c.GameVars.isBallAttachedToPassingMidfielder||(this.frameName=this.textureIdleBlink,this.f=0,this.blinking=!0)},h.prototype.shootBall=function(){this.frameName=this.textureShooting,this.isOff=!0,this.returnToIdleTimeEvent=this.game.time.events.add(200,this.returnToIdle,this),c.AudioManager.getInstance().playEffect("chuta_chutador")},h.prototype.prepareToShoot=function(){null!==this.returnToIdleTimeEvent&&this.game.time.events.remove(this.returnToIdleTimeEvent),this.hasReceived=!0,this.frameName=this.textureAiming},h.prototype.stopMoving=function(){this.body.velocity.x=0,this.body.velocity.y=0},h.prototype.returnToIdle=function(){this.blinking=!1,this.hasReceived||(this.frameName=this.textureIdle)},h.prototype.getShootAngle=function(){return 90},h.prototype.onGamePaused=function(){},h.prototype.onGameResumed=function(){},h.prototype.setUpMovementVariables=function(){this.movementType===h.MOVING_VERTICALLY_1?(this.movingVertically=!0,this.movingHorizontally=!1,this.lowerLimit=this.y,this.upperLimit=this.y+h.DELTA,this.body.velocity.y=h.SPEED,this.direction=1):this.movementType===h.MOVING_VERTICALLY_2?(this.movingVertically=!0,this.movingHorizontally=!1,this.lowerLimit=this.y-h.DELTA,this.upperLimit=this.y,this.body.velocity.y=-h.SPEED,this.direction=-1):this.movementType===h.MOVING_HORIZONTALLY_1?(this.movingVertically=!1,this.movingHorizontally=!0,this.lowerLimit=this.x,this.upperLimit=this.x+h.DELTA,this.body.velocity.x=h.SPEED,this.direction=1):this.movementType===h.MOVING_HORIZONTALLY_2?(this.movingVertically=!1,this.movingHorizontally=!0,this.lowerLimit=this.x-h.DELTA,this.upperLimit=this.x,this.body.velocity.x=-h.SPEED,this.direction=-1):(this.movingVertically=!1,this.movingHorizontally=!1),this.movingVertically?this.hasReachedLimit=function(){return this.y<this.lowerLimit||this.y>this.upperLimit}:this.movingHorizontally&&(this.hasReachedLimit=function(){return this.x>this.upperLimit||this.x<this.lowerLimit})},h}(Phaser.Sprite);e.STILL="s",e.MOVING_VERTICALLY_1="v1",e.MOVING_VERTICALLY_2="v2",e.MOVING_HORIZONTALLY_1="h1",e.MOVING_HORIZONTALLY_2="h2",e.DELTA=200,e.SPEED=85,c.Player=e}(FootChinko||(FootChinko={})),function(f){var e=function(y){function _(e,t,a,s,n,i){var o=y.call(this,e,t,a,""+f.GameVars.playerID,s,i)||this,r=5*(f.GameVars.playerID-1)+1,l=5*(f.GameVars.playerID-1)+2,h=5*(f.GameVars.playerID-1)+3,c=5*(f.GameVars.playerID-1)+4,d=5*(f.GameVars.playerID-1)+5;if(o.textureAiming="delantero_"+f.GameVars.formatNumberForTextureAtlas(r),o.textureIdle="delantero_"+f.GameVars.formatNumberForTextureAtlas(l),o.textureSelected="delantero_"+f.GameVars.formatNumberForTextureAtlas(h),o.textureIdleBlink="delantero_"+f.GameVars.formatNumberForTextureAtlas(c),o.textureShooting="delantero_"+f.GameVars.formatNumberForTextureAtlas(d),o.shootBall_px=0,o.shootBall_py=65,o.playersManager=n,o.frameName=o.textureIdle,o.name=f.GameConstants.FORWARD_PEG,o.preparedToShoot=!1,o.i=0,null===_.forwardRotatingTweenData){o.rotation=0;var m=o.game.add.tween(o).to({rotation:55*Math.PI/180},325,Phaser.Easing.Quadratic.Out).generateData();o.rotation=55*Math.PI/180;var u=o.game.add.tween(o).to({rotation:0},325,Phaser.Easing.Quadratic.In).generateData();o.rotation=0;var p=o.game.add.tween(o).to({rotation:-55*Math.PI/180},325,Phaser.Easing.Quadratic.Out).generateData();o.rotation=-55*Math.PI/180;var g=o.game.add.tween(o).to({rotation:0},325,Phaser.Easing.Quadratic.In).generateData();o.rotation=0,_.forwardRotatingTweenData=m.concat(u,p,g)}return o}return __extends(_,y),_.prototype.update=function(){if(y.prototype.update.call(this),!f.GameVars.paused&&this.preparedToShoot){var e=_.forwardRotatingTweenData;this.body.rotation=e[this.i].rotation,this.i=this.i<e.length-1?this.i+1:0}},_.prototype.prepareToShoot=function(){y.prototype.prepareToShoot.call(this),this.returnToNullDegreesTween&&(this.returnToNullDegreesTween.pendingDelete=!0,this.body.rotation=0),this.preparedToShoot=!0,f.GameVars.penalties||f.AudioManager.getInstance().playEffect("rebote_bumper")},_.prototype.shootBall=function(){this.preparedToShoot=!1,y.prototype.shootBall.call(this)},_.prototype.returnToIdle=function(){y.prototype.returnToIdle.call(this),this.returnToNullDegreesTween=this.game.add.tween(this.body).to({rotation:0},800,Phaser.Easing.Quadratic.Out,!0)},_.prototype.getShootAngle=function(){return this.angle+90},_}(f.Player);e.forwardRotatingTweenData=null,f.ForwardPlayer=e}(FootChinko||(FootChinko={})),function(p){var e=function(u){function e(e,t,a,s,n,i){var o=u.call(this,e,t,a,""+p.GameVars.playerID,s,i)||this,r=6*(p.GameVars.playerID-1)+1,l=6*(p.GameVars.playerID-1)+2,h=6*(p.GameVars.playerID-1)+3,c=6*(p.GameVars.playerID-1)+4,d=6*(p.GameVars.playerID-1)+5,m=6*(p.GameVars.playerID-1)+6;return o.textureIdle="centrocampista_"+p.GameVars.formatNumberForTextureAtlas(r),o.textureIdleBlink="centrocampista_"+p.GameVars.formatNumberForTextureAtlas(l),o.textureSelected="centrocampista_"+p.GameVars.formatNumberForTextureAtlas(h),o.textureShooting="centrocampista_"+p.GameVars.formatNumberForTextureAtlas(c),o.textureHeadPlay="centrocampista_"+p.GameVars.formatNumberForTextureAtlas(d),o.textureAiming="centrocampista_"+p.GameVars.formatNumberForTextureAtlas(m),o.passBall_px=-15,o.passBall_py=-60,o.shootBall_px=0,o.shootBall_py=35,o.playersManager=n,o.ballHeadTranslationTween=null,o.ballHeadScaleTween=null,o.isHeadPlay=!1,o.frameName=o.textureIdle,o.name=p.GameConstants.MIDFIELDER_PEG,o}return __extends(e,u),e.prototype.prepareToPass=function(e){this.isHeadPlay=!0,this.update=function(){this.ball.scale.x<1.1?this.frameName=this.textureHeadPlay:this.frameName=this.textureIdle},this.frameName=this.textureHeadPlay,this.ball=e,this.hasReceived=!0,this.ball.parent.removeChild(this.ball),this.ball.x=this.passBall_px,this.ball.y=this.passBall_py,this.addChild(this.ball),this.ballHeadTranslationTween=this.game.add.tween(this.ball),this.ballHeadTranslationTween.to({x:this.passBall_px-15,y:this.passBall_py-25},300,Phaser.Easing.Cubic.Out).to({x:this.passBall_px,y:this.passBall_py},300,Phaser.Easing.Cubic.In).delay(80).loop().start(),this.ballHeadScaleTween=this.game.add.tween(this.ball.scale).to({x:1.4,y:1.4},300,Phaser.Easing.Cubic.Out).to({x:1,y:1},300,Phaser.Easing.Cubic.In).delay(80).loop().start()},e.prototype.onPassBall=function(){this.isHeadPlay=!1,this.update=function(){},this.frameName=this.textureIdle,this.ballHeadTranslationTween.stop(),this.ballHeadScaleTween.stop(),this.ballHeadTranslationTween.pendingDelete=!0,this.ballHeadTranslationTween=null,this.ballHeadScaleTween.pendingDelete=!0,this.ballHeadScaleTween=null;var e=this.rightPlayer?1:-1;this.scale.setTo(1.25*e,1.35),this.game.add.tween(this.scale).to({x:e,y:1},200,Phaser.Easing.Elastic.In,!0,100)},e.prototype.prepareToShoot=function(){u.prototype.prepareToShoot.call(this),this.ball.spin()},e.prototype.shootBall=function(){u.prototype.shootBall.call(this)},e.prototype.getShootAngle=function(){return this.angle+90},e.prototype.onGamePaused=function(){u.prototype.onGamePaused.call(this),this.ballHeadTranslationTween&&(this.ballHeadTranslationTween.pause(),this.ballHeadScaleTween.pause())},e.prototype.onGameResumed=function(){u.prototype.onGameResumed.call(this),this.ballHeadTranslationTween&&(this.ballHeadTranslationTween.resume(),this.ballHeadScaleTween.resume())},e}(p.Player);p.MidfielderPlayer=e}(FootChinko||(FootChinko={})),function(a){var e=function(){function t(e){(t.currentInstance=this).game=e,this.hasMovingPlayers=!1,this.playersArray=[],this.switchingPlayersArray=[],this.movingPlayersArray=[],this.movementReferencePlayer=null,this.randomDataGenerator=new Phaser.RandomDataGenerator([1,2,3,4])}return t.prototype.init=function(){this.playersNumber=this.playersArray.length,4<this.playersNumber?this.blinkingFactor=.95:2<this.playersNumber?this.blinkingFactor=.98:this.blinkingFactor=.99},t.prototype.update=function(){if(this.hasMovingPlayers&&this.movementReferencePlayer.hasReachedLimit())for(var e=this.movingPlayersArray.length;e--;)this.movingPlayersArray[e].reverse()},t.prototype.addPlayer=function(e){this.playersArray.push(e),e.movementType!==a.Player.STILL&&(null==this.movementReferencePlayer&&(this.movementReferencePlayer=e),this.movingPlayersArray.push(e),this.hasMovingPlayers=!0)},t.prototype.onBallAttachedToForward=function(e,t){(this.receivingPlayer=e).bringToTop(),(e.ball=t).parent.removeChild(t),t.x=e.shootBall_px,t.y=e.shootBall_py,e.addChild(t),e.prepareToShoot()},t.prototype.onBallAttachedToMidfielder=function(e,t){(this.passingPlayer=e).bringToTop(),e.prepareToPass(t),this.activePlayerIndex=0;for(var a=this.switchingPlayersArray.length=0;a<this.playersArray.length;a++)this.playersArray[a].hasReceived||this.switchingPlayersArray.push(this.playersArray[a]);Phaser.ArrayUtils.shuffle(this.switchingPlayersArray),this.changeReceivingPlayerTimerEvent=this.game.time.events.loop(275,this.switchReceivingPlayer,this),this.switchReceivingPlayer()},t.prototype.switchReceivingPlayer=function(){this.switchingPlayersArray[this.activePlayerIndex].turnOff(),this.activePlayerIndex=this.activePlayerIndex<this.switchingPlayersArray.length-1?this.activePlayerIndex+1:0,this.switchingPlayersArray[this.activePlayerIndex].turnOn()},t.prototype.passBall=function(){this.passingPlayer.onPassBall(),null!==this.changeReceivingPlayerTimerEvent&&(this.changeReceivingPlayerTimerEvent.timer.remove(this.changeReceivingPlayerTimerEvent),this.changeReceivingPlayerTimerEvent=null),this.game.time.events.add(250,this.passBallToReceivingPlayer,this)},t.prototype.passBallToReceivingPlayer=function(){var e=this.passingPlayer.ball;this.passingPlayer.ball=null,this.passingPlayer.hasReceived=!1,this.receivingPlayer=this.switchingPlayersArray[this.activePlayerIndex],this.receivingPlayer.ball=e;var t,a,s=this.passingPlayer.parent;s.swap(s.getTop(),this.receivingPlayer),e.parent.removeChild(e),a=this.passingPlayer.rightPlayer?e.x:-e.x,t=this.receivingPlayer.rightPlayer?-this.receivingPlayer.x+this.passingPlayer.x+a:this.receivingPlayer.x-this.passingPlayer.x-a;var n=-this.receivingPlayer.y+this.passingPlayer.y+e.y;e.x=t,e.y=n,this.passingPlayer=null,this.receivingPlayer.addChild(e),this.receivingPlayer.ball=e;var i=this.receivingPlayer.shootBall_px,o=this.receivingPlayer.shootBall_py;this.game.add.tween(e).to({x:i,y:o},1200,Phaser.Easing.Quintic.InOut,!0).onComplete.add(this.ballReachedReceivingPlayer,this),this.game.add.tween(e.scale).to({x:1.75,y:1.75},600,Phaser.Easing.Quintic.In).to({x:1,y:1},600,Phaser.Easing.Quintic.Out).start()},t.prototype.ballReachedReceivingPlayer=function(){this.receivingPlayer.prepareToShoot(),a.MatchManager.onPlayerReadyToShoot()},t.prototype.shootBall=function(){this.receivingPlayer.ball.destroy(),this.receivingPlayer.ball=null,this.receivingPlayer.shootBall(),this.receivingPlayer.hasReceived=!1},t.prototype.onGamePaused=function(){for(var e=0;e<this.playersArray.length;e++){this.playersArray[e].onGamePaused()}this.changeReceivingPlayerTimerEvent&&this.changeReceivingPlayerTimerEvent.timer.pause()},t.prototype.onGameResumed=function(){for(var e=0;e<this.playersArray.length;e++){this.playersArray[e].onGameResumed()}this.changeReceivingPlayerTimerEvent&&this.changeReceivingPlayerTimerEvent.timer.resume()},t}();a.PlayersManager=e}(FootChinko||(FootChinko={})),function(r){var e=function(o){function e(e){var t=o.call(this,e,null,"advices-container",!1)||this;t.y=940,t.scale.y=r.GameVars.scaleY;var a=new Phaser.Sprite(t.game,0,0,t.game.cache.getBitmapData("dark_gradient"));a.scale.set(58,1.1),a.alpha=.8,t.add(a);var s=new Phaser.Image(t.game,10,-25,"texture_atlas_1","tips-hand");t.add(s),t.game.add.tween(s).to({x:0},750,Phaser.Easing.Linear.None,!0,0,-1,!1);var n=r.AdvicesManager.getInstance().getMessage(),i=new Phaser.Text(t.game,130,12,n,{font:"19px Arial",fill:"#ffffff",align:"left",wordWrap:!0,wordWrapWidth:630});return t.add(i),t}return __extends(e,o),e}(Phaser.Group);r.AdvicesContainer=e}(FootChinko||(FootChinko={})),function(a){var e=function(){function e(){if(e._instance)throw new Error("Error: Instantiation failed: Use AdvicesManager.getInstance() instead of new.");e._instance=this}return e.getInstance=function(){return null===e._instance&&(e._instance=new e),e._instance},e.prototype.init=function(e){this.game=e;var t=this.game.cache.getJSON("game_text");a.GameConstants.LANGUAGE===a.GameConstants.ENGLISH?this.advicesArray=t.en.ADVICES:this.advicesArray=t.ru.ADVICES,this.messageIndex=Math.floor(Math.random()*(this.advicesArray.length-1))},e.prototype.getMessage=function(){var e=this.advicesArray[this.messageIndex];return this.messageIndex=this.messageIndex<this.advicesArray.length-1?this.messageIndex+1:0,e},e}();e._instance=null,a.AdvicesManager=e}(FootChinko||(FootChinko={})),function(i){var e=function(n){function e(e,t,a){var s=n.call(this,e,null,"audio buttons",!1)||this;return s.musicOnButton=new Phaser.Button(s.game,t.x,t.y,"texture_atlas_5",s.onClickMusicOn,s,"music_on_button_on","music_on_button_off","music_on_button_on"),s.add(s.musicOnButton),s.musicOffButton=new Phaser.Button(s.game,t.x,t.y,"texture_atlas_5",s.onClickMusicOff,s,"music_off_button_on","music_off_button_off","music_off_button_on"),s.add(s.musicOffButton),i.AudioManager.getInstance().isMusicMuted?s.musicOnButton.visible=!1:s.musicOffButton.visible=!1,s.fxOnButton=new Phaser.Button(s.game,a.x,a.y,"texture_atlas_5",s.onClickFxOn,s,"fx_button_on_on","fx_button_on_off","fx_button_on_on"),s.add(s.fxOnButton),s.fxOffButton=new Phaser.Button(s.game,a.x,a.y,"texture_atlas_5",s.onClickFxOff,s,"fx_button_off_on","fx_button_off_off","fx_button_off_on"),s.add(s.fxOffButton),i.AudioManager.getInstance().areEffectsMuted?s.fxOnButton.visible=!1:s.fxOffButton.visible=!1,i.AudioManager.getInstance().musicOnButton=s.musicOnButton,i.AudioManager.getInstance().musicOffButton=s.musicOffButton,i.AudioManager.getInstance().fxOnButton=s.fxOnButton,i.AudioManager.getInstance().fxOffButton=s.fxOffButton,s}return __extends(e,n),e.prototype.onClickMusicOn=function(){this.musicOnButton.visible=!1,this.musicOffButton.visible=!0,i.GameManager.changeAudioPreferences(e.MUSIC_ON)},e.prototype.onClickMusicOff=function(){this.musicOnButton.visible=!0,this.musicOffButton.visible=!1,i.GameManager.changeAudioPreferences(e.MUSIC_OFF)},e.prototype.onClickFxOn=function(){this.fxOnButton.visible=!1,this.fxOffButton.visible=!0,i.GameManager.changeAudioPreferences(e.EFFECTS_ON)},e.prototype.onClickFxOff=function(){this.fxOnButton.visible=!0,this.fxOffButton.visible=!1,i.GameManager.changeAudioPreferences(e.EFFECTS_OFF)},e}(Phaser.Group);e.MUSIC_ON="music_on",e.MUSIC_OFF="music_off",e.EFFECTS_ON="effects_on",e.EFFECTS_OFF="effects_off",i.AudioButtonsContainer=e}(FootChinko||(FootChinko={})),function(a){var e=function(){function e(e){this.game=e,this.backgroundConfettiContainer=new Phaser.Group(this.game),this.foregroundConfettiContainer=new Phaser.Group(this.game),this.frameCounter=0,this.rndGenerator=new Phaser.RandomDataGenerator([1,2,3]),this.backgroundConfettiSpritesArray=[],this.foregroundConfettiSpritesArray=[];var t=new Phaser.Sprite(this.game,168,-1400,"texture_atlas_2");t.animations.add("animation",Phaser.Animation.generateFrameNames("confetti_",1,6,"",4),8,!0),t.animations.play("animation"),t.anchor.set(.5),this.foregroundConfettiSpritesArray.push(t),this.foregroundConfettiContainer.add(t),(t=new Phaser.Sprite(this.game,150,-1e3,"texture_atlas_2")).angle=-90,t.animations.add("animation",Phaser.Animation.generateFrameNames("confetti_",1,6,"",4),8,!0),t.animations.play("animation"),t.anchor.set(.5),this.foregroundConfettiSpritesArray.push(t),this.foregroundConfettiContainer.add(t),(t=new Phaser.Sprite(this.game,150,-600,"texture_atlas_2")).angle=90,t.animations.add("animation",Phaser.Animation.generateFrameNames("confetti_",1,6,"",4),8,!0),t.animations.play("animation"),t.anchor.set(.5),this.foregroundConfettiSpritesArray.push(t),this.foregroundConfettiContainer.add(t),(t=new Phaser.Sprite(this.game,150,-200,"texture_atlas_2")).angle=90,t.animations.add("animation",Phaser.Animation.generateFrameNames("confetti_",1,6,"",4),8,!0),t.animations.play("animation"),t.anchor.set(.5),this.foregroundConfettiSpritesArray.push(t),this.foregroundConfettiContainer.add(t),(t=new Phaser.Sprite(this.game,550,-1400,"texture_atlas_2")).angle=90,t.animations.add("animation",Phaser.Animation.generateFrameNames("confetti_",1,6,"",4),8,!0),t.animations.play("animation"),t.anchor.set(.5),this.foregroundConfettiSpritesArray.push(t),this.foregroundConfettiContainer.add(t),(t=new Phaser.Sprite(this.game,550,-1e3,"texture_atlas_2")).angle=-90,t.animations.add("animation",Phaser.Animation.generateFrameNames("confetti_",1,6,"",4),8,!0),t.animations.play("animation"),t.anchor.set(.5),this.foregroundConfettiSpritesArray.push(t),this.foregroundConfettiContainer.add(t),(t=new Phaser.Sprite(this.game,568,-600,"texture_atlas_2")).angle=180,t.animations.add("animation",Phaser.Animation.generateFrameNames("confetti_",1,6,"",4),8,!0),t.animations.play("animation"),t.anchor.set(.5),this.foregroundConfettiSpritesArray.push(t),this.foregroundConfettiContainer.add(t),(t=new Phaser.Sprite(this.game,550,-200,"texture_atlas_2")).angle=180,t.animations.add("animation",Phaser.Animation.generateFrameNames("confetti_",1,6,"",4),8,!0),t.animations.play("animation"),t.anchor.set(.5),this.foregroundConfettiSpritesArray.push(t),this.foregroundConfettiContainer.add(t),this.activated=!1}return e.prototype.update=function(){if(this.activated){for(var e=8;e--;)this.foregroundConfettiSpritesArray[e].x+=.125,550<this.foregroundConfettiSpritesArray[e].x?this.foregroundConfettiSpritesArray[e].y+=3:this.foregroundConfettiSpritesArray[e].y+=2.5,1224<this.foregroundConfettiSpritesArray[e].y&&(550<this.foregroundConfettiSpritesArray[e].x?this.foregroundConfettiSpritesArray[e].x=550:this.foregroundConfettiSpritesArray[e].x=150,this.foregroundConfettiSpritesArray[e].y=-200);if(this.frameCounter++,this.frameCounter%60==0){var t=new Phaser.Sprite(this.game,this.rndGenerator.between(0,a.GameConstants.GAME_WIDTH),-100,"texture_atlas_2");t.angle=this.rndGenerator.between(0,180),t.animations.add("animation",Phaser.Animation.generateFrameNames("confetti_",1,6,"",4),6,!0),t.animations.play("animation"),t.anchor.set(.5),t.scale.set(.5),this.backgroundConfettiSpritesArray.push(t),this.backgroundConfettiContainer.add(t)}for(e=this.backgroundConfettiSpritesArray.length;e--;)this.backgroundConfettiSpritesArray[e].x+=.25,this.backgroundConfettiSpritesArray[e].y+=1.25,1124<this.backgroundConfettiSpritesArray[e].y&&(this.backgroundConfettiSpritesArray.splice(e,1),this.backgroundConfettiContainer.remove(this.backgroundConfettiSpritesArray[e]))}},e.prototype.activate=function(e){this.activated=!0,null!==e&&this.game.time.events.add(e,this.removeConfetti,this)},e.prototype.removeConfetti=function(){this.game.add.tween(this.backgroundConfettiContainer).to({alpha:0},1e3,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.backgroundConfettiContainer.destroy()},this),this.game.add.tween(this.foregroundConfettiContainer).to({alpha:0},1e3,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.foregroundConfettiContainer.destroy()},this),a.TrophyState.currentInstance.confetti=null},e}();a.Confetti=e}(FootChinko||(FootChinko={})),function(o){var e=function(s){function e(e){var t=s.call(this,e,null,"credits-on-victory-container",!1)||this;t.y=355,t.credits=o.GameVars.gameData.credits;var a=new o.RectangleWithRadius(t.game,20,0,o.GameConstants.GAME_WIDTH-40,205,40,"#2B3536",.5,o.RectangleWithRadius.BOTTOM_CONFIGURATION);return t.add(a),t.addInitialCredits(),t.addGoalsLabels(),t.addCoins(),0!==o.GameVars.playerGoals&&t.startCreditsAnimation(),t}return __extends(e,s),e.prototype.addInitialCredits=function(){this.rays=new Phaser.Image(this.game,o.GameConstants.GAME_WIDTH/2,50,"texture_atlas_1","rays"),this.rays.anchor.set(.5),this.rays.scale.set(1.5),this.rays.blendMode=3,this.rays.visible=!1,this.add(this.rays),this.game.add.tween(this.rays).to({angle:360},6e3,Phaser.Easing.Linear.None,!0).loop();var e=new Phaser.Image(this.game,o.GameConstants.GAME_WIDTH/2,22,"texture_atlas_5","credits_cartridge");e.anchor.setTo(.5,0),this.add(e);var t=o.GameVars.formatNumber(this.credits);this.creditsLabel=new Phaser.Text(this.game,o.GameConstants.GAME_WIDTH/2,30,t,{font:"36px Ubuntu",fontWeight:"700",fill:"#FFD51B",align:"center"}),this.creditsLabel.x-=this.creditsLabel.width/2,this.add(this.creditsLabel)},e.prototype.addGoalsLabels=function(){var e={font:"32px Ubuntu",fontWeight:"700",fill:"#000000",align:"left"};o.GameVars.matchResult===o.GameConstants.VICTORY&&o.GameVars.playerGoals!==o.GameVars.adversaryGoals?(this.extraGoalsLabel=new Phaser.Text(this.game,625,85,"extra goals: "+(o.GameVars.playerGoals-o.GameVars.adversaryGoals)+"x "+o.GameConstants.CREDITS_EXTRA_GOALS+" =",e),this.extraGoalsLabel.visible=!1,this.extraGoalsLabel.x-=this.extraGoalsLabel.width,this.add(this.extraGoalsLabel),this.extraGoalsCreditsLabel=new Phaser.Text(this.game,700,85,""+(o.GameVars.playerGoals-o.GameVars.adversaryGoals)*o.GameConstants.CREDITS_EXTRA_GOALS,e),this.extraGoalsCreditsLabel.visible=!1,this.extraGoalsCreditsLabel.x-=this.extraGoalsCreditsLabel.width,this.add(this.extraGoalsCreditsLabel),0!==o.GameVars.adversaryGoals&&(this.goalsLabel=new Phaser.Text(this.game,625,120,"goals: "+o.GameVars.adversaryGoals+"x "+o.GameConstants.CREDITS_GOALS+" =",e),this.goalsLabel.visible=!1,this.goalsLabel.x-=this.goalsLabel.width,this.add(this.goalsLabel),this.goalsCreditsLabel=new Phaser.Text(this.game,700,120,""+o.GameVars.adversaryGoals*o.GameConstants.CREDITS_GOALS,e),this.goalsCreditsLabel.visible=!1,this.goalsCreditsLabel.x-=this.goalsCreditsLabel.width,this.add(this.goalsCreditsLabel))):(this.extraGoalsLabel=null,this.goalsLabel=new Phaser.Text(this.game,625,85,"goals: "+o.GameVars.playerGoals+"x "+o.GameConstants.CREDITS_GOALS+" =",e),this.goalsLabel.visible=!1,this.goalsLabel.x-=this.goalsLabel.width,this.add(this.goalsLabel),this.goalsCreditsLabel=new Phaser.Text(this.game,700,85,""+o.GameVars.playerGoals*o.GameConstants.CREDITS_GOALS,e),this.goalsCreditsLabel.visible=!1,this.goalsCreditsLabel.x-=this.goalsCreditsLabel.width,this.add(this.goalsCreditsLabel))},e.prototype.addCoins=function(){if(0!==o.GameVars.playerGoals){var e,t,a=0<o.GameVars.playerGoals-o.GameVars.adversaryGoals?o.GameVars.adversaryGoals:o.GameVars.playerGoals;for(t=0;t<a;t++){var s=new Phaser.Image(this.game,445,-16-9.5*t,"texture_atlas_5","little_coin");s.anchor.setTo(.5),s.scale.setTo(0),this.game.add.tween(s.scale).to({x:1,y:1},300,Phaser.Easing.Elastic.Out,!0,1e3+200*t).onComplete.add(this.onSmallCoinAdded,this),this.add(s)}e=1e3+200*t+200;var n=o.GameVars.playerGoals-o.GameVars.adversaryGoals;if(0<n)for(t=0;t<n;t++){var i=new Phaser.Image(this.game,345,-18-15.5*t,"texture_atlas_5","big_coin");i.anchor.set(.5),i.scale.set(0),this.game.add.tween(i.scale).to({x:1,y:1},300,Phaser.Easing.Elastic.Out,!0,e+200*t).onComplete.add(this.onBigCoinAdded,this),this.add(i)}}},e.prototype.onSmallCoinAdded=function(){this.credits+=o.GameConstants.CREDITS_GOALS,this.creditsLabel.text=o.GameVars.formatNumber(this.credits),this.creditsLabel.x=o.GameConstants.GAME_WIDTH/2-this.creditsLabel.width/2,o.MatchResultState.currentInstance.onCoinAdded(),o.AudioManager.getInstance().playEffect("moneda")},e.prototype.onBigCoinAdded=function(){this.credits+=o.GameConstants.CREDITS_EXTRA_GOALS,this.creditsLabel.text=o.GameVars.formatNumber(this.credits),this.creditsLabel.x=o.GameConstants.GAME_WIDTH/2-this.creditsLabel.width/2,o.MatchResultState.currentInstance.onCoinAdded(),o.AudioManager.getInstance().playEffect("moneda")},e.prototype.startCreditsAnimation=function(){this.game.time.events.add(1e3,this.changeBelowLabelVisibility,this)},e.prototype.changeBelowLabelVisibility=function(){null!==this.goalsLabel&&(this.goalsLabel.visible=!0,this.goalsCreditsLabel.visible=!0),null!==this.extraGoalsLabel?this.game.time.events.add(1e3,this.changeAboveLabelVisibility,this):this.game.time.events.add(1e3,this.updateCreditsLabel,this)},e.prototype.changeAboveLabelVisibility=function(){this.extraGoalsLabel.visible=!0,this.extraGoalsCreditsLabel.visible=!0,this.game.time.events.add(1e3,this.updateCreditsLabel,this)},e.prototype.updateCreditsLabel=function(){o.GameManager.updateCreditsAfterMatchEnd(),o.MatchResultState.currentInstance.showMenuButtons(),this.rays.visible=!0,this.game.time.events.add(1250,this.removeRays,this),o.AudioManager.getInstance().playEffect("pick_coins")},e.prototype.removeRays=function(){this.game.add.tween(this.rays).to({alpha:0},1e3,Phaser.Easing.Quadratic.Out,!0).onComplete.add(function(){this.rays.destroy()},this)},e}(Phaser.Group);o.CreditsCounterContainer=e}(FootChinko||(FootChinko={})),function(t){var e=function(i){function e(e,t){var a=i.call(this,e,null,"dev level button"+t,!1)||this,s=new Phaser.Button(a.game,0,0,"texture_atlas_4",a.onClickButton,0,1,0);s.setFrames("development_level_selection_button_on","development_level_selection_button_off","development_level_selection_button_on"),s.name=""+t,a.add(s);var n=new Phaser.Text(a.game,13,18,t.toString(),{font:"28px futura-bold",fill:"#FF0000"});return a.add(n),a}return __extends(e,i),e.prototype.onClickButton=function(e){t.GameVars.matchID=+e.name,this.game.state.start("FootballFieldState",!0,!1)},e}(Phaser.Group);t.DevelopmentLevelSelectionButton=e}(FootChinko||(FootChinko={})),function(i){var e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.create=function(){var e=this.add.image(i.GameConstants.GAME_WIDTH/2,i.GameConstants.GAME_HEIGHT/2,"texture_atlas_1","lawn-background");e.anchor.set(.5),e.scale.set(1.45);var t,a=new Phaser.Button(this.game,15,15,"texture_atlas_5",this.onClickBackButton,this,1,0,1);a.setFrames("exit_button_on","exit_button_off","exit_button_on","exit_button_off"),this.add.existing(a),this.buttonsGroup=this.add.group();for(var s=0;s<12;s++)for(var n=0;n<10;n++)(t=new i.DevelopmentLevelSelectionButton(this.game,10*s+n+1)).x=20+75*n,t.y=100+75*s,this.buttonsGroup.add(t);this.physicsBodiesOn=this.add.button(240,12,"texture_atlas_5",this.onPhysicsBodiesOn,this),this.physicsBodiesOn.setFrames("fx_button_on_on","fx_button_on_off","fx_button_on_on"),this.physicsBodiesOff=this.add.button(240,12,"texture_atlas_5",this.onPhysicsBodiesOff,this),this.physicsBodiesOff.setFrames("fx_button_off_on","fx_button_off_off","fx_button_off_on"),i.GameConstants.SHOW_PHYSICS_BODIES?this.physicsBodiesOn.visible=!1:this.physicsBodiesOff.visible=!1,this.reloadButton=this.add.button(455,12,"texture_atlas_4",this.onClickReload,this),this.reloadButton.setFrames("reload_button_on","reload_button_off","reload_button_on")},t.prototype.onClickBackButton=function(){this.game.state.start("SplashState",!0,!1)},t.prototype.onPhysicsBodiesOn=function(){this.physicsBodiesOn.visible=!1,this.physicsBodiesOff.visible=!0,i.GameConstants.SHOW_PHYSICS_BODIES=!0},t.prototype.onPhysicsBodiesOff=function(){this.physicsBodiesOn.visible=!0,this.physicsBodiesOff.visible=!1,i.GameConstants.SHOW_PHYSICS_BODIES=!1},t.prototype.onClickReload=function(){this.buttonsGroup.visible=!1;var e=this.load.json("levels","assets/levels/levels.json");e.onLoadComplete.addOnce(this.onLevelsReloaded,this),e.start()},t.prototype.onLevelsReloaded=function(){this.buttonsGroup.visible=!0},t}(Phaser.State);i.DevelopmentLevelSelection=e}(FootChinko||(FootChinko={})),function(l){var e=function(r){function e(e,t,a){var s,n=r.call(this,e,null,"powerup-container-"+t,!1)||this;switch(n.powerUpType=t,n.isPreMatchLayer=a,n.hasBeenUsed=!1,n.isBuyButtonActivated=!0,n.powerUpType){case l.GameConstants.FREEZE_GOALKEEPER:s="shop_freeze-goalkeeper",n.price=l.GameConstants.FREEZE_GOALKEEPER_PRICE,n.purchased=l.GameVars.gameData.powerUpState.freezeGoalkeeperPurchased;break;case l.GameConstants.EXTRA_BALLS:s="shop_extra_balls",n.price=l.GameConstants.EXTRA_BALLS_PRICE,n.purchased=l.GameVars.gameData.powerUpState.extraBallsPurchased;break;case l.GameConstants.BALL_OF_FIRE:s="shop_ball_of_fire",n.price=l.GameConstants.BALL_OF_FIRE_PRICE,n.purchased=l.GameVars.gameData.powerUpState.ballOfFirePurchased;break;case l.GameConstants.VOODOO:s="shop_voodoo",n.price=l.GameConstants.VOODOO_PRICE,n.purchased=l.GameVars.gameData.powerUpState.voodooPurchased}var i=new Phaser.Image(n.game,15,15,"texture_atlas_5",s);n.add(i);var o=l.GameVars.formatNumber(n.price);return n.priceLabel=new Phaser.Text(n.game,80,107,o,{font:"32px Ubuntu",fontWeight:"700",fill:"#FFD51B",align:"center"}),n.priceLabel.x-=n.priceLabel.width/2,n.add(n.priceLabel),n.coinImage=new Phaser.Image(n.game,140,109,"texture_atlas_5","coin"),n.coinImage.visible=!1,n.add(n.coinImage),n.noMoneyImage=new Phaser.Image(n.game,15,15,"texture_atlas_5","powerup_no_money"),n.noMoneyImage.visible=!1,n.add(n.noMoneyImage),n.readyForUseImage=new Phaser.Image(n.game,-2,-2,"texture_atlas_5","powerup_ready"),n.readyForUseImage.visible=!1,n.add(n.readyForUseImage),n.buyButton=new Phaser.Button(n.game,0,-15,"texture_atlas_5",n.onClickBuyButton,n,1,0,1),n.buyButton.setFrames("powerup_buy_button_on","powerup_buy_button_off","powerup_buy_button_on","powerup_buy_button_off"),n.buyButton.visible=!1,n.add(n.buyButton),n.purchased?n.readyForUseImage.visible=!0:(n.priceLabel.visible=!0,n.coinImage.visible=!0,l.GameVars.gameData.credits<n.price?(n.noMoneyImage.visible=!0,n.buyButton.visible=!0,n.buyButton.alpha=.45,n.isBuyButtonActivated=!1):(n.buyButton.visible=!0,n.isBuyButtonActivated=!0)),n}return __extends(e,r),e.prototype.updatePowerUp=function(){switch(this.powerUpType){case l.GameConstants.FREEZE_GOALKEEPER:this.purchased=l.GameVars.gameData.powerUpState.freezeGoalkeeperPurchased;break;case l.GameConstants.EXTRA_BALLS:this.purchased=l.GameVars.gameData.powerUpState.extraBallsPurchased;break;case l.GameConstants.BALL_OF_FIRE:this.purchased=l.GameVars.gameData.powerUpState.ballOfFirePurchased;break;case l.GameConstants.VOODOO:this.purchased=l.GameVars.gameData.powerUpState.voodooPurchased}this.purchased?(this.purchased=!1,this.buyButton.visible=!1,this.isBuyButtonActivated=!1,this.readyForUseImage.visible=!0,this.priceLabel.visible=!1,this.coinImage.visible=!1):(l.GameVars.gameData.credits<this.price?(this.noMoneyImage.visible=!0,this.buyButton.visible=!0,this.buyButton.alpha=.45,this.isBuyButtonActivated=!1):(this.noMoneyImage.visible=!1,this.buyButton.visible=!0,this.isBuyButtonActivated=!0),this.readyForUseImage.visible=!1,this.priceLabel.visible=!0,this.coinImage.visible=!0)},e.prototype.onClickBuyButton=function(){this.isBuyButtonActivated&&(l.GameManager.onPowerUpPurchased(this.powerUpType),this.purchased=!1,this.buyButton.visible=!1,this.isBuyButtonActivated=!1,this.readyForUseImage.visible=!0,this.priceLabel.visible=!1,this.coinImage.visible=!1,this.powerUpsContainer.updateContainer())},e}(Phaser.Group);l.PowerUp=e}(FootChinko||(FootChinko={})),function(i){var e=function(n){function e(e,t){var a=n.call(this,e,null,"powerups-container",!1)||this;a.isPreMatchLayer=t;var s=new i.RectangleWithRadius(a.game,20,0,i.GameConstants.GAME_WIDTH-40,350,40,"#2B3536",.5,i.RectangleWithRadius.BOTTOM_CONFIGURATION);return a.add(s),a.addCredits(),a.addDescriptionLabels(),a.addPowerUps(),a}return __extends(e,n),e.prototype.updateContainer=function(){var e=i.GameVars.formatNumber(i.GameVars.gameData.credits);this.creditsLabel.text=e,this.creditsLabel.x=384-this.creditsLabel.width/2,this.freezeGoalKeeperPowerUp.updatePowerUp(),this.extraBallsPowerUp.updatePowerUp(),this.ballOfFirePowerUp.updatePowerUp(),this.voodooPowerUp.updatePowerUp(),this.isPreMatchLayer&&i.PauseMenu.currentInstance.powerUpsContainer.updateContainer()},e.prototype.addCredits=function(){var e=new Phaser.Image(this.game,i.GameConstants.GAME_WIDTH/2,6,"texture_atlas_5","credits_cartridge");e.anchor.setTo(.5,0),this.add(e);var t=i.GameVars.formatNumber(i.GameVars.gameData.credits);this.creditsLabel=new Phaser.Text(this.game,i.GameConstants.GAME_WIDTH/2,13,t,{font:"36px Ubuntu",fontWeight:"700",fill:"#FFD51B",align:"center"}),this.creditsLabel.x-=this.creditsLabel.width/2,this.add(this.creditsLabel)},e.prototype.addDescriptionLabels=function(){var e=new Phaser.Text(this.game,120,233,"FREEZE THE GOALKEEPER 1 TURN",{font:"18px Arial",fill:"#ffffff",align:"center",wordWrap:!0,wordWrapWidth:180});e.anchor.x=.5,this.add(e),(e=new Phaser.Text(this.game,300,233,"GET 3 EXTRA BALLS",{font:"18px Arial",fill:"#ffffff",align:"center",wordWrap:!0,wordWrapWidth:180})).anchor.x=.5,this.add(e),(e=new Phaser.Text(this.game,490,233,"BURN ALL OBSTACLES",{font:"18px Arial",fill:"#ffffff",align:"center",wordWrap:!0,wordWrapWidth:180})).anchor.x=.5,this.add(e),(e=new Phaser.Text(this.game,660,233,"ELIMINATE ALL RIVALS ON THE FIELD",{font:"18px Arial",fill:"#ffffff",align:"center",wordWrap:!0,wordWrapWidth:180})).anchor.x=.5,this.add(e)},e.prototype.addPowerUps=function(){this.freezeGoalKeeperPowerUp=new i.PowerUp(this.game,i.GameConstants.FREEZE_GOALKEEPER,this.isPreMatchLayer),(this.freezeGoalKeeperPowerUp.powerUpsContainer=this).freezeGoalKeeperPowerUp.x=12,this.freezeGoalKeeperPowerUp.y=85,this.add(this.freezeGoalKeeperPowerUp),this.extraBallsPowerUp=new i.PowerUp(this.game,i.GameConstants.EXTRA_BALLS,this.isPreMatchLayer),(this.extraBallsPowerUp.powerUpsContainer=this).extraBallsPowerUp.x=196,this.extraBallsPowerUp.y=85,this.add(this.extraBallsPowerUp),this.ballOfFirePowerUp=new i.PowerUp(this.game,i.GameConstants.BALL_OF_FIRE,this.isPreMatchLayer),(this.ballOfFirePowerUp.powerUpsContainer=this).ballOfFirePowerUp.x=380,this.ballOfFirePowerUp.y=85,this.add(this.ballOfFirePowerUp),this.voodooPowerUp=new i.PowerUp(this.game,i.GameConstants.VOODOO,this.isPreMatchLayer),(this.voodooPowerUp.powerUpsContainer=this).voodooPowerUp.x=562,this.voodooPowerUp.y=85,this.add(this.voodooPowerUp)},e}(Phaser.Group);i.PowerUpsContainer=e}(FootChinko||(FootChinko={})),function(_){var e=function(o){function y(e,t){var a,s,n=o.call(this,e,null,"reusable-menu-background",!1)||this;n.extraTimeLabelTimerEvent=null,n.backgroundType=t,n.tournamentData=_.GameVars.tournamentData,n.backgroundType===y.RESULT_SCENE?n.playerGoals=0:n.playerGoals=_.GameVars.playerGoals,n.backgroundType===y.PREMATCH_LAYER?(a=710,s=_.RectangleWithRadius.TOP_CONFIGURATION):n.backgroundType===y.RESULT_SCENE?(s=_.RectangleWithRadius.TOP_CONFIGURATION,a=375):n.backgroundType===y.PAUSE_LAYER&&(a=510,s=_.RectangleWithRadius.TOP_CONFIGURATION);var i=new _.RectangleWithRadius(n.game,20,20,728,a,40,"#ffffff",.5,s);return n.add(i),n.addUpperStripe(),n.addFlags(),n.addLabels(),n}return __extends(y,o),y.prototype.destroy=function(e,t){null!==this.extraTimeLabelTimerEvent&&(this.extraTimeLabelTimerEvent.pendingDelete=!0),o.prototype.destroy.call(this,e,t)},y.prototype.onCoinAdded=function(){this.updateScoreLabel()},y.prototype.updateScoreLabelOnPauseMenu=function(){var e;e=_.GameVars.playerGoals>_.GameVars.adversaryGoals?"#2bb740":_.GameVars.playerGoals===_.GameVars.adversaryGoals?"#FF7505":"#D8102D",this.resultLabel.text=_.GameVars.playerGoals.toString()+"-"+_.GameVars.adversaryGoals.toString(),this.resultLabel.setStyle({font:"115px futura-bold",fill:e}),this.resultLabel.setShadow(3,3,"rgba(0,0,0,1)",0),3<this.resultLabel.text.length&&(this.resultLabel.fontSize=95)},y.prototype.addUpperStripe=function(){var e=new Phaser.Group(this.game);e.y=70,this.add(e);var t=new Phaser.Sprite(this.game,0,0,this.game.cache.getBitmapData("dark_gradient"));t.scale.setTo(58,1.7),e.add(t);var a=new Phaser.Image(this.game,25,30,"texture_atlas_2",this.tournamentData.trophyImageName);a.anchor.setTo(0,.5),e.add(a);var s=new Phaser.Text(this.game,145,this.tournamentData.titleLabel_py," "+this.tournamentData.name+" ",{font:this.tournamentData.titleLabelFontSize+"px whoopass",fill:"#DAE9E9"});e.add(s)},y.prototype.addFlags=function(){var e=y.PLAYER_FLAG_PX,t=768-y.PLAYER_FLAG_PX,a=new Phaser.Image(this.game,e,260,"texture_atlas_5","green-basis");a.scale.set(1.1),a.anchor.set(.5),this.add(a);var s=new Phaser.Image(this.game,t,260,"texture_atlas_5","red-basis");s.scale.set(1.1),s.anchor.set(.5),this.add(s);var n=_.GameVars.playerID,i="bandera_"+_.GameVars.formatNumberForTextureAtlas(n),o=new Phaser.Image(this.game,e,265,"texture_atlas_5",i);o.scale.set(1.25),o.anchor.set(.5),this.add(o);var r=_.GameVars.adversaryID,l="bandera_"+_.GameVars.formatNumberForTextureAtlas(r),h=new Phaser.Image(this.game,t,265,"texture_atlas_5",l);h.scale.set(1.25),h.anchor.set(.5),this.add(h)},y.prototype.addLabels=function(){var e,t,a=_.GameVars.gameText;if(this.backgroundType===y.PREMATCH_LAYER){var s=new Phaser.Text(this.game,_.GameConstants.GAME_WIDTH/2,226,a.VS,{font:"50px Ubuntu",fontWeight:"700",fill:"#000000",align:"center"});s.x-=s.width/2,this.add(s)}else e=this.playerGoals+"-"+_.GameVars.adversaryGoals,t=_.GameVars.playerGoals>_.GameVars.adversaryGoals?"#2bb740":_.GameVars.playerGoals===_.GameVars.adversaryGoals?"#FF7505":"#D8102D",this.resultLabel=new Phaser.Text(this.game,_.GameConstants.GAME_WIDTH/2,190,e,{font:"115px futura-bold",fill:t}),this.resultLabel.anchor.x=.5,this.resultLabel.setShadow(3,3,"rgba(0,0,0,1)",0),3<this.resultLabel.text.length&&(this.resultLabel.fontSize=95),this.add(this.resultLabel);var n=_.GameVars.getPlayerData(),i=_.GameVars.getAdversaryData(),o={font:"34px Ubuntu Condensed",fill:"#000000",align:"center"},r=new Phaser.Text(this.game,y.PLAYER_FLAG_PX,316,n.name,o);r.scale.setTo(.8,1),r.x-=r.width/2,this.add(r);var l=new Phaser.Text(this.game,768-y.PLAYER_FLAG_PX,316,i.name,o);if(l.scale.setTo(.8,1),l.x-=l.width/2,this.add(l),this.backgroundType!==y.RESULT_SCENE){var h=new Phaser.Sprite(this.game,20,365,this.game.cache.getBitmapData("white_square"));h.scale.setTo(45.5,3),h.alpha=.35,this.add(h);var c=new Phaser.Text(this.game,_.GameConstants.GAME_WIDTH/2,362,_.GameVars.getMatchName(),{font:"42px Ubuntu",fill:"#888888",align:"center"});c.x-=c.width/2,this.add(c)}if(this.backgroundType===y.PREMATCH_LAYER){this.adversaryGoalsBlackLabel=new Phaser.Text(this.game,0,420,(_.GameVars.adversaryGoals+1).toString()+" GOALS",{font:"50px Ubuntu",fill:"#000000",align:"center"}),this.add(this.adversaryGoalsBlackLabel),this.adversaryGoalsRedLabel=new Phaser.Text(this.game,0,420,(_.GameVars.adversaryGoals+1).toString()+" GOALS",{font:"50px Ubuntu",fill:"#D8102D",align:"center"}),this.adversaryGoalsRedLabel.visible=!1,this.add(this.adversaryGoalsRedLabel);var d=405-this.adversaryGoalsBlackLabel.width;this.adversaryGoalsBlackLabel.x=d,this.adversaryGoalsRedLabel.x=d,this.game.time.events.loop(400,function(){this.adversaryGoalsRedLabel.visible=!this.adversaryGoalsRedLabel.visible,this.adversaryGoalsBlackLabel.visible=!this.adversaryGoalsBlackLabel.visible},this);var m=new Phaser.Text(this.game,425,430,"TO WIN",{font:"38px Ubuntu Condensed",fill:"#000000",align:"center"});m.scale.setTo(.8,1),this.add(m)}if(_.GameVars.penalties){_.GameVars.penaltyScored?(this.penaltyLabel=new Phaser.Text(this.game,_.GameConstants.GAME_WIDTH/2,186,"+penalty",{font:"35px Ubuntu",fill:"#006400",align:"center"}),this.game.time.events.loop(250,function(){this.penaltyLabel.visible=!this.penaltyLabel.visible},this)):(this.penaltyLabel=new Phaser.Text(this.game,_.GameConstants.GAME_WIDTH/2,186,"+penalty",{font:"35px Ubuntu",fill:"#000000",align:"center"}),this.penaltyLabel.alpha=.4),this.penaltyLabel.anchor.x=.5,this.add(this.penaltyLabel)}if(_.GameVars.isTimedLevel&&this.backgroundType===y.PREMATCH_LAYER){var u=_.GameVars.time;this.extraTimeLabelsContainer=new Phaser.Group(this.game),this.extraTimeLabelsContainer.x=185,this.extraTimeLabelsContainer.y=390,this.extraTimeLabelsContainer.angle=-12,this.add(this.extraTimeLabelsContainer);var p=new Phaser.Image(this.game,0,0,"texture_atlas_1","msg-extra-time");p.anchor.setTo(.5),p.scale.setTo(1.25),this.extraTimeLabelsContainer.add(p);var g=new Phaser.Text(this.game,0,80,u+"S ",{font:" 70px whoopass",fill:"#DAE9E9"});g.x-=.5*g.width,g.setShadow(2,2,"rgba(0,0,0,1)",0),this.extraTimeLabelsContainer.add(g),this.extraTimeLabelTimerEvent=this.game.time.events.loop(650,function(){this.extraTimeLabelsContainer.visible=!this.extraTimeLabelsContainer.visible},this)}},y.prototype.updateScoreLabel=function(){this.playerGoals++,this.resultLabel.text=this.playerGoals.toString()+"-"+_.GameVars.adversaryGoals,3<this.resultLabel.text.length&&(this.resultLabel.fontSize=100)},y}(Phaser.Group);e.PREMATCH_LAYER="prematch layer",e.PAUSE_LAYER="pause layer",e.RESULT_SCENE="result scene",e.PLAYER_FLAG_PX=175,_.ReusableMenuBackground=e}(FootChinko||(FootChinko={})),function(r){var e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.create=function(){var e=this.add.image(r.GameConstants.GAME_WIDTH/2,r.GameConstants.GAME_HEIGHT/2,"lawn-background");e.anchor.set(.5),e.scale.setTo(1.65,1.65*r.GameVars.scaleY);var t=this.add.group();t.scale.y=r.GameVars.scaleY;var a=new r.RectangleWithRadius(this.game,70,20,r.GameConstants.GAME_WIDTH-140,720,40,"#ffffff",.35,null,3);t.add(a);var s=new Phaser.Sprite(this.game,0,60,this.game.cache.getBitmapData("dark_gradient"));s.scale.set(58,1.7),t.add(s);var n=new Phaser.Text(this.game,r.GameConstants.GAME_WIDTH/2,68," CREDITS ",{font:"85px whoopass",fill:"#DAE9E9"});n.anchor.x=.5,t.add(n);var i=new Phaser.Text(this.game,115,190," A GAME BY RAVALMATIC ",{font:"50px whoopass",fill:"#DAE9E9"});i.setShadow(2,2,"rgba(0,0,0,1)",0),t.add(i),(i=new Phaser.Text(this.game,100,270," AUDIO: PULMON BEATBOX ",{font:"35px whoopass",fill:"#DAE9E9"})).setShadow(2,2,"rgba(0,0,0,1)",0),t.add(i),(i=new Phaser.Text(this.game,100,326," LEVEL DESIGN: IVAN MESA ",{font:"35px whoopass",fill:"#DAE9E9"})).setShadow(2,2,"rgba(0,0,0,1)",0),t.add(i),(i=new Phaser.Text(this.game,100,382," TESTING: SERGI GRACIA ",{font:"35px whoopass",fill:"#DAE9E9"})).setShadow(2,2,"rgba(0,0,0,1)",0),t.add(i),(i=new Phaser.Text(this.game,100,438," ART & UX: JAVI SANZ ",{font:"35px whoopass",fill:"#DAE9E9"})).setShadow(2,2,"rgba(0,0,0,1)",0),t.add(i),(i=new Phaser.Text(this.game,100,494," CODE & GAME DESIGN: ENRIQUETO ",{font:"35px whoopass",fill:"#DAE9E9"})).setShadow(2,2,"rgba(0,0,0,1)",0),t.add(i),(i=new Phaser.Text(this.game,100,606," PHYSICS ENGINE: P2.JS ",{font:"35px whoopass",fill:"#DAE9E9"})).setShadow(2,2,"rgba(0,0,0,1)",0),t.add(i),(i=new Phaser.Text(this.game,100,662," GAME FRAMEWORK: PHASER ",{font:"35px whoopass",fill:"#DAE9E9"})).setShadow(2,2,"rgba(0,0,0,1)",0),t.add(i);var o=this.add.button(90,r.GameConstants.GAME_HEIGHT-130*r.GameVars.scaleY,"texture_atlas_5",this.onClickBackButton,this,1,0,1);o.setFrames("exit_button_on","exit_button_off","exit_button_on"),o.anchor.set(.5),o.scale.y=r.GameVars.scaleY,this.game.camera.flash(0,250)},t.prototype.onClickBackButton=function(){r.AudioManager.getInstance().playEffect("play"),this.game.state.start("SplashState",!0,!1)},t}(Phaser.State);r.CreditsState=e}(FootChinko||(FootChinko={})),function(s){var e=function(a){function e(e){var t=a.call(this,e,null,"daily-reward-message",!1)||this;t.x=390,t.y=400,t.scale.y=s.GameVars.scaleY;return t.getLabel=t.create(0,0,"texture_atlas_6","message_01_get"),t.getLabel.anchor.setTo(.5),t.getLabel.scale.setTo(1.65),t.getLabel.visible=!1,t.yourLabel=t.create(-68,78,"texture_atlas_6","message_02_your"),t.yourLabel.anchor.setTo(.5),t.yourLabel.scale.setTo(1.65),t.yourLabel.visible=!1,t.dailyLabel=t.create(60,72,"texture_atlas_6","message_03_daily"),t.dailyLabel.anchor.setTo(.5),t.dailyLabel.scale.setTo(1.65),t.dailyLabel.visible=!1,t.rewardLabel=t.create(0,142,"texture_atlas_6","message_04_reward"),t.rewardLabel.anchor.setTo(.5),t.rewardLabel.scale.setTo(1.65),t.rewardLabel.visible=!1,t}return __extends(e,a),e.prototype.appear=function(){this.getLabel.visible=!0,this.game.add.tween(this.getLabel.scale).to({x:1,y:1},300,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.yourLabel.visible=!0,this.game.add.tween(this.yourLabel.scale).to({x:1,y:1},300,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.dailyLabel.visible=!0,this.game.add.tween(this.dailyLabel.scale).to({x:1,y:1},300,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.rewardLabel.visible=!0,this.game.add.tween(this.rewardLabel.scale).to({x:1,y:1},300,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.disappear()},this)},this)},this)},this)},e.prototype.disappear=function(){this.game.add.tween(this).to({alpha:0},500,Phaser.Easing.Cubic.Out,!0,1800).onComplete.add(function(){s.DailyRewardState.currentInstance.showBall(),this.destroy()},this)},e}(Phaser.Group);s.DailyRewardMessage=e}(FootChinko||(FootChinko={})),function(n){var e=function(a){function e(e){var t=a.call(this,e,null,"daily-reward-reporter",!1)||this;return t.shakeReporter=!1,t.reporterIdleTween=null,t.reporterWinTween=null,t.reporterSprite=t.create(-250,1010,"texture_atlas_6","speaker_idle"),t.reporterSprite.anchor.setTo(0,1),t.reporterSprite.scale.y=n.GameVars.scaleY,t.reporterSprite.angle=-15,t.balloonSprite=t.create(210,800,"texture_atlas_6","balloon"),t.balloonSprite.scale.y=n.GameVars.scaleY,t.balloonSprite.visible=!1,t.gameText=n.GameVars.gameText,t}return __extends(e,a),e.prototype.update=function(){a.prototype.update.call(this),this.shakeReporter&&.5<Math.random()&&(this.reporterSprite.x=3*Math.random(),this.reporterSprite.y=1010+3*Math.random())},e.prototype.destroy=function(e,t){a.prototype.destroy.call(this,e,t),null!==this.reporterIdleTween&&(this.reporterIdleTween.pendingDelete=!0),null!==this.reporterWinTween&&(this.reporterWinTween.pendingDelete=!0)},e.prototype.appear=function(){this.game.add.tween(this.reporterSprite).to({x:10,angle:0},500,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.reporterIdleTween=this.game.add.tween(this.reporterSprite.scale),this.reporterIdleTween.to({x:1.02,y:.95*n.GameVars.scaleY},300,Phaser.Easing.Linear.None,!1),this.reporterIdleTween.delay(1200),this.reporterIdleTween.to({x:.98,y:1.05*n.GameVars.scaleY},700,Phaser.Easing.Elastic.Out),this.reporterIdleTween.loop(),this.reporterIdleTween.start()},this)},e.prototype.onCreditsWon=function(e){this.reporterIdleTween.pendingDelete=!0,this.reporterSprite.frameName="speaker_reward",this.balloonSprite.visible=!0;var t=new Phaser.Text(this.game,35,24,e.toString()+" "+this.gameText.REWARD_COINS,{font:"34px Ubuntu",fontWeight:"700",fill:"#000000",align:"center"});this.balloonSprite.addChild(t),this.activateWinTween()},e.prototype.onNothingWon=function(){this.shakeReporter=!0,this.reporterIdleTween.pendingDelete=!0,this.reporterSprite.frameName="speaker_fail",this.balloonSprite.visible=!0;var e=new Phaser.Text(this.game,35,24,this.gameText.REWARD_NOTHING,{font:"32px Ubuntu",fontWeight:"700",fill:"#000000",align:"center"});this.balloonSprite.addChild(e)},e.prototype.onPowerUpWon=function(e){var t,a;switch(this.reporterIdleTween.pendingDelete=!0,this.reporterSprite.frameName="speaker_reward",this.balloonSprite.visible=!0,e){case n.GameConstants.FREEZE_GOALKEEPER_REWARD:t=this.gameText.REWARD_FREEZE_GOALKEEPER,a="25px Ubuntu";break;case n.GameConstants.THREE_EXTRA_BALLS_REWARD:t=this.gameText.REWARD_THREE_BALLS,a="24px Ubuntu";break;case n.GameConstants.BALL_OF_FIRE_REWARD:t=this.gameText.REWARD_BALL_OF_FIRE,a="28px Ubuntu";break;case n.GameConstants.VOODOO_REWARD:t=this.gameText.REWARD_VODOO,a="21px Ubuntu"}var s=new Phaser.Text(this.game,20,32,t,{font:a,fontWeight:"700",fill:"#000000",align:"center"});this.balloonSprite.addChild(s),this.activateWinTween()},e.prototype.activateWinTween=function(){this.reporterWinTween=this.game.add.tween(this.reporterSprite),this.reporterWinTween.to({y:1018},150,Phaser.Easing.Cubic.Out,!0,0,-1,!0)},e}(Phaser.Group);n.DailyRewardReporter=e}(FootChinko||(FootChinko={})),function(o){var e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(){(t.currentInstance=this).ballShot=!1},t.prototype.create=function(){this.game.physics.p2.reset(),this.game.physics.p2.setBoundsToWorld(!1,!1,!1,!1),this.game.physics.p2.resume(),this.initialized=!0,this.canForwardShot=!1,this.background=this.add.sprite(o.GameConstants.GAME_WIDTH/2,560,"lawn-background"),this.background.scale.set(1.35,1.35*o.GameVars.scaleY*o.GameVars.fieldCorrectionScaleY),this.background.anchor.set(.5),this.background.inputEnabled=!0,this.background.input.priorityID=0,this.background.events.onInputDown.add(this.shoot,this),o.GameVars.getInstance().createMaterials();var e=new o.DailyRewardFieldBoundaries(this.game);(this.add.existing(e),this.rewardsContainer=new o.DailyRewardItemsContainer(this.game),this.add.existing(this.rewardsContainer),this.ballGroup=this.add.group(),this.ballGroup.scale.y=o.GameVars.scaleY,this.message=new o.DailyRewardMessage(this.game),this.add.existing(this.message),o.GameConstants.DEVELOPMENT)&&(this.add.button(675,90,"texture_atlas_5",this.onResetScene,this,"fx_button_on_on","fx_button_on_off","fx_button_on_on").scale.y=o.GameVars.scaleY);this.reporter=new o.DailyRewardReporter(this.game),this.add.existing(this.reporter),this.addFrame(),this.addCredits();var t=new o.AudioButtonsContainer(this.game,new Phaser.Point(615,10*o.GameVars.scaleY),new Phaser.Point(675,10*o.GameVars.scaleY));t.scale.y=o.GameVars.scaleY,this.add.existing(t),this.game.time.events.add(1e3,this.initialize,this)},t.prototype.shutdown=function(){t.currentInstance=null,this.background.events.onInputDown.remove(this.shoot,this),e.prototype.shutdown.call(this)},t.prototype.update=function(){e.prototype.update.call(this),this.ballShot&&this.ball.y>(o.GameConstants.GAME_HEIGHT+50)/o.GameVars.scaleY&&(this.ballShot=!1,this.ball.destroy(),this.onBallHitBottom())},t.prototype.initialize=function(){this.reporter.appear(),this.message.appear(),o.AudioManager.getInstance().playEffect("3_silvatos")},t.prototype.showBall=function(){this.ball=this.add.sprite(o.GameConstants.GAME_WIDTH/2,o.GameConstants.GAME_WIDTH/2,"texture_atlas_2","balon_extra"),this.ball.anchor.set(.5),this.ball.scale.set(0),this.ballGroup.add(this.ball),this.game.add.tween(this.ball.scale).to({x:1,y:1},600,Phaser.Easing.Elastic.Out,!0),this.forward=new o.ForwardPlayer(this.game,o.GameConstants.GAME_WIDTH/2,-100,!0,null,o.Player.STILL),this.ballGroup.add(this.forward),this.ball.bringToTop(),this.game.add.tween(this.forward.body).to({y:320},750,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.game.time.events.add(500,function(){this.canForwardShot=!0,this.forward.ball=this.ball,this.ball.x=this.forward.shootBall_px,this.ball.y=this.forward.shootBall_py,this.forward.addChild(this.ball),this.forward.prepareToShoot()},this)},this)},t.prototype.onCreditsWon=function(e){this.reporter.onCreditsWon(e),this.updateCredits()},t.prototype.onNothingWon=function(){this.reporter.onNothingWon()},t.prototype.onPowerUpWon=function(e){this.reporter.onPowerUpWon(e)},t.prototype.onBallHitBottom=function(){this.ball.destroy(),this.game.physics.p2.pause(),this.rewardsContainer.openTrunks();var e=this.add.button(670,910*o.GameVars.scaleY,"texture_atlas_5",this.onClickPlay,this);e.setFrames("play_button_on","play_button_off","play_button_on"),e.anchor.setTo(.5),e.scale.y=o.GameVars.scaleY,e.visible=!1;var t=this.game.add.tween(e.scale);t.to({x:1.05,y:.95*o.GameVars.scaleY},300,Phaser.Easing.Linear.None,!1),t.to({x:.95,y:1.05*o.GameVars.scaleY},700,Phaser.Easing.Elastic.Out),t.loop(),t.start(),this.game.time.events.add(1e3,function(){e.visible=!0},this)},t.prototype.onClickPlay=function(){o.GameManager.onClickPlayDailyRewardState(),o.AudioManager.getInstance().playEffect("play")},t.prototype.shoot=function(){if(this.canForwardShot){this.canForwardShot=!1,this.ballShot=!0,this.forward.hasReceived=!1,this.forward.bringToTop(),this.forward.shootBall(),this.forward.ball.destroy();var e=this.forward.x,t=this.forward.y,a=this.forward.getShootAngle(),s=Math.PI/180*a,n=e+75*Math.cos(s),i=t+75*Math.sin(s);this.ball=this.ballGroup.create(n,i,"texture_atlas_2","balon_extra"),this.game.physics.p2.enable(this.ball,o.GameConstants.SHOW_PHYSICS_BODIES),this.ball.body.data.type=Phaser.Physics.P2.Body.DYNAMIC,this.ball.body.setCircle(28),this.ball.body.mass=.025;this.ball.body.velocity.x=1150*Math.cos(s),this.ball.body.velocity.y=1150*Math.sin(s)}},t.prototype.onResetScene=function(){this.game.state.start("DailyRewardState",!0,!1)},t.prototype.addFrame=function(){var e=this.add.image(0,0,"texture_atlas_6","frame_rewards_top");this.add.image(0,e.height,"texture_atlas_6","frame_rewards_left");var t=this.add.image(o.GameConstants.GAME_WIDTH,e.height,"texture_atlas_6","frame_rewards_right");t.anchor.setTo(1,0),this.add.image(0,e.height+t.height,"texture_atlas_6","frame_rewards_bottom")},t.prototype.addCredits=function(){var e=new Phaser.Image(this.game,o.GameConstants.GAME_WIDTH/2,2*o.GameVars.scaleY,"texture_atlas_5","credits_cartridge");e.anchor.setTo(.5,0),e.scale.y=o.GameVars.scaleY,this.add.existing(e);var t=o.GameVars.formatNumber(o.GameVars.gameData.credits);this.creditsLabel=new Phaser.Text(this.game,o.GameConstants.GAME_WIDTH/2,35*o.GameVars.scaleY,t,{font:"36px Ubuntu",fontWeight:"700",fill:"#FFD51B",align:"center"}),this.creditsLabel.anchor.set(.5),this.creditsLabel.blendMode=3,this.creditsLabel.scale.y=o.GameVars.scaleY,this.add.existing(this.creditsLabel)},t.prototype.updateCredits=function(){this.creditsLabel.text=o.GameVars.formatNumber(o.GameVars.gameData.credits),this.game.add.tween(this.creditsLabel.scale).to({x:1.35,y:1.15},500,Phaser.Easing.Elastic.Out,!0,0,0,!0),o.AudioManager.getInstance().playEffect("pick_coins")},t}(Phaser.State);o.DailyRewardState=e}(FootChinko||(FootChinko={})),function(m){var e=function(e){function d(){return null!==e&&e.apply(this,arguments)||this}return __extends(d,e),d.prototype.create=function(){(d.currentInstance=this).nextMatchButton=null,this.levelSelectionButton=null,this.replayButton=null,this.fxPaused=!1,this.musicPaused=!1,this.add.image(0,0,"texture_atlas_1","fondo_menus").scale.setTo(1.25);var e=this.add.group();e.y=(1-m.GameVars.scaleY)*m.GameConstants.GAME_HEIGHT*.5,e.scale.y=m.GameVars.scaleY,this.reusableMenuBackground=new m.ReusableMenuBackground(this.game,m.ReusableMenuBackground.RESULT_SCENE),e.add(this.reusableMenuBackground);var t,a,s=new m.CreditsCounterContainer(this.game);e.add(s);var n=m.GameVars.getPlayerData().race;if(m.GameVars.matchResult===m.GameConstants.VICTORY){var i=new Phaser.Image(this.game,140,450,"texture_atlas_5","victory");i.anchor.set(.5),e.add(i);var o=this.game.add.tween(i.scale);o.to({x:1.05,y:.8},300,Phaser.Easing.Linear.None,!1),o.delay(50),o.to({x:.95,y:1.05},700,Phaser.Easing.Elastic.Out),o.loop(),o.start();var r=new Phaser.Image(this.game,590,870,"texture_atlas_5","loading_puerta");r.scale.set(1.2),r.anchor.set(.5,1),r.scale.y=m.GameVars.scaleY,this.add.existing(r),(a=new Phaser.Image(this.game,450,900,"texture_atlas_5","jugador_ganador_"+n)).anchor.set(.5,1),a.scale.y=m.GameVars.scaleY,this.add.existing(a),(t=new Phaser.Image(this.game,245,900,"texture_atlas_5","reporter_win")).anchor.setTo(.5,1),t.scale.y=m.GameVars.scaleY,this.add.existing(t),this.nextMatchButton=new Phaser.Button(this.game,686,843,"texture_atlas_5",this.onClickLevelSelection,this),this.nextMatchButton.setFrames("boton_next_on","boton_next_off","boton_next_on"),this.nextMatchButton.anchor.set(.5),this.nextMatchButton.scale.set(0),this.add.existing(this.nextMatchButton)}else{var l=new Phaser.Image(this.game,384,600,"texture_atlas_5","defeat");l.anchor.set(.5),e.add(l),this.levelSelectionButton=new Phaser.Button(this.game,68,846,"texture_atlas_5",this.onClickLevelSelection,this),this.levelSelectionButton.setFrames("exit_button_on","exit_button_off","exit_button_on"),this.levelSelectionButton.scale.y=m.GameVars.scaleY,this.levelSelectionButton.anchor.set(.5),this.levelSelectionButton.scale.set(0),this.add.existing(this.levelSelectionButton),this.replayButton=new Phaser.Button(this.game,686,843,"texture_atlas_5",this.onClickReplayButton,this),this.replayButton.setFrames("boton_replay_on","boton_replay_off","boton_replay_on"),this.replayButton.anchor.set(.5),this.replayButton.scale.set(0),this.add.existing(this.replayButton),(t=new Phaser.Image(this.game,275,940,"texture_atlas_5","reporter_lose")).anchor.set(.5,1),t.scale.y=m.GameVars.scaleY,this.add.existing(t),(a=new Phaser.Image(this.game,495,940,"texture_atlas_5","jugador_pierde_"+n)).anchor.set(.5,1),a.scale.y=m.GameVars.scaleY,this.add.existing(a)}0===m.GameVars.playerGoals&&this.showMenuButtons();var h=new m.AudioButtonsContainer(this.game,new Phaser.Point(615,10*m.GameVars.scaleY),new Phaser.Point(675,10*m.GameVars.scaleY));h.scale.y=m.GameVars.scaleY,this.add.existing(h);var c=new m.AdvicesContainer(this.game);this.add.existing(c),this.blackLayer=this.add.sprite(0,0,this.game.cache.getBitmapData("black_square")),this.blackLayer.scale.set(12,16),this.add.tween(this.blackLayer).to({alpha:0},700,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.blackLayer.destroy()},this),m.AudioManager.getInstance().playMusic(SoundTrack.MENUS)},d.prototype.shutdown=function(){d.currentInstance=null,e.prototype.shutdown.call(this)},d.prototype.onCoinAdded=function(){this.reusableMenuBackground.onCoinAdded()},d.prototype.showMenuButtons=function(){this.nextMatchButton&&this.game.add.tween(this.nextMatchButton.scale).to({x:1,y:m.GameVars.scaleY},500,Phaser.Easing.Elastic.InOut,!0,100).onComplete.add(this.startNextMatchButtonAnimation,this),this.levelSelectionButton&&this.game.add.tween(this.levelSelectionButton.scale).to({x:1,y:m.GameVars.scaleY},500,Phaser.Easing.Elastic.InOut,!0,100),this.replayButton&&this.game.add.tween(this.replayButton.scale).to({x:1,y:m.GameVars.scaleY},500,Phaser.Easing.Elastic.InOut,!0,100).onComplete.add(this.startReplayButtonAnimation,this)},d.prototype.goToScene=function(e){this.blackLayer=this.add.sprite(0,0,this.game.cache.getBitmapData("black_square")),this.blackLayer.scale.setTo(12,16),this.blackLayer.alpha=0,this.add.tween(this.blackLayer).to({alpha:1},700,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.game.state.start(e,!0,!1)},this)},d.prototype.startNextMatchButtonAnimation=function(){var e=this.game.add.tween(this.nextMatchButton.scale);e.to({x:1.05,y:.95*m.GameVars.scaleY},300,Phaser.Easing.Linear.None,!1),e.delay(50),e.to({x:.95,y:1.05*m.GameVars.scaleY},700,Phaser.Easing.Elastic.Out),e.loop(),e.start()},d.prototype.startReplayButtonAnimation=function(){var e=this.game.add.tween(this.replayButton.scale);e.to({x:1.05,y:.95*m.GameVars.scaleY},300,Phaser.Easing.Linear.None,!1),e.delay(50),e.to({x:.95,y:1.05*m.GameVars.scaleY},700,Phaser.Easing.Elastic.Out),e.loop(),e.start()},d.prototype.onClickLevelSelection=function(){m.GameConstants.SPONSOR===m.GameConstants.POKI&&(this.game.paused=!0,PokiSDK.commercialBreak().then(function(){console.log("End of commercial break"),d.currentInstance.game.paused=!1})),this.goToScene("TrophyState"),m.AudioManager.getInstance().playEffect("play")},d.prototype.onClickReplayButton=function(){m.GameManager.onMatchReplayed(),m.AudioManager.getInstance().playEffect("play"),m.AudioManager.getInstance().stopMusic(SoundTrack.MENUS),this.goToScene("FootballFieldState")},d}(Phaser.State);m.MatchResultState=e}(FootChinko||(FootChinko={})),function(t){var e=function(a){function s(e){var t=a.call(this,e,null,"intro-reporter",!1)||this;return t.create(590,70,"texture_atlas_3","chinkosports"),t.addBalloon(),t.addReporter(),t.addMole(),t.addNextButton(),t.reporterState=s.WELLCOME_STATE,t}return __extends(s,a),s.prototype.addNextButton=function(){this.nextButton=new Phaser.Button(this.game,676,670,"texture_atlas_5",this.onClickNext,this),this.nextButton.setFrames("boton_next_on","boton_next_off","boton_next_on"),this.nextButton.anchor.set(.5),this.add(this.nextButton);var e=this.game.add.tween(this.nextButton.scale);e.to({x:1.05,y:.95*t.GameVars.scaleY},300,Phaser.Easing.Linear.None,!1),e.delay(50),e.to({x:.95,y:1.05*t.GameVars.scaleY},700,Phaser.Easing.Elastic.Out),e.loop(),e.start()},s.prototype.addBalloon=function(){this.balloon=new Phaser.Image(this.game,52,100,"texture_atlas_3","intro_bocadillo"),this.add(this.balloon),this.msg=new Phaser.Text(this.game,s.MSG_1_PX,s.MSG_1_PY,t.GameVars.gameText.TUTORIAL_MSG_1,{font:t.GameVars.gameText.TUTORIAL_FONT_SIZE+"px dnk",fill:"#000000"}),this.add(this.msg)},s.prototype.addReporter=function(){this.rndGenerator=new Phaser.RandomDataGenerator([1,2,3]);var e=new Phaser.Image(this.game,370,660,"texture_atlas_2","balon_extra");e.scale.set(1.5),this.add(e);var t=new Phaser.Image(this.game,335,780,"texture_atlas_3","reporter_name");t.anchor.set(.5),this.add(t),this.reporter=new Phaser.Sprite(this.game,180,470,"texture_atlas_3","intro_speaker_0001"),this.add(this.reporter),this.reporter.animations.add("talk",Phaser.Animation.generateFrameNames("intro_speaker_",1,3,"",4)),this.reporter.animations.add("talk_reversed",Phaser.Animation.generateFrameNames("intro_speaker_",3,1,"",4)),this.reporter.animations.play("talk",this.rndGenerator.between(8,16),!1),this.reporterTalkTimeEvent=this.game.time.events.add(250+350*Math.random(),this.talkAgain,this)},s.prototype.talkAgain=function(){this.reporterState!==s.SHOWING_TROPHIES_STATE&&(.5<Math.random()?this.reporter.animations.play("talk",this.rndGenerator.between(14,20),!1):this.reporter.animations.play("talk_reversed",this.rndGenerator.between(8,16),!1),this.reporterTalkTimeEvent=this.game.time.events.add(250+350*Math.random(),this.talkAgain,this))},s.prototype.addMole=function(){this.mole=new Phaser.Sprite(this.game,500,675,"texture_atlas_3","intro_topo_1"),this.add(this.mole),this.moleBlinkTimeEvent=this.game.time.events.add(1500+1e3*Math.random(),this.moleBlink,this)},s.prototype.moleBlink=function(){this.mole.frameName="intro_topo_2",this.moleBlinkTimeEvent=this.game.time.events.add(250,this.moleIdle,this)},s.prototype.moleIdle=function(){this.mole.frameName="intro_topo_1",this.moleBlinkTimeEvent=this.game.time.events.add(1500+1e3*Math.random(),this.moleBlink,this)},s.prototype.onClickNext=function(){this.reporterState===s.WELLCOME_STATE?(this.msg.text=t.GameVars.gameText.TUTORIAL_MSG_2,this.msg.x=s.MSG_2_PX,this.msg.y=s.MSG_2_PY,this.reporterState=s.SHOWING_TROPHIES_STATE,this.game.time.events.remove(this.reporterTalkTimeEvent),this.game.time.events.add(600,function(){this.reporter.frameName="intro_speaker_0004",t.TrophyState.currentInstance.removeIntroTrophies()},this),this.nextButton.visible=!1,this.game.time.events.add(2e3,function(){this.nextButton.visible=!0},this)):this.reporterState===s.SHOWING_TROPHIES_STATE?(this.msg.text=t.GameVars.gameText.TUTORIAL_MSG_3,this.msg.x=s.MSG_3_PX,this.msg.y=s.MSG_3_PY,this.reporterState=s.GOODBYE_STATE,this.game.time.events.add(250+350*Math.random(),this.talkAgain,this),this.nextButton.visible=!1,this.game.time.events.add(2e3,function(){this.nextButton.visible=!0},this)):this.reporterState===s.GOODBYE_STATE&&(this.reporterState=s.END_STATE,this.nextButton.clearFrames(),this.game.time.events.remove(this.moleBlinkTimeEvent),this.game.time.events.remove(this.reporterTalkTimeEvent),this.game.add.tween(this).to({alpha:0},1e3,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){t.TrophyState.currentInstance.onIntroSeen(),this.destroy(!0)},this)),t.AudioManager.getInstance().playEffect("play")},s}(Phaser.Group);e.WELLCOME_STATE=0,e.SHOWING_TROPHIES_STATE=1,e.GOODBYE_STATE=2,e.END_STATE=3,e.MSG_1_PX=135,e.MSG_1_PY=190,e.MSG_2_PX=120,e.MSG_2_PY=170,e.MSG_3_PX=115,e.MSG_3_PY=185,t.IntroReporter=e}(FootChinko||(FootChinko={})),function(o){var e=function(i){function e(e,t,a){var s=i.call(this,e,null,"match-cell",!1)||this;if(s.x=o.TrophyContainer.CELL_CLICKABLE_LIMIT_LEFT,s.scale.y=o.GameVars.scaleY,s.tournamentData=t,s.matchData=s.tournamentData.matchesData[a],s.locked=s.matchData.locked,s.matchData.whiteBackgroundVisible){var n=new Phaser.Sprite(s.game,0,0,s.game.cache.getBitmapData("white_square"));n.scale.setTo(28,5.6/o.GameVars.scaleY),n.alpha=.3,s.add(n)}return s.addFlags(),s.locked||(s.addScore(),s.matchData.won&&s.addPlayButton()),s}return __extends(e,i),e.prototype.mark=function(){var e=new Phaser.Sprite(this.game,-o.TrophyContainer.CELL_CLICKABLE_LIMIT_LEFT,0,this.game.cache.getBitmapData("white_square"));e.scale.setTo(48,5.6/o.GameVars.scaleY),e.alpha=.65,e.blendMode=3,this.add(e)},e.prototype.addFlags=function(){var e;if(this.locked)(e=new Phaser.Image(this.game,17,17,"texture_atlas_5","bandera_0000")).scale.set(.75),e.anchor.set(.5),e.x=60,e.y=46,this.add(e);else{var t=o.GameVars.getTeamIDFromTeamName(this.matchData.adversaryName),a="bandera_"+o.GameVars.formatNumberForTextureAtlas(t);if((e=new Phaser.Image(this.game,17,17,"texture_atlas_5",a)).scale.set(.75),e.anchor.set(.5),e.x=60,e.y=46,this.add(e),this.matchData.won){e.alpha=.65,e.x+=12,e.y+=12;var s=o.GameVars.getTeamIDFromTeamName(this.tournamentData.selectedTeamName);a="bandera_"+o.GameVars.formatNumberForTextureAtlas(s),(e=new Phaser.Image(this.game,8,8,"texture_atlas_5",a)).scale.setTo(.75),e.anchor.set(.5),e.x=60,e.y=46,this.add(e)}if(0<o.GameVars.getLevelData(this.matchData.id-1)[0].time){var n=new Phaser.Image(this.game,32,40,"texture_atlas_5","icono_crono");n.anchor.set(.5,1),this.add(n);var i=this.game.add.tween(n);i.to({angle:-8},500,Phaser.Easing.Cubic.Out),i.to({angle:8},500,Phaser.Easing.Cubic.Out),i.loop(),i.start()}}},e.prototype.addScore=function(){var e=this.matchData.goalsPlayer,t=this.matchData.goalsAdversary;if(0<e){var a=e+"-"+t,s=new Phaser.Text(this.game,170,16,a,{font:"56px Ubuntu",fill:"#000000",align:"center"});s.anchor.x=.5,4<s.text.length&&(s.fontSize=45),this.add(s)}else{var n=this.matchData.adversaryName,i=void 0;i=n.length<12?{font:"36px Ubuntu Condensed",fill:"#000000",align:"left",wordWrap:!0,wordWrapWidth:220}:{font:"27px Ubuntu Condensed",fill:"#000000",align:"left",wordWrap:!0,wordWrapWidth:220};var o=new Phaser.Text(this.game,105,8,n,i);o.scale.set(.8,1),this.add(o)}},e.prototype.addPlayButton=function(){var e=new Phaser.Image(this.game,260,50,"texture_atlas_5","play_opened_level_off");e.anchor.set(.5),this.add(e)},e}(Phaser.Group);o.MatchCell=e}(FootChinko||(FootChinko={})),function(e){var t=function(a){function e(e){var t=a.call(this,e,null,"reporter-waiting",!1)||this;return t.reporterContainer=new Phaser.Group(t.game),t.reporterContainer.x=260,t.reporterContainer.y=400,t.add(t.reporterContainer),t.doorImage=new Phaser.Image(t.game,150,85,"texture_atlas_5","loading_puerta"),t.reporterContainer.add(t.doorImage),t.armImage=new Phaser.Image(t.game,120,180,"texture_atlas_5","loading_brazo"),t.armImage.anchor.set(.15,.85),t.reporterContainer.add(t.armImage),t.reporterKnockingImage=new Phaser.Image(t.game,0,100,"texture_atlas_5","loading_speaker"),t.reporterContainer.add(t.reporterKnockingImage),t.reporterWaiting=new Phaser.Image(t.game,0,100,"texture_atlas_5","loading_speaker_2"),t.reporterWaiting.visible=!1,t.reporterContainer.add(t.reporterWaiting),t.game.add.tween(t.armImage).to({angle:25},600,Phaser.Easing.Bounce.Out).to({angle:0},400,Phaser.Easing.Cubic.Out).start(),t.knockingTimerEvent=t.game.time.events.add(1200,t.knockAgain,t),t}return __extends(e,a),e.prototype.destroy=function(e,t){null!==this.knockingTimerEvent&&(this.knockingTimerEvent.pendingDelete=!0),a.prototype.destroy.call(this,e,t)},e.prototype.knockAgain=function(){.65<Math.random()?(this.armImage.visible=!1,this.reporterKnockingImage.visible=!1,this.reporterWaiting.visible=!0):(this.armImage.visible=!0,this.reporterKnockingImage.visible=!0,this.reporterWaiting.visible=!1,this.game.add.tween(this.armImage).to({angle:25},600,Phaser.Easing.Bounce.Out).to({angle:0},400,Phaser.Easing.Cubic.Out).start()),this.knockingTimerEvent=this.game.time.events.add(1e3+1e3*Math.random(),this.knockAgain,this)},e}(Phaser.Group);e.ReporterWaiting=t}(FootChinko||(FootChinko={})),function(r){var e=function(o){function e(e,t,a){var s=o.call(this,e,null,"team_button",!1)||this;s.tournamentData=t,s.scale.y=r.GameVars.scaleY,s.x=535,s.y=a,s.py=a,s.teamID=r.GameVars.getTeamIDFromTeamName(s.tournamentData.selectedTeamName);var n="seleccion_"+r.GameVars.formatNumberForTextureAtlas(s.teamID);if(s.cursorImageScale=1.15,s.cursorImage=new Phaser.Image(s.game,0,0,"texture_atlas_5",n),s.cursorImage.anchor.setTo(.5),s.cursorImage.x+=s.cursorImage.width/2,s.cursorImage.y+=s.cursorImage.height/2,s.cursorImage.scale.setTo(s.cursorImageScale,s.cursorImageScale),s.add(s.cursorImage),!s.tournamentData.won){s.playButton=new Phaser.Image(s.game,162,55,"texture_atlas_5","play_level_off"),s.playButton.anchor.setTo(.5),s.add(s.playButton);var i=s.game.add.tween(s.playButton.scale);i.to({x:1.05,y:.95},300,Phaser.Easing.Linear.None,!1),i.delay(50),i.to({x:.95,y:1.05},700,Phaser.Easing.Elastic.Out),i.loop(),i.start()}return s.tournamentData.won&&r.GameVars.tournamentJustUnlocked?s.jumpToTrophy():s.tournamentData.won?(s.x-=140,s.y-=90):s.tournamentData.name===r.GameVars.currentTournamentName&&r.GameVars.matchJustUnlocked&&s.jump(),s}return __extends(e,o),e.prototype.onTeamSelected=function(e){this.teamID=e,this.cursorImage.frameName="seleccion_"+r.GameVars.formatNumberForTextureAtlas(this.teamID)},e.prototype.jump=function(){this.y=this.py+90,this.game.add.tween(this).to({y:this.py},750,Phaser.Easing.Cubic.Out,!0,1200)},e.prototype.jumpToTrophy=function(){var e=this.x-140,t=this.y-90;this.game.add.tween(this).to({x:e,y:t},750,Phaser.Easing.Cubic.Out,!0,1200)},e}(Phaser.Group);r.TeamCursor=e}(FootChinko||(FootChinko={})),function(r){var e=function(i){function o(e){var t=i.call(this,e,null,"trophies-container",!1)||this;(o.currentInstance=t).sliding=!1,t.down=!1,t.slidingGroup=new Phaser.Group(t.game),t.add(t.slidingGroup),t.slidingPositions=new Array,t.trophiesContainersArray=new Array;for(var a,s=0,n=0;n<r.GameVars.gameData.tournamentData.length;n++)(a=new r.TrophyContainer(t.game,r.GameVars.gameData.tournamentData[n])).y=s,a.topPositionSlidingIndex=t.slidingPositions.length,t.trophiesContainersArray.push(a),t.slidingGroup.add(a),r.GameVars.gameData.tournamentData[n].matchesData.length<12?t.slidingPositions.push(-a.y):(t.slidingPositions.push(-a.y),t.slidingPositions.push(-a.y-400)),t.slidingPositions.push(-a.y-a.containerHeight+840),s+=a.containerHeight;return t.setContainerInitialPosition(),t}return __extends(o,i),o.prototype.update=function(){if(r.GameVars.gameData.introSeen)if(this.sliding)this.checkTrophiesContainerVisibility();else if(this.game.input.activePointer.isDown)this.down||(this.startY=this.game.input.y),this.down=!0;else{if(this.down){this.endY=this.game.input.y;var e=Math.abs(this.startY-this.endY);if(150<e&&this.startY<815){var t=this.endY>this.startY;this.game.device.desktop||this.onSwipe(t)}else e<10&&this.startY<815&&this.onClick(this.game.input.x,this.game.input.y)}this.down=!1}},o.prototype.onTeamSelected=function(e){var t=Math.floor(this.slidingIndex/2);this.slidingGroup.getChildAt(t).teamCursor.onTeamSelected(e)},o.prototype.onClickIcon=function(e){this.sliding||(this.sliding=!0,this.slidingIndex=this.trophiesContainersArray[e].getBottomSlidingIndex(),this.game.add.tween(this.slidingGroup).to({y:this.slidingPositions[this.slidingIndex]},500,Phaser.Easing.Quadratic.Out,!0).onComplete.add(function(){this.sliding=!1},this))},o.prototype.onSwipe=function(e){if((this.slidingIndex!==this.slidingPositions.length-1||e)&&(0!==this.slidingIndex||!e)){var t,a=this.slidingPositions[this.slidingIndex];this.sliding=!0,this.slidingIndex=e?this.slidingIndex-1:this.slidingIndex+1,this.slidingIndex=this.slidingIndex<0?0:this.slidingIndex,this.slidingIndex=this.slidingIndex>this.slidingPositions.length-1?this.slidingPositions.length-1:this.slidingIndex,t=this.slidingPositions[this.slidingIndex];var s=Math.abs(t-a)/2;this.game.add.tween(this.slidingGroup).to({y:t},s,Phaser.Easing.Quadratic.Out,!0).onComplete.add(function(){this.sliding=!1},this)}},o.prototype.setContainerInitialPosition=function(){var e=r.GameVars.getAchievedTrophy()-1;r.GameVars.tournamentJustUnlocked&&r.GameVars.matchJustUnlocked&&e++;var t=this.trophiesContainersArray[e];this.slidingIndex=t?t.getSlidingIndex():0,this.slidingGroup.y=this.slidingPositions[this.slidingIndex],this.checkTrophiesContainerVisibility()},o.prototype.checkTrophiesContainerVisibility=function(){for(var e=0;e<this.slidingGroup.length;e++){var t=this.slidingGroup.getChildAt(e);1024<this.slidingGroup.y+t.y||this.slidingGroup.y+t.y+t.containerHeight<0?t.visible=!1:t.visible=!0}},o.prototype.onClick=function(e,t){if(!(r.TrophyState.currentInstance.matchSelected||e<r.TrophyContainer.CELL_CLICKABLE_LIMIT_LEFT||e>r.TrophyContainer.CELL_CLICKABLE_LIMIT_RIGHT||t<r.TrophyContainer.CELL_CLICKABLE_LIMIT_TOP*r.GameVars.scaleY)){for(var a=-this.slidingGroup.y+t,s=this.trophiesContainersArray.length;s--&&!(this.trophiesContainersArray[s].topPositionSlidingIndex<=this.slidingIndex););this.trophiesContainersArray[s].onClick(e,a)}},o}(Phaser.Group);r.TrophiesContainer=e}(FootChinko||(FootChinko={})),function(i){var e=function(s){function e(e,t){var a=s.call(this,e,null,"trophy",!1)||this;return a.trophyImage=new Phaser.Image(a.game,0,0,"texture_atlas_2",t),a.trophyImage.anchor.x=.5,a.trophyImage.scale.y=i.GameVars.scaleY,a.add(a.trophyImage),a.trophyWidth=a.trophyImage.width,a.trophyHeight=a.trophyImage.height,a}return __extends(e,s),e.prototype.animate=function(){this.addRays(),this.addCoinsEffect()},e.prototype.addRays=function(){this.rays=new Phaser.Image(this.game,this.trophyImage.x+this.trophyImage.width/2,this.trophyImage.y+this.trophyImage.height/2,"texture_atlas_1","rays"),this.rays.anchor.set(.5),this.rays.scale.set(1.5),this.rays.blendMode=3,this.addAt(this.rays,0),this.game.add.tween(this.rays).to({angle:360},6e3,Phaser.Easing.Linear.None,!0).loop(),this.game.time.events.add(2500,this.removeRays,this)},e.prototype.addCoinsEffect=function(){for(var e,t=5,a=new Phaser.RandomDataGenerator([1,2,3]);t--;){(e=new Phaser.Image(this.game,this.trophyImage.width/2,this.trophyImage.height/2,"texture_atlas_5","little_coin")).anchor.set(.5),e.angle=180*Math.random(),this.addAt(e,0);var s=this.trophyImage.width/2+a.between(-80,80),n=this.trophyImage.height/2+a.between(-90,-175);this.game.add.tween(e).to({x:s,y:n},a.between(300,600),Phaser.Easing.Cubic.Out,!1,a.between(0,200)).to({alpha:0},400,Phaser.Easing.Cubic.Out).start()}this.game.time.events.add(1e3,function(){i.TrophyState.currentInstance.updateCreditsAfterAchievedTrophy()},this),i.AudioManager.getInstance().playEffect("power_up")},e.prototype.removeRays=function(){this.game.add.tween(this.rays).to({alpha:0},750,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.rays.destroy(),this.game.time.events.add(600,function(){i.GameManager.showNextTournament()},this)},this)},e}(Phaser.Group);i.Trophy=e}(FootChinko||(FootChinko={})),function(h){var e=function(i){function r(e,t){var a=i.call(this,e,null,"trophy-container",!1)||this;a.finalStep_py=0,a.semiStep_py=0,a.quarterStep_py=0,a.roundOf16Step_py=0,a.groupStageStep_py=0,a.classificationStep_py=0,a.tournamentData=t,a.name=a.tournamentData.name,a.unlockedMatches=0,a.addTrophy(),a.addCells(),a.addLabels(),a.addClosingStripe();var s=a.tournamentData.matchesData,n=s.length;return s[n-1].won||s[n-1].locked||a.tournamentData.teamSelected?s[n-1].locked||(a.clickOnCellsActivated=!0,a.tournamentData.name!==h.GameVars.justUnlockedTournamentName&&a.tournamentData.won||a.addCursor(),a.addClosingStripeChangeTeamButton()):(a.clickOnCellsActivated=!1,a.addSelectTeamButton()),a}return __extends(r,i),r.prototype.onClick=function(e,t){if(this.clickOnCellsActivated){t-=this.y;for(var a=0;a<this.cells.length;a++)if(!this.cells[a].locked&&this.cells[a].boundingBox.contains(e,t)){this.cells[a].mark();var s=this.tournamentData.matchesData;h.TrophyState.currentInstance.onMatchSelected(this.tournamentData,s[a]);break}}},r.prototype.getSlidingIndex=function(){var e;this.tournamentData.won?e=this.topPositionSlidingIndex:e=this.tournamentData.matchesData.length<12?this.unlockedMatches<6?this.topPositionSlidingIndex+1:this.topPositionSlidingIndex:this.unlockedMatches<6?this.topPositionSlidingIndex+2:this.unlockedMatches<10?this.topPositionSlidingIndex+1:this.topPositionSlidingIndex;return e},r.prototype.getBottomSlidingIndex=function(){return 12<this.tournamentData.matchesData.length?this.topPositionSlidingIndex+2:this.topPositionSlidingIndex+1},r.prototype.addTrophy=function(){if(this.trophy=new h.Trophy(this.game,this.tournamentData.trophyImageName),this.trophy.x=r.CELL_CLICKABLE_LIMIT_LEFT+this.trophy.trophyWidth/2,this.trophy.y=115,h.GameVars.tournamentJustUnlocked&&this.tournamentData.name===h.GameVars.getCurrentTournamentName()&&h.GameVars.matchJustUnlocked)h.TrophyState.currentInstance.addConfetti(),this.game.time.events.add(2e3,function(){this.trophy.animate()},this);else if(this.tournamentData.won){this.trophy.x=r.TOP_CELL_CENTER;var e=h.GameVars.getTeamIDFromTeamName(this.tournamentData.selectedTeamName),t="bandera_"+h.GameVars.formatNumberForTextureAtlas(e),a=new Phaser.Image(this.game,this.trophy.x,this.trophy.y,"texture_atlas_5",t);a.scale.setTo(1.75,1.75*h.GameVars.scaleY),a.anchor.setTo(.5,0),this.add(a);var s=new Phaser.Image(this.game,this.trophy.x,this.trophy.y+this.trophy.trophyHeight/2,"texture_atlas_1","rays");s.anchor.setTo(.5),s.scale.setTo(2,1.5),s.blendMode=3,this.add(s)}this.add(this.trophy)},r.prototype.addCells=function(){this.cells=[];for(var e=0,t=0;t<this.tournamentData.matchesData.length;t++)this.tournamentData.matchesData[t].matchType===h.GameConstants.GROUP_STAGE_MATCH&&e++;var a,s,n,i=this.trophy.y+this.trophy.trophyHeight-5,o=!1;for(t=0;t<this.tournamentData.matchesData.length;t++)s=null,this.tournamentData.matchesData[t].matchType===h.GameConstants.FINAL_MATCH?(s="escalon_final",this.finalStep_py=i):this.tournamentData.matchesData[t].matchType===h.GameConstants.SEMIFINAL_MATCH?(s="escalon_semifinal",this.semiStep_py=i):this.tournamentData.matchesData[t].matchType===h.GameConstants.QUARTERFINAL_MATCH?(s="escalon_cuartos",this.quarterStep_py=i):this.tournamentData.matchesData[t].matchType===h.GameConstants.ROUND_OF_16_MATCH?(s="escalon_octavos",this.roundOf16Step_py=i):this.tournamentData.matchesData[t].matchType!==h.GameConstants.GROUP_STAGE_MATCH||o||(s=3===e?"escalon_liguilla_3":"escalon_liguilla_2",o=!0,this.groupStageStep_py=i),null!==s&&(n=new Phaser.Image(this.game,r.CELL_CLICKABLE_LIMIT_LEFT,i,"texture_atlas_5",s),this.add(n)),(a=new h.MatchCell(this.game,this.tournamentData,t)).name=""+t,a.y=i,a.boundingBox=new Phaser.Rectangle(r.CELL_CLICKABLE_LIMIT_LEFT,i,500,90),this.add(a),this.cells.push(a),this.classificationStep_py=i,i+=90;this.lastCell_py=a.y},r.prototype.addLabels=function(){var e=h.GameVars.gameText,t=new Phaser.Text(this.game,36,this.finalStep_py+6," "+e.FINAL+" ",{font:"76px whoopass",fill:"#DAE9E9"});t.setShadow(3,3,"rgba(0,0,0,1)",0),t.scale.y=h.GameVars.scaleY,this.addAt(t,0);var a=new Phaser.Text(this.game,90,this.semiStep_py+10," "+e.SEMI+" ",{font:"66px whoopass",fill:"#DAE9E9"});if(a.setShadow(3,3,"rgba(0,0,0,1)",0),a.scale.y=h.GameVars.scaleY,this.addAt(a,0),0!==this.quarterStep_py){var s=new Phaser.Text(this.game,52,this.quarterStep_py+14," "+e.QUARTER+" ",{font:"45px whoopass",fill:"#DAE9E9"});s.setShadow(2,2,"rgba(0,0,0,1)",0),s.scale.y=h.GameVars.scaleY,this.addAt(s,0)}if(0!==this.roundOf16Step_py){var n=new Phaser.Text(this.game,26,this.roundOf16Step_py+14," "+e.ROUND_OF_16+" ",{font:"38px whoopass",fill:"#DAE9E9"});n.setShadow(2,2,"rgba(0,0,0,1)",0),n.scale.y=h.GameVars.scaleY,this.addAt(n,0)}var i=new Phaser.Text(this.game,25,this.groupStageStep_py+16," "+e.GROUP_STAGE+" ",{font:"34px whoopass",fill:"#DAE9E9"});i.setShadow(2,2,"rgba(0,0,0,1)",0),i.scale.y=h.GameVars.scaleY,this.addAt(i,0);var o=new Phaser.Text(this.game,56,this.classificationStep_py-180," "+e.CLAS+" ",{font:"76px whoopass",fill:"#DAE9E9"});o.setShadow(2,2,"rgba(0,0,0,1)",0),o.scale.y=h.GameVars.scaleY,this.addAt(o,0);var r=new Phaser.Text(this.game,80,this.classificationStep_py-100," "+e.SIFIC+" ",{font:"76px whoopass",fill:"#DAE9E9"});r.setShadow(3,3,"rgba(0,0,0,1)",0),r.scale.y=h.GameVars.scaleY,this.addAt(r,0);var l=new Phaser.Text(this.game,30,this.classificationStep_py-20," "+e.ATION+" ",{font:"76px whoopass",fill:"#DAE9E9"});l.setShadow(3,3,"rgba(0,0,0,1)",0),l.scale.y=h.GameVars.scaleY,this.addAt(l,0)},r.prototype.addClosingStripe=function(){this.stripeContainer=new Phaser.Group(this.game),this.stripeContainer.y=this.lastCell_py+120,this.stripeContainer.scale.y=h.GameVars.scaleY,this.add(this.stripeContainer);var e=new Phaser.Sprite(this.game,0,0,this.game.cache.getBitmapData("dark_gradient"));e.scale.setTo(58,1.7),this.stripeContainer.add(e);var t=new Phaser.Image(this.game,25,30,"texture_atlas_2",this.tournamentData.trophyImageName);t.anchor.set(0,.5),this.stripeContainer.add(t);var a=new Phaser.Text(this.game,145,this.tournamentData.titleLabel_py," "+this.tournamentData.name+" ",{font:this.tournamentData.titleLabelFontSize+"px whoopass",fill:"#DAE9E9"});this.stripeContainer.add(a),this.containerHeight=this.stripeContainer.y+138},r.prototype.addClosingStripeChangeTeamButton=function(){var e=new Phaser.Button(this.game,638,4,"texture_atlas_5",this.onClickChangeTeam,this,1,0,1);e.setFrames("cambio_equipo_on","cambio_equipo_off","cambio_equipo_on"),this.stripeContainer.add(e)},r.prototype.addCursor=function(){for(var e=this.tournamentData.matchesData,t=e.length;t--&&!e[t].locked;);t=-1===t?0:t+1,this.unlockedMatches=e.length-t;var a=this.cells[t].boundingBox.y-20;this.teamCursor=new h.TeamCursor(this.game,this.tournamentData,a),this.add(this.teamCursor)},r.prototype.addSelectTeamButton=function(){this.selectTeamButton=new Phaser.Button(this.game,640,this.lastCell_py+45,"texture_atlas_5",this.onClickChangeTeam,this),this.selectTeamButton.anchor.set(.5),this.selectTeamButton.setFrames("select_team_button_on","select_team_button_off","select_team_button_on"),this.add(this.selectTeamButton);var e=this.game.add.tween(this.selectTeamButton.scale);e.to({x:1.15,y:.9*h.GameVars.scaleY},300,Phaser.Easing.Linear.None),e.delay(50),e.to({x:.9,y:1.15*h.GameVars.scaleY},700,Phaser.Easing.Elastic.Out),e.loop(),e.start()},r.prototype.onClickChangeTeam=function(){h.GameManager.onClickChangeTeamButton(this.tournamentData.name)},r}(Phaser.Group);e.CELL_CLICKABLE_LIMIT_LEFT=260,e.CELL_CLICKABLE_LIMIT_RIGHT=705,e.CELL_CLICKABLE_LIMIT_TOP=75,e.TOP_CELL_CENTER=384,h.TrophyContainer=e}(FootChinko||(FootChinko={})),function(o){var e=function(t){function i(e){return t.call(this,e,null,"trophy-icons-container",!1)||this}return __extends(i,t),i.prototype.initIntroConfiguration=function(){var e;this.initialTrophies=[];for(var t=0;t<9;t++)(e=new Phaser.Sprite(this.game,i.PX_ICONS[t],840+106*(1-o.GameVars.scaleY),"texture_atlas_2")).scale.y=o.GameVars.scaleY,e.name=""+t,e.frameName="trofeo000"+t,this.initialTrophies.push(e),this.add(e)},i.prototype.init=function(){for(var e,t=o.GameVars.getAchievedTrophy(),a=0;a<9;a++)if((e=new Phaser.Sprite(this.game,i.PX_ICONS[a],850+106*(1-o.GameVars.scaleY),"texture_atlas_2")).name=""+a,e.frameName=a<t?"trofeo_off_000"+a:"trofeo000"+a,e.y=840+106*(1-o.GameVars.scaleY),e.inputEnabled=!0,e.events.onInputDown.add(this.onClickIcon,this),e.scale.y=o.GameVars.scaleY,this.add(e),a===t-1){var s=new Phaser.Sprite(this.game,i.PX_ICONS[a],838+100*(1-o.GameVars.scaleY),"texture_atlas_2","trofeo000"+a);s.scale.y=o.GameVars.scaleY,this.add(s),this.game.add.tween(s).to({alpha:0},750,Phaser.Easing.Cubic.Out,!0,0,-1,!0)}},i.prototype.removeIntroTrophies=function(){for(var e=this.initTrophiesIndex=0;e<9;e++)this.game.time.events.add(125*e,this.removeInitialTrophy,this);o.AudioManager.getInstance().playEffect("quemar_rival")},i.prototype.removeInitialTrophy=function(){var e=this.initialTrophies[this.initTrophiesIndex];e.frameName="trofeo_off_000"+this.initTrophiesIndex,e.y=850+106*(1-o.GameVars.scaleY),e.name=""+this.initTrophiesIndex,e.inputEnabled=!0,e.events.onInputDown.add(this.onClickIcon,this);var t=new Phaser.RandomDataGenerator([1,2,3]),a=new Phaser.Sprite(this.game,e.x+e.width/2,e.y+e.height/2,"texture_atlas_1","humo_0001");a.animations.add("burn",Phaser.Animation.generateFrameNames("humo_",1,5,"",4)),a.anchor.set(.5);var s=t.between(.65,1.35);if(a.scale.setTo(s,s),this.add(a),a.play("burn",16,!1,!0),8===this.initTrophiesIndex){var n=new Phaser.Image(this.game,i.PX_ICONS[8],838+106*(1-o.GameVars.scaleY),"texture_atlas_2","trofeo0008");n.scale.y=o.GameVars.scaleY,this.add(n),this.game.add.tween(n).to({alpha:0},750,Phaser.Easing.Cubic.Out,!0,0,-1,!0)}this.initTrophiesIndex++},i.prototype.onClickIcon=function(e){o.TrophyState.currentInstance.onClickIcon(+e.name)},i}(Phaser.Group);e.PX_ICONS=[640,560,485,410,345,260,165,70,0],o.TrophyIconsContainer=e}(FootChinko||(FootChinko={})),function(i){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return __extends(n,e),n.prototype.create=function(){(n.currentInstance=this).matchSelected=!1;var e,t=this.add.image(i.GameConstants.GAME_WIDTH/2,i.GameConstants.GAME_HEIGHT/2,"lawn-background");if(t.anchor.set(.5),t.scale.set(1.45,-1.45*i.GameVars.scaleY*i.GameVars.fieldCorrectionScaleY),this.trophiesContainer=new i.TrophiesContainer(this.game),this.add.existing(this.trophiesContainer),this.addFrame(),this.trophyIconsContainer=new i.TrophyIconsContainer(this.game),this.add.existing(this.trophyIconsContainer),i.GameVars.gameData.introSeen)this.trophyIconsContainer.init();else{var a=new i.IntroReporter(this.game);this.add.existing(a),this.trophiesContainer.visible=!1,this.trophyIconsContainer.initIntroConfiguration()}this.addCredits(),e=i.GameConstants.SPONSOR===i.GameConstants.AZOMEE?70*i.GameVars.scaleY:15*i.GameVars.scaleY,this.backButton=new Phaser.Button(this.game,15,e,"texture_atlas_5",this.onClickBackButton,this,1,0,1),this.backButton.setFrames("exit_button_on","exit_button_off","exit_button_on","exit_button_off"),this.backButton.scale.set(.85,.85*i.GameVars.scaleY),this.add.existing(this.backButton);var s=new i.AudioButtonsContainer(this.game,new Phaser.Point(615,10),new Phaser.Point(675,10));s.scale.y=i.GameVars.scaleY,this.add.existing(s),this.game.device.desktop&&(this.upSlideButton=new Phaser.Button(this.game,710,95,"texture_atlas_5",this.onClickUpSlideButton,this,1,0,1),this.upSlideButton.setFrames("up_button_on","up_button_off","up_button_on","up_button_off"),this.add.existing(this.upSlideButton),this.downSlideButton=new Phaser.Button(this.game,710,780,"texture_atlas_5",this.onClickDownSlideButton,this,1,0,1),this.downSlideButton.setFrames("down_button_on","down_button_off","down_button_on","down_button_off"),this.add.existing(this.downSlideButton)),this.blackLayer=this.add.sprite(0,0,this.game.cache.getBitmapData("black_square")),this.blackLayer.scale.setTo(12,16),this.add.tween(this.blackLayer).to({alpha:0},700,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.blackLayer.destroy()},this),i.AudioManager.getInstance().playMusic(SoundTrack.MENUS)},n.prototype.shutdown=function(){n.currentInstance=null,e.prototype.shutdown.call(this)},n.prototype.update=function(){e.prototype.update.call(this),this.confetti&&this.confetti.update()},n.prototype.removeIntroTrophies=function(){this.trophyIconsContainer.removeIntroTrophies()},n.prototype.onIntroSeen=function(){i.GameManager.onIntroSeen(),this.trophiesContainer.alpha=0,this.trophiesContainer.visible=!0,this.game.add.tween(this.trophiesContainer).to({alpha:1},600,Phaser.Easing.Cubic.Out,!0,300)},n.prototype.onClickChangeTeamButton=function(e){i.GameManager.onClickChangeTeamButton(e),i.AudioManager.getInstance().playEffect("play")},n.prototype.onClickIcon=function(e){this.trophiesContainer.onClickIcon(e)},n.prototype.onMatchSelected=function(e,t){this.matchSelected=!0,this.game.time.events.add(650,function(){i.GameManager.onNewMatchSelected(e,t)},this),i.AudioManager.getInstance().playEffect("play")},n.prototype.addConfetti=function(){this.confetti=new i.Confetti(this.game),this.add.existing(this.confetti.foregroundConfettiContainer),this.add.existing(this.confetti.backgroundConfettiContainer),this.confetti.activate(6e3)},n.prototype.showNextTournament=function(){this.trophiesContainer.onSwipe(!0)},n.prototype.updateCreditsAfterAchievedTrophy=function(){i.GameManager.updateCreditsAfterAchievedTrophy();var e=i.GameVars.formatNumber(i.GameVars.gameData.credits);this.creditsLabel.text=e,this.creditsLabel.x=384-this.creditsLabel.width/2},n.prototype.goToScene=function(e){this.blackLayer=this.add.sprite(0,0,this.game.cache.getBitmapData("black_square")),this.blackLayer.scale.setTo(12,16),this.blackLayer.alpha=0,this.add.tween(this.blackLayer).to({alpha:1},700,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.game.state.start(e,!0,!1)},this),this.game.state.start(e,!0,!1)},n.prototype.onClickBackButton=function(){this.goToScene("SplashState"),i.AudioManager.getInstance().playEffect("play")},n.prototype.onClickUpSlideButton=function(){i.GameVars.gameData.introSeen&&!this.trophiesContainer.sliding&&(this.trophiesContainer.onSwipe(!0),i.AudioManager.getInstance().playEffect("play"))},n.prototype.onClickDownSlideButton=function(){i.GameVars.gameData.introSeen&&!this.trophiesContainer.sliding&&(this.trophiesContainer.onSwipe(!1),i.AudioManager.getInstance().playEffect("play"))},n.prototype.addCredits=function(){var e=new Phaser.Image(this.game,384,2,"texture_atlas_5","credits_cartridge");e.anchor.set(.5,0),e.scale.y=i.GameVars.scaleY,this.add.existing(e);var t=i.GameVars.formatNumber(i.GameVars.gameData.credits);this.creditsLabel=new Phaser.Text(this.game,384,10,t,{font:"36px Ubuntu",fontWeight:"700",fill:"#FFD51B",align:"center"}),this.creditsLabel.x-=this.creditsLabel.width/2,this.creditsLabel.scale.y=i.GameVars.scaleY,this.add.existing(this.creditsLabel)},n.prototype.addFrame=function(){var e=this.add.group(),t=new Phaser.Image(this.game,0,0,"texture_atlas_5","vitrina_arriba"),a=new Phaser.Image(this.game,0,t.height,"texture_atlas_5","vitrina_izquierda"),s=new Phaser.Image(this.game,768,t.height,"texture_atlas_5","vitrina_derecha");s.anchor.set(1,0);var n=new Phaser.Image(this.game,0,t.height+s.height,"texture_atlas_5","vitrina_abajo");e.add(t),e.add(a),e.add(s),e.add(n)},n}(Phaser.State);i.TrophyState=e}(FootChinko||(FootChinko={})),function(a){var e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(){(t.currentInstance=this).initialized=!1,a.MatchManager.init(this.game)},t.prototype.create=function(){this.matchController=new a.MatchController(this.game),this.preMatchLayer=null,this.showShooterTimerEvent=null,this.backgroundManager=new a.BackgroundManager(this.game),this.add.existing(this.backgroundManager),this.sceneContainer=this.add.group(),this.sceneContainer.scale.y=a.GameVars.scaleY*a.GameVars.fieldCorrectionScaleY,this.sceneContainer.y=(1-a.GameVars.scaleY*a.GameVars.fieldCorrectionScaleY)*a.GameConstants.GAME_HEIGHT/2,a.GameManager.initMatch()},t.prototype.addPreMatchLayer=function(){this.preMatchLayer=new a.PreMatchLayer(this.game),this.add.existing(this.preMatchLayer)},t.prototype.initialize=function(){this.initialized=!0,this.matchController.init(this.backgroundManager.backgroundImage),this.game.physics.p2.reset(),this.game.physics.p2.setBoundsToWorld(!1,!1,!1,!1),this.game.physics.p2.resume(),a.GameVars.getInstance().createMaterials(),this.pegsContainer=new a.PegsContainer(this.game),this.sceneContainer.add(this.pegsContainer),this.goalKeeper=this.pegsContainer.goalKeeper,this.fieldBoundaries=new a.FieldBoundaries(this.game),this.sceneContainer.add(this.fieldBoundaries),this.ballsManager=new a.BallsManager(this.game),this.sceneContainer.add(this.ballsManager);var e=new Phaser.Image(this.game,155,960,"texture_atlas_1","goal");this.sceneContainer.add(e),this.hud=new a.HUD(this.game),this.add.existing(this.hud),this.gui=new a.GUI(this.game),this.add.existing(this.gui),null!==this.preMatchLayer?this.preMatchLayer.onFootballSceneInitialized():a.MatchManager.onMatchStart()},t.prototype.shutdown=function(){t.currentInstance=null,this.matchController.destroy(),e.prototype.shutdown.call(this)},t.prototype.onMatchStart=function(){this.ballsManager.start(),this.hud.start(),this.gui.start(),a.GameVars.isTimedLevel?a.AudioManager.getInstance().playMusic(SoundTrack.EXTRA_TIME):a.AudioManager.getInstance().playMusic(SoundTrack.GAME_SOUNDTRACK)},t.prototype.kickOff=function(){this.ballsManager.kickOff(),this.hud.updateBallsCounter(),this.gui.onKickOff()},t.prototype.shootBall=function(e,t,a,s,n,i){this.ballsManager.shootBall(e,t,a,s,n,i)},t.prototype.onExtraBall=function(e,t,a){this.ballsManager.onExtraBall(e,t,a)},t.prototype.onMagicPotion=function(){this.goalKeeper.shrink()},t.prototype.onPowerUpFreezeGoalkeeperSelected=function(){this.hud.onPowerUpSelected(a.GameConstants.FREEZE_GOALKEEPER),this.goalKeeper.onFreezeGoalKeeper()},t.prototype.onPowerUpExtraBallsSelected=function(){this.hud.onPowerUpSelected(a.GameConstants.EXTRA_BALLS),a.AudioManager.getInstance().playEffect("power_up")},t.prototype.onPowerUpBallOfFireSelected=function(){this.hud.onPowerUpSelected(a.GameConstants.BALL_OF_FIRE),this.ballsManager.onBallOnFireSelected(),a.AudioManager.getInstance().playEffect("power_up")},t.prototype.onPowerUpVoodooSelected=function(){this.hud.onPowerUpSelected(a.GameConstants.VOODOO),this.backgroundManager.onVoodoo(),this.pegsContainer.onVoodoo(),a.AudioManager.getInstance().playEffect("power_up")},t.prototype.onGoal=function(){this.backgroundManager.onGoal(),this.hud.onGoal(),this.goalKeeper.onGoal()},t.prototype.onNoBallsInTheField=function(e){e?this.game.time.events.add(1250,function(){this.ballsManager.start(),this.hud.onBallsManagerReadyToKickOff()},this):(this.ballsManager.start(),this.hud.onBallsManagerReadyToKickOff()),this.goalKeeper.onNoBallsInTheField(),this.gui.start(),this.pegsContainer.onBallsManagerReadyToKickOff()},t.prototype.onBallReturnedToStartingPoint=function(){this.hud.updateBallsCounter(),this.ballsManager.start()},t.prototype.onStreakerEntry=function(){this.hud.onStreakerEntry()},t.prototype.onStreakerHit=function(){this.hud.onStrikerHit()},t.prototype.pauseGame=function(){this.game.physics.p2.pause(),this.ballsManager.onGamePaused(),this.pegsContainer.onGamePaused()},t.prototype.resumeGame=function(){this.game.physics.p2.resume(),this.ballsManager.onGameResumed(),this.pegsContainer.onGameResumed()},t.prototype.onMatchEnd=function(){var e;this.game.physics.p2.pause(),this.gui.visible=!1,this.hud.onMatchEnd(),a.GameVars.matchJustUnlocked||a.GameVars.tournamentJustUnlocked?(e=5500,this.hud.celebrateMatchEnd(),a.GameVars.isTimedLevel?a.AudioManager.getInstance().stopMusic(SoundTrack.EXTRA_TIME):a.AudioManager.getInstance().stopMusic(SoundTrack.GAME_SOUNDTRACK),a.AudioManager.getInstance().playEffect("celebracion_victoria")):e=900,this.game.time.events.add(e,function(){a.GameManager.showMatchResult()},this)},t.prototype.goToScene=function(e){a.GameVars.isTimedLevel?a.AudioManager.getInstance().stopMusic(SoundTrack.EXTRA_TIME):a.AudioManager.getInstance().stopMusic(SoundTrack.GAME_SOUNDTRACK),this.blackLayer=this.add.sprite(0,0,this.game.cache.getBitmapData("black_square")),this.blackLayer.scale.set(12,16),this.blackLayer.alpha=0,this.add.tween(this.blackLayer).to({alpha:1},700,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.game.state.start(e,!0,!1)},this)},t}(Phaser.State);a.FootballFieldState=e}(FootChinko||(FootChinko={})),function(r){var e=function(i){function o(e){var t=i.call(this,e,null,"prematch-layer",!1)||this;(o.currentInstance=t).tournamentData=r.GameVars.tournamentData;var a=new Phaser.Image(t.game,0,0,"texture_atlas_1","fondo_menus");a.scale.setTo(1.25,1.25),t.add(a),t.scaledItemsContainer=new Phaser.Group(t.game),t.scaledItemsContainer.y=(1-r.GameVars.scaleY)*r.GameConstants.GAME_HEIGHT*.5,t.scaledItemsContainer.scale.y=r.GameVars.scaleY,t.add(t.scaledItemsContainer),t.addReusableMenuBackground(),t.addWaitingAnimation(),t.addPowerUpsContainer();var s=new r.AudioButtonsContainer(t.game,new Phaser.Point(615,10),new Phaser.Point(675,10));t.scaledItemsContainer.add(s);var n=new Phaser.Button(t.game,68,658,"texture_atlas_5",t.onClickLevelSelection,t,1,0,1);return n.setFrames("exit_button_on","exit_button_off","exit_button_on","exit_button_off"),n.anchor.set(.5),t.scaledItemsContainer.add(n),t.playButton=new Phaser.Button(t.game,686,658,"texture_atlas_5",t.onClickPlay,t),t.playButton.setFrames("play_button_on","play_button_off","play_button_on"),t.playButton.anchor.setTo(.5),t.playButton.visible=!1,t.scaledItemsContainer.add(t.playButton),t.playButton.inputEnabled=!1,t.blackLayer=new Phaser.Sprite(t.game,0,0,t.game.cache.getBitmapData("black_square")),t.blackLayer.scale.set(12,16),t.add(t.blackLayer),t.game.add.tween(t.blackLayer).to({alpha:0},700,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.blackLayer.destroy()},t),t}return __extends(o,i),o.prototype.destroy=function(e,t){o.currentInstance=null,i.prototype.destroy.call(this,e,t)},o.prototype.onFootballSceneInitialized=function(){this.playButton.visible=!0;var e=this.game.add.tween(this.playButton.scale);e.to({x:1.05,y:.95},300,Phaser.Easing.Linear.None,!1),e.delay(50),e.to({x:.95,y:1.05},700,Phaser.Easing.Elastic.Out),e.loop(),e.start(),this.playButton.inputEnabled=!0},o.prototype.addReusableMenuBackground=function(){var e=new r.ReusableMenuBackground(this.game,r.ReusableMenuBackground.PREMATCH_LAYER);this.scaledItemsContainer.add(e)},o.prototype.addWaitingAnimation=function(){this.reporterWaiting=new r.ReporterWaiting(this.game),this.scaledItemsContainer.add(this.reporterWaiting)},o.prototype.addPowerUpsContainer=function(){this.powerUpsContainer=new r.PowerUpsContainer(this.game,!0),this.powerUpsContainer.y=690,this.scaledItemsContainer.add(this.powerUpsContainer)},o.prototype.onClickLevelSelection=function(){r.GameVars.levelEdition?this.goToScene("DevelopmentLevelSelection"):this.goToScene("TrophyState"),r.AudioManager.getInstance().playEffect("play")},o.prototype.onClickPlay=function(){this.playButton.clearFrames(),r.AudioManager.getInstance().playEffect("play"),r.AudioManager.getInstance().stopMusic(SoundTrack.MENUS),r.MatchManager.onMatchStart(),this.destroy(!0)},o.prototype.goToScene=function(e){this.blackLayer=new Phaser.Sprite(this.game,0,0,this.game.cache.getBitmapData("black_square")),this.blackLayer.scale.setTo(12,16),this.blackLayer.alpha=0,this.game.add.tween(this.blackLayer).to({alpha:1},700,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.game.state.start(e,!0,!1)},this)},o}(Phaser.Group);r.PreMatchLayer=e}(FootChinko||(FootChinko={})),function(s){var e=function(a){function e(e){var t=a.call(this,e,null,"penalty curtain",!1)||this;return t.upperCurtain=new Phaser.Sprite(t.game,0,s.GameConstants.GAME_HEIGHT/2,t.game.cache.getBitmapData("penalty_curtain_gradient")),t.upperCurtain.scale.set(48,-4),t.add(t.upperCurtain),t.lowerCurtain=new Phaser.Sprite(t.game,0,s.GameConstants.GAME_HEIGHT/2,t.game.cache.getBitmapData("penalty_curtain_gradient")),t.lowerCurtain.scale.setTo(48,4),t.add(t.lowerCurtain),t.upperCurtain.alpha=s.GameConstants.ALPHA_PHYSICS_BODIES,t.lowerCurtain.alpha=s.GameConstants.ALPHA_PHYSICS_BODIES,t.penaltyLabel=new Phaser.Text(t.game,800,100," "+s.GameVars.gameText.ONE_PENALTY+" ",{font:"150px whoopass",fill:"#DAE9E9"}),t.penaltyLabel.scale.y=s.GameVars.scaleY,t.add(t.penaltyLabel),t.allOrNothingLabel=new Phaser.Text(t.game,-800,825," "+s.GameVars.gameText.ALL_NOTHING+" ",{font:s.GameVars.gameText.ALL_NOTHING_FONT_SIZE+"px whoopass",fill:"#DAE9E9"}),t.allOrNothingLabel.scale.y=s.GameVars.scaleY,t.add(t.allOrNothingLabel),t.game.add.tween(t.penaltyLabel).to({x:40},650,Phaser.Easing.Cubic.In,!0,750),t.game.add.tween(t.allOrNothingLabel).to({x:40},650,Phaser.Easing.Cubic.In,!0,1500).onComplete.add(t.removeLabels,t),t}return __extends(e,a),e.prototype.removeLabels=function(){this.game.add.tween(this.penaltyLabel).to({x:-800},500,Phaser.Easing.Cubic.Out,!0,1200),this.game.add.tween(this.allOrNothingLabel).to({x:800},500,Phaser.Easing.Cubic.Out,!0,1200).onComplete.add(this.removeCurtains,this)},e.prototype.removeCurtains=function(){this.game.add.tween(this.upperCurtain).to({y:165},800,Phaser.Easing.Cubic.In,!0,800),this.game.add.tween(this.lowerCurtain).to({y:830},800,Phaser.Easing.Cubic.In,!0,800).onComplete.add(this.onCurtainsRemoved,this)},e.prototype.onCurtainsRemoved=function(){s.PenaltyManager.onMatchStart()},e}(Phaser.Group);s.PenaltyCurtain=e}(FootChinko||(FootChinko={})),function(i){var e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.create=function(){(t.currentInstance=this).initialized=!1,this.backgroundManager=new i.BackgroundManager(this.game,i.BackgroundManager.PENALTY),this.add.existing(this.backgroundManager),this.matchController=new i.MatchController(this.game),this.initialize()},t.prototype.shutdown=function(){t.currentInstance=null,this.matchController.destroy(),e.prototype.shutdown.call(this)},t.prototype.onMatchStart=function(){this.hud.start()},t.prototype.shootPenalty=function(e,t,a){var s=new i.Ball(this.game,e,t);s.initPhysics(),this.ballGroup.add(s);var n=Math.PI/180*a;s.body.velocity.x=1500*Math.cos(n),s.body.velocity.y=1500*Math.sin(n)},t.prototype.onMatchEnd=function(){this.game.physics.p2.pause(),i.GameVars.matchResult===i.GameConstants.VICTORY&&(this.backgroundManager.onGoal(),this.hud.onPenaltyScored(),this.penaltyGoalKeeper.onGoal(),i.AudioManager.getInstance().stopMusic(SoundTrack.PENALTY),i.AudioManager.getInstance().playEffect("celebracion_victoria"));var e=i.GameVars.matchJustUnlocked?5e3:900;this.game.time.events.add(e,function(){i.GameManager.showMatchResult()},this)},t.prototype.initialize=function(){this.initialized=!0,this.matchController.init(this.backgroundManager.backgroundImage),this.game.physics.p2.reset(),this.game.physics.p2.setBoundsToWorld(!1,!1,!1,!1),this.game.physics.p2.resume(),i.GameVars.getInstance().createMaterials(),this.ballGroup=this.add.group(),this.ballGroup.scale.y=i.GameVars.scaleY*i.GameVars.fieldCorrectionScaleY,this.forward=new i.ForwardPlayer(this.game,380,350,!0,null,i.Player.STILL),i.PenaltyManager.init(this.game,this.forward),this.ballGroup.add(this.forward),this.fieldBoundaries=new i.FieldBoundaries(this.game),this.add.existing(this.fieldBoundaries),this.penaltyGoalKeeper=new i.PenaltyGoalKeeper(this.game,200,650/(i.GameVars.scaleY*i.GameVars.fieldCorrectionScaleY)),this.ballGroup.add(this.penaltyGoalKeeper),this.add.image(155,760,"texture_atlas_1","goal"),this.penaltyCurtain=new i.PenaltyCurtain(this.game),this.add.existing(this.penaltyCurtain),this.hud=new i.HUD(this.game),this.add.existing(this.hud),this.blackLayer=this.add.sprite(0,0,this.game.cache.getBitmapData("black_square")),this.blackLayer.scale.set(12,16),this.blackLayer.alpha=0,this.add.tween(this.blackLayer).to({alpha:0},700,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.blackLayer.destroy()},this),i.AudioManager.getInstance().playMusic(SoundTrack.PENALTY)},t.prototype.goToScene=function(e){var t;this.blackLayer=this.add.sprite(0,0,this.game.cache.getBitmapData("black_square")),this.blackLayer.scale.set(12,16),this.blackLayer.alpha=0,t=i.GameVars.matchResult===i.GameConstants.VICTORY?2200:700,i.AudioManager.getInstance().stopMusic(SoundTrack.PENALTY),this.add.tween(this.blackLayer).to({alpha:1},t,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.game.state.start(e,!0,!1)},this),this.game.time.events.add(t,function(){this.game.state.start(e,!0,!1)},this)},t}(Phaser.State);i.PenaltyFootballFieldState=e}(FootChinko||(FootChinko={})),function(a){var e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.init=function(){(t.currentInstance=this).ready=!1},t.prototype.preload=function(){this.generateBitmapData(),this.add.text(0,0,"abcdefg",{font:"10px dnk",fill:"#000000"}),this.add.text(0,100,"abcdefg",{font:"10px whoopass",fill:"#000000"}),this.add.text(0,100,"abcdefg",{font:"10px Ubuntu",fill:"#000000"}),this.add.text(0,100,"abcdefg",{font:"10px Ubuntu Condensed",fill:"#000000"});var e=this.add.sprite(0,0,this.game.cache.getBitmapData("intro_background"));e.scale.setTo(48,16),e.inputEnabled=!0,e.events.onInputDown.add(this.onClickBackground,this),this.preLoadItems=this.add.group(),this.loadingLabel=new Phaser.Text(this.game,a.GameConstants.GAME_WIDTH/2,300,"LOADING...",{font:"42px Ubuntu Condensed",fill:"#ffffff"}),this.loadingLabel.anchor.x=.5,this.loadingLabel.scale.y=a.GameVars.scaleY,this.add.existing(this.loadingLabel),this.loadedPercentageLabel=new Phaser.Text(this.game,a.GameConstants.GAME_WIDTH/2,475,"0 %",{font:"32px Ubuntu Condensed",fill:"#ffffff"}),this.loadedPercentageLabel.anchor.x=.5,this.preLoadItems.add(this.loadedPercentageLabel),this.load.onFileComplete.add(this.updateLoadedPercentage,this),this.loadAssets()},t.prototype.create=function(){this.loadedPercentageLabel.destroy(),this.loadingLabel.text="DECODING AUDIO",this.game.add.tween(this.loadingLabel).to({alpha:0},550,Phaser.Easing.Cubic.Out,!0,0,-1,!0)},t.prototype.shutdown=function(){t.currentInstance=null,e.prototype.shutdown.call(this)},t.prototype.update=function(){this.cache.isSoundDecoded("soundtrack")&&this.cache.isSoundDecoded("musica_menus")&&this.cache.isSoundDecoded("musica_penalty")&&this.cache.isSoundDecoded("musica_prorroga")&&this.cache.isSoundDecoded("audio_effects")&&!this.ready&&(this.ready=!0,this.startGame()),e.prototype.update.call(this)},t.prototype.updateLoadedPercentage=function(){a.GameConstants.SPONSOR===a.GameConstants.POKI&&PokiSDK.gameLoadingProgress({percentageDone:this.load.progress}),this.loadedPercentageLabel.text=this.load.progress.toString()+" %"},t.prototype.onClickBackground=function(){this.ready&&this.startGame()},t.prototype.startGame=function(){a.GameManager.onGameAssetsLoaded()},t.prototype.loadAssets=function(){this.load.image("lawn-background",a.GameConstants.ASSETS_DIRECTORY+"/lawn-background.jpg"),this.load.image("splash-background",a.GameConstants.ASSETS_DIRECTORY+"/splash_footchinko_responsive.jpg"),this.load.atlasXML("texture_atlas_1",a.GameConstants.ASSETS_DIRECTORY+"/texture_atlas_1.png",a.GameConstants.ASSETS_DIRECTORY+"/texture_atlas_1.xml"),this.load.atlasXML("texture_atlas_2",a.GameConstants.ASSETS_DIRECTORY+"/texture_atlas_2.png",a.GameConstants.ASSETS_DIRECTORY+"/texture_atlas_2.xml"),this.load.atlasXML("texture_atlas_5",a.GameConstants.ASSETS_DIRECTORY+"/texture_atlas_5.png",a.GameConstants.ASSETS_DIRECTORY+"/texture_atlas_5.xml"),a.GameVars.gameData.introSeen||this.load.atlasXML("texture_atlas_3",a.GameConstants.ASSETS_DIRECTORY+"/texture_atlas_3_en.png",a.GameConstants.ASSETS_DIRECTORY+"/texture_atlas_3_en.xml"),this.load.json("levels",a.GameConstants.ASSETS_DIRECTORY+"/levels/levels.json"),this.load.json("teams",a.GameConstants.ASSETS_DIRECTORY+"/config/teams.json"),this.load.json("game_text",a.GameConstants.ASSETS_DIRECTORY+"/config/game_text.json"),0===a.GameVars.gameData.tournamentData.length&&this.load.json("tournamentsData",a.GameConstants.ASSETS_DIRECTORY+"/config/tournamentsData.json"),this.load.audio("soundtrack",[a.GameConstants.ASSETS_DIRECTORY+"/audio/soundtrack.mp3",a.GameConstants.ASSETS_DIRECTORY+"/audio/soundtrack.ogg"],!0),this.load.audio("musica_menus",[a.GameConstants.ASSETS_DIRECTORY+"/audio/musica_menus.mp3",a.GameConstants.ASSETS_DIRECTORY+"/audio/musica_menus.ogg"],!0),this.load.audio("musica_penalty",[a.GameConstants.ASSETS_DIRECTORY+"/audio/musica_penalty.mp3",a.GameConstants.ASSETS_DIRECTORY+"/audio/musica_penalty.ogg"],!0),this.load.audio("musica_prorroga",[a.GameConstants.ASSETS_DIRECTORY+"/audio/musica_prorroga.mp3",a.GameConstants.ASSETS_DIRECTORY+"/audio/musica_prorroga.ogg"],!0),this.load.audiosprite("audio_effects",[a.GameConstants.ASSETS_DIRECTORY+"/audio/audio_effects.mp3",a.GameConstants.ASSETS_DIRECTORY+"/audio/audio_effects.ogg"],a.GameConstants.ASSETS_DIRECTORY+"/audio/audio_effects.json"),a.GameVars.showDailyRewardScene&&(this.load.atlasXML(a.GameConstants.DEFAULT_PLAYER_TEAM_ID.toString(),a.GameConstants.ASSETS_DIRECTORY+"/teams/"+a.GameConstants.DEFAULT_PLAYER_TEAM_ID.toString()+".png",a.GameConstants.ASSETS_DIRECTORY+"/teams/"+a.GameConstants.DEFAULT_PLAYER_TEAM_ID.toString()+".xml"),this.load.atlasXML("texture_atlas_6",a.GameConstants.ASSETS_DIRECTORY+"/texture_atlas_6.png",a.GameConstants.ASSETS_DIRECTORY+"/texture_atlas_6.xml")),a.GameConstants.DEVELOPMENT&&(this.load.atlasXML("texture_atlas_4",a.GameConstants.ASSETS_DIRECTORY+"/texture_atlas_4.png",a.GameConstants.ASSETS_DIRECTORY+"/texture_atlas_4.xml"),this.load.atlasXML(a.GameConstants.DEFAULT_PLAYER_TEAM_ID.toString(),a.GameConstants.ASSETS_DIRECTORY+"/teams/"+a.GameConstants.DEFAULT_PLAYER_TEAM_ID.toString()+".png",a.GameConstants.ASSETS_DIRECTORY+"/teams/"+a.GameConstants.DEFAULT_PLAYER_TEAM_ID.toString()+".xml"),this.load.atlasXML(a.GameConstants.DEFAULT_ADVERSARY_TEAM_ID.toString(),a.GameConstants.ASSETS_DIRECTORY+"/teams/"+a.GameConstants.DEFAULT_ADVERSARY_TEAM_ID.toString()+".png",a.GameConstants.ASSETS_DIRECTORY+"/teams/"+a.GameConstants.DEFAULT_ADVERSARY_TEAM_ID.toString()+".xml")),a.GameConstants.SPONSOR===a.GameConstants.LOGICIEL_EDUCATIF&&this.load.image("logiciel-educatif-logo",a.GameConstants.ASSETS_DIRECTORY+"/logicieleducatif-logo.png")},t.prototype.generateBitmapData=function(){var e=this.game.add.bitmapData(16,128,"intro_orange",!0);e.ctx.beginPath(),e.ctx.rect(0,0,16,128),e.ctx.fillStyle="#ff5108",e.ctx.fill();var t=this.game.add.bitmapData(16,128,"intro_background",!0),a=t.ctx.createLinearGradient(0,0,0,128);a.addColorStop(0,"#11c0e9"),a.addColorStop(1,"#6fbe4d"),t.ctx.fillStyle=a,t.ctx.fillRect(0,0,16,128),(t=this.game.add.bitmapData(64,64,"black_square",!0)).ctx.beginPath(),t.ctx.rect(0,0,64,64),t.ctx.fillStyle="#000000",t.ctx.fill(),(t=this.game.add.bitmapData(16,16,"white_square",!0)).ctx.beginPath(),t.ctx.rect(0,0,16,16),t.ctx.fillStyle="#ffffff",t.ctx.fill(),(t=this.game.add.bitmapData(16,16,"green_square",!0)).ctx.beginPath(),t.ctx.rect(0,0,16,16),t.ctx.fillStyle="#2a8d1f",t.ctx.fill(),(a=(t=this.game.add.bitmapData(16,64,"dark_gradient",!0)).ctx.createLinearGradient(0,0,0,64)).addColorStop(0,"#283939"),a.addColorStop(1,"#000000"),t.ctx.fillStyle=a,t.ctx.fillRect(0,0,16,64),(a=(t=this.game.add.bitmapData(16,128,"penalty_curtain_gradient",!0)).ctx.createLinearGradient(0,0,0,128)).addColorStop(0,"#303a3b"),a.addColorStop(1,"#121a1b"),t.ctx.fillStyle=a,t.ctx.fillRect(0,0,16,128)},t}(Phaser.State);a.PreLoader=e}(FootChinko||(FootChinko={})),function(n){var e=function(s){function e(e){var t=s.call(this,e,null,"game-title",!1)||this;t.y=150,t.scale.y=n.GameVars.scaleY;var a=new Phaser.Image(t.game,n.GameConstants.GAME_WIDTH/2,15,"texture_atlas_2","splash_glow");return a.anchor.set(.5),t.add(a),t.trophies=new Phaser.Image(t.game,n.GameConstants.GAME_WIDTH/2,0,"texture_atlas_2","title_trophies"),t.trophies.anchor.set(.5),t.trophies.visible=!1,t.add(t.trophies),t.trophiesWithBlending=new Phaser.Image(t.game,n.GameConstants.GAME_WIDTH/2,0,"texture_atlas_2","title_trophies"),t.trophiesWithBlending.anchor.set(.5),t.trophiesWithBlending.visible=!1,t.add(t.trophiesWithBlending),t.whiteTrophies=new Phaser.Image(t.game,n.GameConstants.GAME_WIDTH/2,0,"texture_atlas_2","title_trophies_white"),t.whiteTrophies.anchor.setTo(.5),t.whiteTrophies.visible=!1,t.add(t.whiteTrophies),t.foot=new Phaser.Image(t.game,-420,-10,"texture_atlas_2","foot"),t.foot.anchor.set(.5),t.add(t.foot),t.chinko=new Phaser.Image(t.game,1050,100,"texture_atlas_2","chinko"),t.chinko.anchor.setTo(.5),t.add(t.chinko),t}return __extends(e,s),e.prototype.startAnimation=function(){this.game.add.tween(this.foot).to({x:n.GameConstants.GAME_WIDTH/2},650,Phaser.Easing.Bounce.Out,!0,1700),this.game.add.tween(this.chinko).to({x:n.GameConstants.GAME_WIDTH/2},650,Phaser.Easing.Bounce.Out,!0,1700).onComplete.add(this.showTrophies,this),this.game.time.events.add(1850,this.startSoundtrack,this)},e.prototype.startSoundtrack=function(){e.soundtrackActivated||(e.soundtrackActivated=!0,n.AudioManager.getInstance().playMusic(SoundTrack.MENUS))},e.prototype.showTrophies=function(){this.whiteTrophies.visible=!0,this.whiteTrophies.alpha=.5,this.whiteTrophies.scale.set(0),this.trophiesWithBlending.visible=!0,this.trophiesWithBlending.blendMode=3,this.trophiesWithBlending.scale.set(0),this.game.add.tween(this.trophiesWithBlending.scale).to({x:1,y:1},650,Phaser.Easing.Quadratic.Out,!0,650).onComplete.add(this.onWhiteTrophiesAnimationFinished,this),this.game.add.tween(this.whiteTrophies.scale).to({x:1,y:1},500,Phaser.Easing.Quadratic.Out,!0,650)},e.prototype.onWhiteTrophiesAnimationFinished=function(){this.game.add.tween(this.whiteTrophies).to({alpha:0},250,Phaser.Easing.Quadratic.In,!0).onComplete.add(this.onAnimationFinished,this)},e.prototype.onAnimationFinished=function(){this.whiteTrophies.destroy(),this.trophies.visible=!0,this.game.add.tween(this.trophiesWithBlending).to({alpha:0},500,Phaser.Easing.Quadratic.Out,!0).onComplete.add(function(){this.trophiesWithBlending.destroy()},this),n.SplashState.currentInstance.showButtons()},e}(Phaser.Group);e.soundtrackActivated=!1,n.GameTitle=e}(FootChinko||(FootChinko={})),function(a){var e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.create=function(){var e=(t.currentInstance=this).add.image(a.GameConstants.GAME_WIDTH/2,a.GameConstants.GAME_HEIGHT/2,"splash-background");e.anchor.set(.5),e.scale.y=a.GameVars.scaleY,this.confetti=new a.Confetti(this.game),this.add.existing(this.confetti.backgroundConfettiContainer),this.add.existing(this.confetti.foregroundConfettiContainer),this.add.image(500,350,"texture_atlas_2","splash_pato"),this.add.image(15,686,"texture_atlas_2","splash_messi").scale.y=a.GameVars.scaleY,this.gameTitle=new a.GameTitle(this.game),this.add.existing(this.gameTitle),this.playButton=this.add.button(670,910,"texture_atlas_5",this.onClickPlay,this),this.playButton.setFrames("play_button_on","play_button_off","play_button_on"),this.playButton.scale.set(0),this.playButton.anchor.set(.5),this.addAudioButtons(),this.creditsButton=this.add.button(690,35,"texture_atlas_5",this.onClickCredits,this),this.creditsButton.setFrames("credits_on","credits_off","credits_on"),this.creditsButton.anchor.setTo(.5),this.creditsButton.scale.setTo(0,1),this.statsButton=this.add.button(690,95*a.GameVars.scaleY,"texture_atlas_5",this.onClickStats,this),this.statsButton.setFrames("stats_on","stats_off","stats_on"),this.statsButton.anchor.set(.5),this.statsButton.scale.setTo(0),this.fadeInLayer=this.add.sprite(0,0,this.game.cache.getBitmapData("intro_background")),this.fadeInLayer.scale.set(48,16),this.add.tween(this.fadeInLayer).to({alpha:0},1100,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.fadeInLayer.destroy()},this),this.game.time.events.add(500,this.showTitle,this),this.game.time.events.add(1750,function(){this.confetti.activate()},this)},t.prototype.shutdown=function(){t.currentInstance=null,this.confetti=null,e.prototype.shutdown.call(this)},t.prototype.update=function(){this.confetti.update()},t.prototype.showButtons=function(){this.game.add.tween(this.playButton.scale).to({x:1,y:a.GameVars.scaleY},700,Phaser.Easing.Elastic.Out,!0,100).onComplete.add(this.startPlayButtonAnimation,this),this.game.add.tween(this.statsButton.scale).to({x:1,y:a.GameVars.scaleY},600,Phaser.Easing.Bounce.Out,!0,900),this.creditsButton&&this.game.add.tween(this.creditsButton.scale).to({x:1,y:a.GameVars.scaleY},600,Phaser.Easing.Bounce.Out,!0,800),this.game.add.tween(this.musicOnButton.scale).to({x:1,y:a.GameVars.scaleY},600,Phaser.Easing.Bounce.Out,!0,1e3),this.game.add.tween(this.musicOffButton.scale).to({x:1,y:a.GameVars.scaleY},600,Phaser.Easing.Bounce.Out,!0,1e3),this.game.add.tween(this.fxOnButton.scale).to({x:1,y:a.GameVars.scaleY},600,Phaser.Easing.Bounce.Out,!0,1100),this.game.add.tween(this.fxOffButton.scale).to({x:1,y:a.GameVars.scaleY},600,Phaser.Easing.Bounce.Out,!0,1100)},t.prototype.goToScene=function(e){this.fadeInLayer=this.add.sprite(0,0,this.game.cache.getBitmapData("black_square")),this.fadeInLayer.scale.set(12,16),this.fadeInLayer.alpha=0,this.add.tween(this.fadeInLayer).to({alpha:1},700,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.game.state.start(e,!0,!1)},this)},t.prototype.addAudioButtons=function(){this.musicOnButton=this.add.button(724,160*a.GameVars.scaleY,"texture_atlas_5",this.onClickMusicOn,this,1,0,1),this.musicOnButton.setFrames("music_on_button_on","music_on_button_off","music_on_button_on","music_on_button_off"),this.musicOnButton.anchor.setTo(.5),this.musicOnButton.scale.setTo(1,0),this.musicOffButton=this.add.button(724,160*a.GameVars.scaleY,"texture_atlas_5",this.onClickMusicOff,this,1,0,1),this.musicOffButton.setFrames("music_off_button_on","music_off_button_off","music_off_button_on","music_off_button_off"),this.musicOffButton.anchor.setTo(.5),this.musicOffButton.scale.setTo(1,0),a.AudioManager.getInstance().isMusicMuted?this.musicOnButton.visible=!1:this.musicOffButton.visible=!1,this.fxOnButton=this.add.button(724,232*a.GameVars.scaleY,"texture_atlas_5",this.onClickFxOn,this,1,0,1),this.fxOnButton.setFrames("fx_button_on_on","fx_button_on_off","fx_button_on_on","fx_button_on_off"),this.fxOnButton.anchor.setTo(.5),this.fxOnButton.scale.setTo(1,0),this.fxOffButton=this.add.button(724,232*a.GameVars.scaleY,"texture_atlas_5",this.onClickFxOff,this,1,0,1),this.fxOffButton.setFrames("fx_button_off_on","fx_button_off_off","fx_button_off_on","fx_button_off_off"),this.fxOffButton.anchor.setTo(.5),this.fxOffButton.scale.setTo(1,0),a.AudioManager.getInstance().areEffectsMuted?this.fxOnButton.visible=!1:this.fxOffButton.visible=!1,a.AudioManager.getInstance().musicOnButton=this.musicOnButton,a.AudioManager.getInstance().musicOffButton=this.musicOffButton,a.AudioManager.getInstance().fxOnButton=this.fxOnButton,a.AudioManager.getInstance().fxOffButton=this.fxOffButton},t.prototype.startPlayButtonAnimation=function(){var e=this.game.add.tween(this.playButton.scale);e.to({x:1.05,y:.95*a.GameVars.scaleY},300,Phaser.Easing.Linear.None,!1),e.delay(50),e.to({x:.95,y:1.05*a.GameVars.scaleY},700,Phaser.Easing.Elastic.Out),e.loop(),e.start()},t.prototype.showTitle=function(){this.gameTitle.startAnimation()},t.prototype.onClickMusicOn=function(){this.musicOnButton.visible=!1,this.musicOffButton.visible=!0,a.GameManager.changeAudioPreferences(a.AudioButtonsContainer.MUSIC_ON)},t.prototype.onClickMusicOff=function(){this.musicOnButton.visible=!0,this.musicOffButton.visible=!1,a.GameManager.changeAudioPreferences(a.AudioButtonsContainer.MUSIC_OFF)},t.prototype.onClickFxOn=function(){this.fxOnButton.visible=!1,this.fxOffButton.visible=!0,a.GameManager.changeAudioPreferences(a.AudioButtonsContainer.EFFECTS_ON)},t.prototype.onClickFxOff=function(){this.fxOnButton.visible=!0,this.fxOffButton.visible=!1,a.GameManager.changeAudioPreferences(a.AudioButtonsContainer.EFFECTS_OFF)},t.prototype.onClickPlay=function(){a.GameManager.newGame(),a.AudioManager.getInstance().playEffect("play")},t.prototype.onClickCredits=function(){a.AudioManager.getInstance().playEffect("play"),this.goToScene("CreditsState")},t.prototype.onClickStats=function(){a.AudioManager.getInstance().playEffect("play"),this.goToScene("StatsState")},t}(Phaser.State);a.SplashState=e}(FootChinko||(FootChinko={})),function(l){var e=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return __extends(r,e),r.prototype.create=function(){var e=(r.currentInstance=this).add.image(l.GameConstants.GAME_WIDTH/2,l.GameConstants.GAME_HEIGHT/2,"lawn-background");e.anchor.set(.5),e.scale.setTo(1.65,1.65*l.GameVars.scaleY);var t=this.add.button(90,l.GameConstants.GAME_HEIGHT-130*l.GameVars.scaleY,"texture_atlas_5",this.onClickBackButton,this,1,0,1);t.setFrames("exit_button_on","exit_button_off","exit_button_on"),t.anchor.set(.5),t.scale.y=l.GameVars.scaleY;var a=this.add.group();a.scale.y=l.GameVars.scaleY;var s=new l.RectangleWithRadius(this.game,70,20,l.GameConstants.GAME_WIDTH-140,715,40,"#ffffff",.35,null,3);a.add(s);var n=new Phaser.Sprite(this.game,0,60,this.game.cache.getBitmapData("dark_gradient"));n.scale.setTo(58,1.7),a.add(n);var i=new Phaser.Text(this.game,135,78," GAME STATS ",{font:"85px whoopass",fill:"#DAE9E9"});a.add(i);var o=new Phaser.Sprite(this.game,70,250,this.game.cache.getBitmapData("white_square"));o.scale.setTo(39.25,5),o.alpha=.3,a.add(o),(o=new Phaser.Sprite(this.game,70,410,this.game.cache.getBitmapData("white_square"))).scale.setTo(39.25,5),o.alpha=.3,a.add(o),(o=new Phaser.Sprite(this.game,70,570,this.game.cache.getBitmapData("white_square"))).scale.setTo(39.25,5),o.alpha=.3,a.add(o),this.addDataLabels(a),this.add.text(680,l.GameConstants.GAME_HEIGHT-50*l.GameVars.scaleY,"V"+l.GameConstants.VERSION,{font:"35px Ubuntu Condensed",fill:"#000000"}).scale.y=l.GameVars.scaleY,this.game.camera.flash(0,250)},r.prototype.shutdown=function(){r.currentInstance=null,e.prototype.shutdown.call(this)},r.prototype.onClickBackButton=function(){this.game.state.start("SplashState",!0,!1),l.AudioManager.getInstance().playEffect("play")},r.prototype.addDataLabels=function(e){var t,a=l.GameVars.gameData.statsData.scoredGoals.toString(),s=l.GameVars.gameData.statsData.scoredPenalties.toString(),n=l.GameVars.gameData.statsData.matchesWon.toString(),i=l.GameVars.gameData.statsData.matchesPlayed.toString();0<l.GameVars.gameData.statsData.matchesPlayed?t=Math.floor(100*l.GameVars.gameData.statsData.matchesWon/l.GameVars.gameData.statsData.matchesPlayed).toString()+" %":t="-";var o=new Phaser.Text(this.game,95,252,"SCORED GOALS:",{font:"60px Ubuntu Condensed",fill:"#000000"});o.scale.x=.8,e.add(o),(o=new Phaser.Text(this.game,555,252,a,{font:"60px Ubuntu Condensed",fill:"#000000"})).scale.x=.8,e.add(o),(o=new Phaser.Text(this.game,95,332,"SCORED PENALTIES:",{font:"60px Ubuntu Condensed",fill:"#000000"})).scale.x=.8,e.add(o),(o=new Phaser.Text(this.game,555,332,s,{font:"60px Ubuntu Condensed",fill:"#000000"})).scale.x=.8,e.add(o),(o=new Phaser.Text(this.game,95,412,"MATCHES WON:",{font:"60px Ubuntu Condensed",fill:"#000000"})).scale.x=.8,e.add(o),(o=new Phaser.Text(this.game,555,412,n,{font:"60px Ubuntu Condensed",fill:"#000000"})).scale.x=.8,e.add(o),(o=new Phaser.Text(this.game,95,492,"MATCHES PLAYED:",{font:"60px Ubuntu Condensed",fill:"#000000"})).scale.x=.8,e.add(o),(o=new Phaser.Text(this.game,555,492,i,{font:"60px Ubuntu Condensed",fill:"#000000"})).scale.x=.8,e.add(o),(o=new Phaser.Text(this.game,95,572,"WINNING PERCENTAGE:",{font:"60px Ubuntu Condensed",fill:"#000000"})).scale.x=.8,e.add(o),(o=new Phaser.Text(this.game,555,572,t,{font:"60px Ubuntu Condensed",fill:"#000000"})).scale.x=.8,e.add(o),(o=new Phaser.Text(this.game,95,652,"TROPHIES WON:",{font:"60px Ubuntu Condensed",fill:"#000000"})).scale.x=.8,e.add(o),(o=new Phaser.Text(this.game,555,652,l.GameVars.getAchievedTrophies().toString(),{font:"60px Ubuntu Condensed",fill:"#000000",align:"center"})).scale.x=.8,e.add(o)},r}(Phaser.State);l.StatsState=e}(FootChinko||(FootChinko={})),function(i){var e=function(n){function e(e,t){var a=n.call(this,e,null,"team_button",!1)||this;a.scale.y=i.GameVars.scaleY,a.teamName=t.name,a.tournaments=t.tournaments;var s="seleccion_"+i.GameVars.formatNumberForTextureAtlas(t.id);return a.buttonImage=new Phaser.Image(a.game,0,0,"texture_atlas_5",s),a.buttonImage.alpha=.4,a.buttonImage.anchor.set(.5),a.add(a.buttonImage),a.teamNameLabel=new Phaser.Text(a.game,0,53,t.name,{font:"26px Ubuntu Condensed",fill:"#000000",align:"center"}),a.teamNameLabel.scale.set(.8,1),a.teamNameLabel.anchor.x=.5,a.teamNameLabel.alpha=.5,a.add(a.teamNameLabel),a}return __extends(e,n),e.prototype.activate=function(){this.buttonImage.inputEnabled=!0,this.buttonImage.events.onInputDown.add(this.onClickButton,this),this.buttonImage.events.onInputOver.add(this.onOver,this),this.buttonImage.events.onInputOut.add(this.onOut,this),this.teamNameLabel.alpha=1,this.buttonImage.alpha=1,this.buttonImage.scale.set(1.1)},e.prototype.onOver=function(){this.buttonImage.scale.set(1.15)},e.prototype.onOut=function(){this.buttonImage.scale.set(1)},e.prototype.onClickButton=function(){i.GameManager.onTeamSelected(this.teamName),i.AudioManager.getInstance().playEffect("play")},e}(Phaser.Group);i.TeamButton=e}(FootChinko||(FootChinko={})),function(h){var e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.create=function(){var e=(t.currentInstance=this).add.image(0,0,"lawn-background");e.scale.setTo(1.65,1.65*h.GameVars.scaleY),e.anchor.setTo(.5,0),e.x=h.GameConstants.GAME_WIDTH/2,e.y=-320,this.addTeamsButtons(h.GameVars.currentTournamentName)},t.prototype.shutdown=function(){t.currentInstance=null,e.prototype.shutdown.call(this)},t.prototype.addTeamsButtons=function(e){var t,a,s=0,n=0;h.GameConstants.SPONSOR===h.GameConstants.AZOMEE?(t=130,a=132):(t=70,a=139);for(var i=0;i<h.GameVars.teamsData.length;i++){var o=h.GameVars.teamsData[i];if(o.selectable){var r=new h.TeamButton(this.game,o);r.x=125*s+75,r.y=n*a+t,this.add.existing(r);for(var l=0;l<o.tournaments.length;l++)if(o.tournaments[l]===e){r.activate(),r.currentTournament=e;break}s<5?s++:(s=0,n++)}}},t}(Phaser.State);h.TeamSelectionState=e}(FootChinko||(FootChinko={})),function(r){var e=function(o){function e(e,t,a,s){var n=o.call(this,e,null,"hand-icon",!1)||this;n.scale.y=r.GameVars.scaleY;var i=e.add.bitmapData(50,50);return i.ctx.beginPath(),i.ctx.arc(25,25,25,0,2*Math.PI),i.ctx.fillStyle="#ffffff",i.ctx.fill(),n.circle=new Phaser.Sprite(n.game,t,a,i),n.circle.anchor.set(.5),n.circle.alpha=.5,n.circle.visible=!1,n.add(n.circle),n.handIconImage=new Phaser.Image(n.game,t,a,s,"hand-icon"),n.handIconImage.anchor.set(.15,.1),n.add(n.handIconImage),n}return __extends(e,o),e.prototype.click=function(){this.game.add.tween(this.handIconImage.scale).to({x:.9,y:.9},350,Phaser.Easing.Cubic.Out,!0,750).onComplete.add(this.showCircle,this)},e.prototype.showCircle=function(){this.handIconImage.scale.setTo(1,1),this.circle.visible=!0,this.game.add.tween(this.circle.scale).to({x:1.5,y:1.5},300,Phaser.Easing.Elastic.Out,!0).onComplete.add(function(){this.circle.visible=!1},this),this.game.time.events.add(1500,this.removeHandIcon,this)},e.prototype.removeHandIcon=function(){this.game.add.tween(this.handIconImage).to({alpha:0},750,Phaser.Easing.Cubic.Out,!0).onComplete.add(function(){this.destroy()},this)},e}(Phaser.Group);r.HandIcon=e}(FootChinko||(FootChinko={})),function(e){var t=function(y){function _(e,t,a,s,n,i,o,r,l,h){var c=y.call(this,e,null,"rectangle_with_radius",!1)||this;null==l&&(l=_.NORMAL_CONFIGURATION),null==h&&(h=0);var d=0;l===_.BOTTOM_CONFIGURATION&&(d=-i);var m=c.game.add.bitmapData(100,100);m.ctx.beginPath(),m.ctx.rect(0,0,100,100),m.ctx.fillStyle=o,m.ctx.fill();var u=new Phaser.Sprite(e,t+i,a+i+d,m);u.scale.setTo((s-2*i)/100,(n-2*i)/100),u.alpha=r,u.blendMode=h,c.add(u),l!==_.NORMAL_CONFIGURATION&&l!==_.TOP_CONFIGURATION||((u=new Phaser.Sprite(e,t+i,a,m)).scale.setTo((s-2*i)/100,i/100+d),u.alpha=r,u.blendMode=h,c.add(u)),(u=new Phaser.Sprite(e,t+s-i,a+i+d,m)).scale.setTo(i/100,(n-2*i)/100),u.alpha=r,u.blendMode=h,c.add(u),l!==_.NORMAL_CONFIGURATION&&l!==_.BOTTOM_CONFIGURATION||((u=new Phaser.Sprite(e,t+i,a+n-i+d,m)).scale.setTo((s-2*i)/100,i/100),u.alpha=r,u.blendMode=h,c.add(u)),(u=new Phaser.Sprite(e,t,a+i+d,m)).scale.setTo(i/100,(n-2*i)/100),u.alpha=r,u.blendMode=h,c.add(u);var p,g=e.add.bitmapData(i,i);return g.ctx.beginPath(),g.ctx.arc(0,0,i,0,Math.PI),g.ctx.fillStyle=o,g.ctx.fill(),l!==_.NORMAL_CONFIGURATION&&l!==_.TOP_CONFIGURATION||((p=new Phaser.Sprite(e,t+i,a+i+d,g)).alpha=r,p.angle=180,p.blendMode=h,c.add(p),(p=new Phaser.Sprite(e,t+s-i,a+i+d,g)).alpha=r,p.angle=270,p.blendMode=h,c.add(p)),l!==_.NORMAL_CONFIGURATION&&l!==_.BOTTOM_CONFIGURATION||((p=new Phaser.Sprite(e,t+i,a+n-i+d,g)).alpha=r,p.angle=90,p.blendMode=h,c.add(p),(p=new Phaser.Sprite(e,t+s-i,a+n-i+d,g)).alpha=r,p.angle=0,p.blendMode=h,c.add(p)),c}return __extends(_,y),_}(Phaser.Group);t.TOP_CONFIGURATION="top",t.BOTTOM_CONFIGURATION="botton",t.NORMAL_CONFIGURATION="normal",e.RectangleWithRadius=t}(FootChinko||(FootChinko={}));